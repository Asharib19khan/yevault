<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YE VAULT</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Palette */
            --bg-dark: #09090b;
            --bg-card: #18181b;
            --bg-glass: rgba(24, 24, 27, 0.85);
            
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;

            --brand-primary: #8b5cf6;
            --brand-glow: #a78bfa;
            
            --border-subtle: rgba(255, 255, 255, 0.08);
            --glass-blur: blur(20px);
            
            --font-display: 'Outfit', sans-serif;
            --font-body: 'Plus Jakarta Sans', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        body {
            font-family: var(--font-body);
            background-color: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            overflow: hidden;
            height: 100vh;
        }

        /* --- Animations --- */
        .bg-blobs { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; pointer-events: none; }
        .blob { position: absolute; width: 60vw; height: 60vw; border-radius: 50%; filter: blur(80px); opacity: 0.15; animation: float 20s infinite ease-in-out; }
        .blob-1 { background: var(--brand-primary); top: -20%; left: -20%; }
        .blob-2 { background: #06b6d4; bottom: -20%; right: -20%; animation-delay: -5s; }
        @keyframes float { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } }

        /* --- Layout --- */
        .app-layout { 
            display: flex; height: 100vh; max-width: 1920px; margin: 0 auto; 
            opacity: 0; pointer-events: none; transform: scale(0.95); transition: opacity 1s, transform 1s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .app-layout.visible { opacity: 1; pointer-events: all; transform: scale(1); }

        .sidebar { width: 280px; background: var(--bg-glass); -webkit-backdrop-filter: var(--glass-blur); backdrop-filter: var(--glass-blur); border-right: 1px solid var(--border-subtle); display: flex; flex-direction: column; padding: 2rem; z-index: 50; }
        
        /* --- AMBIENCE & PANIC CSS --- */
        .ambience-controls { display: flex; gap: 0.5rem; justify-content: center; margin-top: 1rem; }
        .panic-btn { 
            background: linear-gradient(135deg, #ef4444, #b91c1c); color: white; border: none; 
            padding: 0.8rem 1.5rem; border-radius: 0.75rem; font-weight: 700; cursor: pointer; 
            width: 100%; margin-top: 2rem; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
            animation: pulse-red 2s infinite; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
        }
        .panic-btn:hover { transform: scale(1.05); }
        @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }

        .cram-overlay {
            position: fixed; inset: 0; background: rgba(9, 9, 11, 0.95); z-index: 3000; /* High Z-Index */
            display: none; padding: 2rem; overflow-y: auto; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
        }
        .cram-paper {
            background: #fff; color: #000; max-width: 800px; margin: 0 auto; padding: 3rem;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.1); border-radius: 4px;
            font-family: 'Times New Roman', serif;
        }
        .cram-term { display: block; margin-bottom: 0.5rem; border-bottom: 1px dotted #ccc; padding-bottom: 0.2rem; }
        .cram-term strong { color: #d32f2f; }
        
        .main-viewport { flex: 1; padding: 2rem 3rem; overflow-y: auto; position: relative; scroll-behavior: smooth; }
        
        /* --- ENTRY PORTAL (The "Name Drop") --- */
        #entry-portal {
            position: fixed; inset: 0; z-index: 2000; background: var(--bg-dark);
            display: flex; align-items: center; justify-content: center; flex-direction: column;
            transition: opacity 1s, transform 1s;
        }
        .entry-container { text-align: center; }
        .entry-question { 
            font-family: var(--font-display); font-size: 2rem; color: var(--text-secondary); margin-bottom: 2rem; 
            opacity: 0; animation: fadeIn 1s 0.5s forwards;
        }
        .name-input {
            background: transparent; border: none; border-bottom: 2px solid var(--brand-primary); 
            font-family: var(--font-display); font-size: 4rem; color: white; text-align: center; 
            width: 100%; max-width: 600px; padding: 0.5rem; outline: none; margin-bottom: 2rem;
            opacity: 0; animation: fadeInUp 1s 1s forwards;
        }
        .name-input::placeholder { color: rgba(255,255,255,0.1); }
        .entry-btn {
            background: rgba(255,255,255,0.05); color: white; border: 1px solid var(--border-subtle); padding: 1rem 3rem; border-radius: 2rem;
            cursor: pointer; transition: 0.3s; opacity: 0; animation: fadeIn 1s 2s forwards;
        }
        .entry-btn:hover { background: var(--brand-primary); transform: scale(1.1); }

        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Components --- */
        .brand-logo { font-family: var(--font-display); font-size: 3rem; font-weight: 800; letter-spacing: -2px; margin-bottom: 3rem; color: white; }
        .brand-logo span { color: var(--brand-primary); }

        .nav-item { 
            display: flex; align-items: center; gap: 1rem; padding: 1rem 1.25rem; border-radius: 1rem; 
            cursor: pointer; color: var(--text-secondary); font-weight: 500; transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); 
            margin-bottom: 0.5rem; position: relative; overflow: hidden;
        }
        .nav-item:hover { 
            background: linear-gradient(90deg, rgba(255,255,255,0.03), transparent); 
            color: var(--text-primary); 
            transform: scale(1.02) translateX(4px);
        }
        .nav-item.active { 
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.15), transparent); 
            color: var(--brand-primary); 
            font-weight: 600; 
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.1);
            border-left: 3px solid var(--brand-primary);
        }

        .section-view { display: none; }
        .section-view.active { display: block; animation: fadeSlideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        @keyframes fadeSlideUp {
            0% { opacity: 0; transform: translateY(20px) scale(0.98); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 1.5rem; padding: 2rem; transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); cursor: pointer; height: 100%; }
        .card:hover { transform: translateY(-4px) scale(1.01); border-color: rgba(139, 92, 246, 0.4); box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
        
        .timer-widget { 
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1)); 
            border: 1px solid var(--border-subtle); border-radius: 1.5rem; padding: 2rem; 
            text-align: center; margin-bottom: 2rem; position: relative;
        }
        .timer-display { font-family: var(--font-display); font-size: 5rem; font-weight: 800; line-height: 1; margin: 1rem 0; font-variant-numeric: tabular-nums; }
        .session-badge {
            background: rgba(16, 185, 129, 0.2); color: #10b981; padding: 0.5rem 1rem; border-radius: 2rem; font-weight: 600; font-size: 0.8rem;
            position: absolute; top: 1.5rem; right: 1.5rem;
        }

        .btn { background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border-subtle); padding: 0.8rem 1.5rem; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn:hover { background: rgba(255,255,255,0.05); }
        .btn-primary { background: var(--brand-primary); border: none; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3); }
        .btn-primary:hover { background: #7c3aed; }

        .tag { font-size: 0.75rem; font-weight: 600; padding: 0.25rem 0.75rem; border-radius: 100px; text-transform: uppercase; letter-spacing: 0.5px; display: inline-block; margin-bottom: 0.5rem; }
        .tag.purple { background: rgba(139, 92, 246, 0.15); color: #a78bfa; }
        .tag.cyan { background: #06b6d426; color: #22d3ee; }

        /* Note Detail Pro */
        .detail-view { background: var(--bg-card); border-radius: 1.5rem; padding: 3rem; border: 1px solid var(--border-subtle); display: none; max-width: 900px; margin: 0 auto; }
        .detail-content h3 { font-family: var(--font-display); color: var(--brand-primary); margin-top: 2.5rem; margin-bottom: 1rem; font-size: 1.5rem; border-bottom: 1px solid var(--border-subtle); padding-bottom: 0.5rem; }
        .detail-content h4 { color: white; margin-top: 1.5rem; margin-bottom: 0.5rem; font-size: 1.2rem; }
        .detail-content p { margin-bottom: 1rem; color: var(--text-secondary); font-size: 1.05rem; }
        .detail-content ul, .detail-content ol { margin-bottom: 1.5rem; padding-left: 1.5rem; color: var(--text-secondary); }
        .detail-content li { margin-bottom: 0.5rem; }
        .mnemonic-box { background: rgba(245, 158, 11, 0.1); border-left: 4px solid #f59e0b; padding: 1.5rem; margin: 2rem 0; border-radius: 0 1rem 1rem 0; font-size: 1.1rem; }
        .tip-box { background: rgba(16, 185, 129, 0.1); border-left: 4px solid #10b981; padding: 1.5rem; margin: 2rem 0; border-radius: 0 1rem 1rem 0; font-size: 1.1rem; }

        /* Simple Flashcard CSS (preserved) */
        .flashcard-stage { perspective: 1200px; height: 400px; display: flex; align-items: center; justify-content: center; flex-direction: column; }
        .flashcard { width: 100%; max-width: 600px; height: 320px; position: relative; transform-style: preserve-3d; transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; }
        .flashcard.flipped { transform: rotateY(180deg); }
        .face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .face.back { transform: rotateY(180deg); background: radial-gradient(circle at top, rgba(6, 182, 212, 0.1), transparent), var(--bg-card); border-color: #06b6d4; }
        
        /* Quiz CSS (preserved) */
        .quiz-opt { width: 100%; padding: 1.25rem; margin-top: 0.75rem; background: rgba(255,255,255,0.03); border: 1px solid var(--border-subtle); border-radius: 0.75rem; color: var(--text-secondary); text-align: left; cursor: pointer; transition: 0.2s; font-size: 1rem; }
        .quiz-opt:hover { background: rgba(255,255,255,0.06); padding-left: 1.5rem; }
        .quiz-opt.correct { border-color: #10b981; color: #10b981; background: rgba(16, 185, 129, 0.1); }
        .quiz-opt.wrong { border-color: #f43f5e; color: #f43f5e; background: rgba(244, 63, 94, 0.1); }


        /* --- MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            body { overflow-y: auto; height: auto; } /* Allow native scroll on mobile logic */
            .bg-blobs { position: fixed; } /* Keep blobs fixed */
            
            .app-layout { 
                flex-direction: column; 
                height: auto; 
                min-height: 100vh;
                width: 100%;
                overflow: visible !important;
            }

            /* HIDE SIDEBAR on Mobile, Move to Bottom Nav */
            .sidebar { 
                display: none; 
            }

            .main-viewport { 
                padding: 1rem 1rem 6rem 1rem; /* Extra bottom padding for nav */
                overflow: visible;
                height: auto;
                flex: none;
            }

            /* BOTTOM NAV BAR */
            .mobile-nav {
                display: flex !important;
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                background: rgba(24, 24, 27, 0.95);
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                border-top: 1px solid var(--border-subtle);
                padding: 0.8rem 1rem;
                justify-content: space-around;
                z-index: 1000;
                padding-bottom: max(0.8rem, env(safe-area-inset-bottom));
            }
            
            .mobile-nav-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0.3rem;
                color: var(--text-secondary);
                font-size: 0.7rem;
                font-weight: 600;
                cursor: pointer;
                opacity: 0.7;
                transition: 0.2s;
            }
            .mobile-nav-item.active { opacity: 1; color: var(--brand-primary); }
            .mobile-nav-icon { font-size: 1.2rem; margin-bottom: 2px; }

            /* TYPOGRAPHY SCALING */
            .brand-logo { font-size: 2rem; margin-bottom: 1rem; }
            .timer-display { font-size: 4rem; }
            h1 { font-size: 2rem !important; }
            .entry-question { font-size: 1.5rem; }
            .name-input { font-size: 2.5rem; }

            /* COMPONENT TWEAKS */
            .card { padding: 1.5rem; }
            
            /* RESPONSIVE TABLE (Cards) */
            table, thead, tbody, th, td, tr { display: block; }
            thead tr { position: absolute; top: -9999px; left: -9999px; }
            
            tr { 
                border: 1px solid var(--border-subtle); 
                border-radius: 1rem; 
                background: var(--bg-card) !important; 
                margin-bottom: 1rem; 
                padding: 1rem;
            }
            
            td { 
                border: none;
                position: relative;
                padding: 0.5rem 0 0.5rem 0 !important;
                padding-left: 40% !important; 
                text-align: right;
            }
            
            td:before { 
                position: absolute;
                top: 0.5rem;
                left: 0;
                width: 35%; 
                padding-right: 10px; 
                white-space: nowrap;
                content: attr(data-label);
                font-weight: 700;
                color: var(--text-muted);
                text-align: left;
                text-transform: uppercase;
                font-size: 0.75rem;
            }
            
            /* Remove weird rounding from table rows in card mode */
            td:first-child, td:last-child { border-radius: 0 !important; }

            /* Detail View */
            .detail-view { padding: 1.5rem; }
            .flashcard-stage { height: auto; min-height: 400px; }
            .flashcard { height: 400px; }

            /* Header adjustments */
            .section-view h1 { margin-top: 1rem; }
            #dashboard h1 br { display: none; }
            #live-clock { display: none; } /* Hide clock on mobile to save space */
        }
        
        .mobile-nav { display: none; } /* Hidden on desktop */
    </style>
</head>
<body>

    <div class="bg-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <!-- SOUND -->
    <audio id="timerSound" src="data:audio/mp3;base64,SUQzBAAAAAABAFRYWFgAAAASAAADbWFqb3JfYnJhbmQAZGFzaABUWFhYAAAAEQAAA21pbm9yX3ZlcnNpb24AMABUWFhYAAAAHAAAA2NvbXBhdGlibGVfYnJhbmRzAGlzbzZtcDQxAFRTU0UAAAAPAAADTGF2ZjU5LjI3LjEwMAAAAAAAAAAAAAAA//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlA=="></audio> 

    <!-- ENTRY PORTAL (The Minimalist Name Drop) -->
    <div id="entry-portal">
        <div class="entry-container">
            <h1 class="entry-question">Who is conquering Marketing today?</h1>
            <input type="text" id="name-input" class="name-input" placeholder="Type your Name" autocomplete="off">
            <button class="entry-btn" onclick="enterApp()">Let's Go</button>
        </div>
    </div>

    <!-- APP LAYOUT -->
    <div class="app-layout" id="app">
        <aside class="sidebar">
            <div class="brand-logo">YE <span>VAULT</span></div>
            <div class="nav-item active" onclick="nav('dashboard', this)">All roads lead to Rome</div>
            <div class="nav-item" onclick="nav('marketing-mgmt', this)">Marketing Management</div>
            <div style="margin-top:auto">
                <div class="nav-item" onclick="window.close()">Exit</div>
            </div>
        </aside>

        <!-- MOBILE BOTTOM NAV -->
        <nav class="mobile-nav">
            <div class="mobile-nav-item active" onclick="nav('dashboard', this)">
                <span class="mobile-nav-icon">üè†</span>
                <span>Home</span>
            </div>
            <div class="mobile-nav-item" onclick="nav('marketing-mgmt', this)">
                <span class="mobile-nav-icon">üìö</span>
                <span>Study</span>
            </div>
             <div class="mobile-nav-item" onclick="nav('notes', this)">
                <span class="mobile-nav-icon">üìù</span>
                <span>Notes</span>
            </div>
            <div class="mobile-nav-item" onclick="nav('flashcards', this)">
                <span class="mobile-nav-icon">‚ö°</span>
                <span>Cards</span>
            </div>
        </nav>

        <main class="main-viewport">
            
            <!-- DASHBOARD -->
            <section id="dashboard" class="section-view active" style="position:relative;">
                <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:2rem;">
                    <h1 style="font-family:var(--font-display); font-size:3rem; line-height:1.1;">Run the world, <br><span id="user-display" style="color:var(--brand-primary);">Future CEO</span>.</h1>
                    <div id="live-clock"></div>
                </div>
                
                <div class="timer-widget">
                    <p style="text-transform:uppercase; letter-spacing:2px; color:var(--brand-primary); font-weight:700;">Deep Work Zone</p>
                    <div class="session-badge">Sessions Today: <span id="session-count">0</span></div>
                    <div class="timer-display" id="timer">25:00</div>
                    <div style="display:flex; justify-content:center; gap:1rem; align-items:center;">
                        <button class="btn btn-primary" onclick="toggleTimer()" id="timerBtn">Start Focus</button>
                        <button class="btn" onclick="resetTimer()">Reset</button>
                        <button class="btn" style="padding:0.8rem;" onclick="toggleSound()" id="soundBtn">Sound: On</button>
                    </div>
                </div>

                <div class="card" style="margin-top:2rem; background:linear-gradient(145deg, rgba(24, 24, 27, 0.9), rgba(20, 20, 22, 0.95)); border:1px solid rgba(255,255,255,0.05);">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                        <h2 style="font-family:var(--font-display); font-size:1.5rem;">Exam Schedule</h2>
                        <span class="tag cyan" style="font-size:0.8rem; padding:0.4rem 1rem;">Finals 2025</span>
                    </div>
                    <div style="overflow-x:auto;">
                        <table style="width:100%; border-collapse:separate; border-spacing:0 1rem; color:var(--text-secondary); min-width:600px;">
                            <thead>
                                <tr style="text-align:left; color:var(--text-muted); font-size:0.9rem; text-transform:uppercase; letter-spacing:1px;">
                                    <th style="padding:0 1.5rem;">Date</th>
                                    <th style="padding:0 1.5rem;">Subject</th>
                                    <th style="padding:0 1.5rem;">Time</th>
                                    <th style="padding:0 1.5rem;">Time Left</th>
                                    <th style="padding:0 1.5rem;">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--text-primary); font-size:1.1rem;">Dec 16</strong> <span style="font-size:0.9rem; opacity:0.7;">Tue</span></td>
                                    <td style="padding:1.5rem;"><div style="color:var(--text-primary); font-weight:600;">Islamic Studies</div><div style="font-size:0.85rem; opacity:0.6;">FSMSS1007 ‚Ä¢ Room 297</div></td>
                                    <td style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td style="padding:1.5rem; font-weight:600; color:var(--brand-glow);" id="countdown-0">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--text-primary); font-size:1.1rem;">Dec 18</strong> <span style="font-size:0.9rem; opacity:0.7;">Thu</span></td>
                                    <td style="padding:1.5rem;"><div style="color:var(--text-primary); font-weight:600;">Fundamentals of Accounting</div><div style="font-size:0.85rem; opacity:0.6;">AF1001 ‚Ä¢ Room 319</div></td>
                                    <td style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td style="padding:1.5rem; font-weight:600; color:var(--brand-glow);" id="countdown-1">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:linear-gradient(90deg, rgba(139, 92, 246, 0.1), rgba(139, 92, 246, 0.05)); border:1px solid rgba(139, 92, 246, 0.2);">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--brand-primary); font-size:1.1rem;">Dec 22</strong> <span style="font-size:0.9rem; opacity:0.7; color:var(--brand-glow);">Mon</span></td>
                                    <td style="padding:1.5rem;"><div style="color:white; font-weight:700;">Marketing Management</div><div style="font-size:0.85rem; opacity:0.8; color:#ddd;">MG1002 ‚Ä¢ Room 259</div></td>
                                    <td style="padding:1.5rem; color:white;">09:00 - 12:00</td>
                                    <td style="padding:1.5rem; font-weight:600; color:white;" id="countdown-2">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;">
                                        <button class="btn btn-primary" style="padding:0.5rem 1.5rem; font-size:0.85rem; box-shadow:0 0 15px rgba(139, 92, 246, 0.4);" onclick="nav('marketing-mgmt', document.querySelectorAll('.nav-item')[1])">Deep Dive</button>
                                    </td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--text-primary); font-size:1.1rem;">Dec 24</strong> <span style="font-size:0.9rem; opacity:0.7;">Wed</span></td>
                                    <td style="padding:1.5rem;"><div style="color:var(--text-primary); font-weight:600;">English - I</div><div style="font-size:0.85rem; opacity:0.6;">SS1016 ‚Ä¢ Room 308</div></td>
                                    <td style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td style="padding:1.5rem; font-weight:600; color:var(--brand-glow);" id="countdown-3">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--text-primary); font-size:1.1rem;">Dec 26</strong> <span style="font-size:0.9rem; opacity:0.7;">Fri</span></td>
                                    <td style="padding:1.5rem;"><div style="color:var(--text-primary); font-weight:600;">IT in Business</div><div style="font-size:0.85rem; opacity:0.6;">CS1001 ‚Ä¢ Room 313</div></td>
                                    <td style="padding:1.5rem;">08:30 - 12:30</td>
                                    <td style="padding:1.5rem; font-weight:600; color:var(--brand-glow);" id="countdown-4">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong style="color:var(--text-primary); font-size:1.1rem;">Dec 30</strong> <span style="font-size:0.9rem; opacity:0.7;">Tue</span></td>
                                    <td style="padding:1.5rem;"><div style="color:var(--text-primary); font-weight:600;">Business Math ‚Äì I</div><div style="font-size:0.85rem; opacity:0.6;">MT1002 ‚Ä¢ Room 317</div></td>
                                    <td style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td style="padding:1.5rem; font-weight:600; color:var(--brand-glow);" id="countdown-5">--</td>
                                    <td style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- MARKETING MANAGEMENT HUB -->
            <section id="marketing-mgmt" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:2rem; font-size:3rem; color:var(--text-primary);">Marketing Management <span style="color:var(--brand-primary)">Suite</span></h1>
                <p style="margin-bottom:2rem; color:var(--text-secondary); max-width:600px;">Access your comprehensive toolkit for mastering the finals. Select a module below to begin deep work.</p>
                
                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:2rem;">
                    <!-- Notes Module -->
                    <div class="card" onclick="nav('notes')">
                        <span class="tag cyan">Core Material</span>
                        <h3>Smart Notes</h3>
                        <p>Access detailed summaries for Chapters 2, 7, 8, 9, 10, 11, 12. Includes mnemonic devices and exam tips.</p>
                    </div>

                    <!-- Flashcards Module -->
                    <div class="card" onclick="nav('flashcards')">
                        <span class="tag purple">Active Recall</span>
                        <h3>Flashcards</h3>
                        <p>Test your memory with 30+ high-yield terms and definitions. Flip to reveal.</p>
                    </div>

                    <!-- PESTLE Module -->
                    <div class="card" onclick="nav('pestle')">
                        <span class="tag">Case Application</span>
                        <h3>PESTLE Guide</h3>
                        <p>Starbucks Case Study analysis showing how to apply PESTLE frameworks in real exams.</p>
                    </div>

                    <!-- Quiz Module -->
                    <div class="card" onclick="nav('quiz')">
                        <span class="tag">Self-Test</span>
                        <h3>Quiz Mode</h3>
                        <p>Rapid-fire multiple choice questions to validate your retention of key concepts.</p>
                    </div>
                </div>
            </section>

            <!-- NOTES (Preserved) -->
            <section id="notes" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:2rem;">Master Notes</h1>
                <div id="notes-grid" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem;"></div>
                <div id="note-detail" class="detail-view">
                    <button class="btn" style="margin-bottom:2rem;" onclick="closeNote()">‚Üê Back to Chapters</button>
                    <div id="note-body" class="detail-content"></div>
                </div>
            </section>

            <!-- FLASHCARDS (Preserved) -->
            <section id="flashcards" class="section-view">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                    <h1 style="font-family:var(--font-display);">Flashcards</h1>
                    <select id="fc-filter" onchange="filterCards()" style="padding:0.5rem 1rem; border-radius:0.5rem; background:var(--bg-card); color:white; border:1px solid var(--border-subtle);">
                        <option value="all">All Chapters</option>
                        <option value="ch2">Ch 2: Segmentation</option>
                        <option value="ch7">Ch 7: Strategy</option>
                        <option value="ch8">Ch 8: Product</option>
                        <option value="ch9">Ch 9: PLC</option>
                        <option value="ch10">Ch 10: Pricing</option>
                        <option value="ch11">Ch 11: Tactics</option>
                        <option value="ch12">Ch 12: Place</option>
                    </select>
                </div>
                <div class="flashcard-stage">
                    <div class="flashcard" onclick="this.classList.toggle('flipped')">
                        <div class="face front">
                            <span class="tag purple" id="fc-tag">Tag</span>
                            <h2 id="fc-front" style="font-family:var(--font-display); font-size:1.8rem; padding:1rem;">Term</h2>
                            <p style="margin-top:1rem; color:var(--text-muted); font-size:0.8rem;">Click to Flip</p>
                        </div>
                        <div class="face back">
                            <h3 id="fc-back" style="font-weight:500;">Definition</h3>
                        </div>
                    </div>
                    <div style="margin-top:2rem; display:flex; gap:1rem;">
                        <button class="btn" onclick="moveCard(-1)">Previous</button>
                        <button class="btn btn-primary" onclick="moveCard(1)">Next Card</button>
                    </div>
                    <p style="margin-top:1rem; color:var(--text-muted);" id="fc-count">1 / 30</p>
                </div>
            </section>

            <!-- PESTLE & QUIZ (Preserved content) -->
            <section id="pestle" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:1rem;">PESTLE Masterclass</h1>
                 <div class="card" style="margin-bottom:2rem; background:rgba(139, 92, 246, 0.05); border-color:var(--brand-primary);">
                    <h2 style="font-family:var(--font-display); color:var(--brand-primary);">Start Here: How to do PESTLE</h2>
                    <p style="margin-top:0.5rem; color:var(--text-secondary);">PESTLE is a macro-environmental scanning tool. Do not analyze the company itself (Internal), analyze the **World** around it (External).</p>
                    <div style="margin-top:1rem; display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1rem;">
                        <div class="tip-box" style="margin:0;"><strong>Step 1:</strong> Identify Factors (Tax, Laws, Tech).</div>
                        <div class="tip-box" style="margin:0;"><strong>Step 2:</strong> Categorize them (P, E, S, T, L, E).</div>
                        <div class="tip-box" style="margin:0;"><strong>Step 3:</strong> Analyze Impact (Opp or Threat?).</div>
                    </div>
                </div>
                <h2 style="margin-bottom:1.5rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">The Starbucks Case Study</h2>
                
                <div class="card" style="margin-bottom:2rem; border:1px solid var(--border-subtle); background:rgba(255,255,255,0.02);">
                    <h3 style="color:white; margin-bottom:1rem; font-family:var(--font-display);">Case Context</h3>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">The first Starbucks was opened in Seattle, Washington in 1971 by three partners who were passionate about selling high quality beans and roasting equipment. However, it was only in the 1980s that they began selling coffee in the way we know it today. This shift is mainly due to the changing population, with more people working and needing quick and convenient and yet high-quality coffee. The coffee company pride themselves on selling coffee made from ethically sourced and high-quality beans, with their Espresso Roast being FairTrade certified, while the remainder of their products fall under their C.A.F.E practices (Coffee and Farmer Equity). This ensures that there are economic, social, environmental and quality requirements that all of their suppliers must uphold to.</p>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">Starbucks were one of the first firms to adopt mobile technology, creating an app in 2009 to allow customers to check the balance of their loyalty card, and in a select few stores, differentiated them in the market due to the Coronavirus outbreak, allowing customers to order and pay for their drinks without having to come into contact with an employee and adhere to social distancing measures. This mobile technology has also allowed them to collect large amounts of data on their customers, allowing them to track the drinks that they purchase and use that to recommend them products that they should purchase in the future.</p>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">However, it is not all smooth sailing with the firm having recently come under scrutiny for the amount of tax they are paying, having only paid ¬£4m worth of tax despite earning ¬£287m in revenues. Further to this, in 2018 a US employee won an Employment Tribunal, when suing the corporation for unpaid overtime. They came under even further scrutiny in that same year after pressure groups called for them to deliver their pledge to develop a recyclable coffee cup with a petition signed by nearly 900,000 people and protesters gathered at the company's Annual General Meeting.</p>
                    <p style="margin-bottom:0; color:var(--text-secondary); font-size:0.95rem;">More recently however, the pandemic has only quickened Starbucks' restructuring plans of moving away from traditional caf√©s and toward more drive throughs and online ordering. But like many businesses they have seen a significant decline in trade due to the virus and because of this many staff have seen a reduction in their hours. Although the governments Eat Out to Help Out scheme has been extremely effective in helping them build back up to their pre-lockdown level of sales. Starbucks have seen very similar patterns of trade in the past, for example the Brexit vote in 2016 caused consumer confidence to plummet and saw sales decline. This combined with slowing economic growth, correlated to a 61% reduction in UK pre-tax profits.</p>
                </div>

                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem;">
                     <div class="card" style="border-left:4px solid #ef4444;"> <h3 style="color:#ef4444;">1. Political</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Taxation:</strong> Starbucks faced massive criticism for paying only ¬£4M tax on ¬£387M revenue in UK.</p> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Trade:</strong> Brexit uncertainty affects import costs of coffee beans.</p> </div>
                     <div class="card" style="border-left:4px solid #f59e0b;"> <h3 style="color:#f59e0b;">2. Economic</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Recession:</strong> Coffee is a luxury. High inflation and recession reduce customers' disposable income.</p> </div>
                     <div class="card" style="border-left:4px solid #3b82f6;"> <h3 style="color:#3b82f6;">3. Social</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Conscious Consumers:</strong> Shift towards ethical sourcing (Fair Trade).</p> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Health Trends:</strong> Demand for oat milk, almond milk, and low-sugar options.</p> </div>
                     <div class="card" style="border-left:4px solid #8b5cf6;"> <h3 style="color:#8b5cf6;">4. Technological</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Mobile:</strong> The Starbucks App (Order & Pay) drives 25%+ of transactions.</p> </div>
                     <div class="card" style="border-left:4px solid #10b981;"> <h3 style="color:#10b981;">5. Legal</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Labor Laws:</strong> Minimum wage increases significantly impact operating costs.</p> </div>
                     <div class="card" style="border-left:4px solid #22d3ee;"> <h3 style="color:#22d3ee;">6. Environmental</h3> <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Waste:</strong> Massive pressure to ban plastic straws and single-use cups.</p> </div>
                </div>
            </section>
            
            <section id="quiz" class="section-view">
                 <div style="max-width:800px; margin:0 auto;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:2rem;">
                        <h1 style="font-family:var(--font-display);">Quiz Mode</h1>
                        <h2 style="color:var(--brand-primary);">Score: <span id="q-score">0</span></h2>
                    </div>
                    <div id="quiz-container" class="card">
                        <p id="q-progress" style="color:var(--text-muted); text-transform:uppercase; font-size:0.8rem; margin-bottom:1rem;">Question 1</p>
                        <h2 id="q-text" style="font-family:var(--font-display);">Loading...</h2>
                        <div id="q-options"></div>
                        <button id="q-next" class="btn btn-primary" style="margin-top:2rem; width:100%; display:none;" onclick="nextQ()">Next Question</button>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        // --- DATA (RETAINED FROM PREVIOUS) ---
        // (In a real app, I would import these, but keeping single file structure for you)
        // I will re-inject the expanded notes here to ensure nothing is lost.
        
        const notes = [
            {
                id: 'ch2', title: 'Ch 2: Company and Marketing Strategy', content: `
                <h3>Theme: Partnering to Build Customer Engagement, Value, and Relationships</h3>
                
                <h3>1. Strategic Planning</h3>
                <p>The process of developing and maintaining a strategic fit between the organizations goals/capabilities and its changing marketing opportunities.</p>
                <div class="tip-box">
                    <strong>The 4 Steps of Strategic Planning:</strong>
                    <ol>
                        <li><strong>Defining the Mission:</strong> What is our purpose?</li>
                        <li><strong>Setting Objectives:</strong> Turning the mission into detailed supporting objectives.</li>
                        <li><strong>Designing the Business Portfolio:</strong> Deciding which businesses to invest in.</li>
                        <li><strong>Planning Marketing Strategies:</strong> Detailed planning for each functional department.</li>
                    </ol>
                    <p>üí° <strong>Memory Tip:</strong> M-O-P-S (Mission, Objectives, Portfolio, Strategies).</p>
                </div>

                <h3>2. Mission Statement</h3>
                <p>A statement of the organizations purpose‚Äîwhat it wants to accomplish in the larger environment.</p>
                <h4>Product-Oriented vs. Market-Oriented Definitions:</h4>
                <ul>
                    <li><strong>Product-Oriented:</strong> "We sell coffee." (Starbucks)</li>
                    <li><strong>Market-Oriented:</strong> "We sell 'The Starbucks Experience'‚Äîone that enriches people's lives."</li>
                </ul>
                <p><em>Example:</em> Airbnb isnt just about renting rooms; their mission is "Belong Anywhere."</p>
                <p><em>Example:</em> CVS Health is a "pharmacy innovation company" helping people on their path to better health.</p>

                <h3>3. Business Portfolio Analysis (BCG Matrix)</h3>
                <p>Evaluates a company's Strategic Business Units (SBUs) based on Market Growth Rate and Relative Market Share.</p>
                <ul>
                    <li><strong>Stars:</strong> High growth, High share. (Need heavy investment to finance growth).</li>
                    <li><strong>Cash Cows:</strong> Low growth, High share. (Established, produce cash to pay bills).</li>
                    <li><strong>Question Marks:</strong> High growth, Low share. (Need cash to hold share; hard decision).</li>
                    <li><strong>Dogs:</strong> Low growth, Low share. (Generate enough cash to sustain themselves but no promise).</li>
                </ul>

                <h3>4. The Product/Market Expansion Grid (Growth Strategies)</h3>
                <p>How companies grow sales.</p>
                <ul>
                    <li><strong>Market Penetration:</strong> Existing products in Existing markets (e.g., selling more to current customers).</li>
                    <li><strong>Market Development:</strong> Existing products in New markets (e.g., Starbucks opening in a new country).</li>
                    <li><strong>Product Development:</strong> New products in Existing markets (e.g., Starbucks introducing a new seasonal drink).</li>
                    <li><strong>Diversification:</strong> New products in New markets (e.g., buying a non-food business).</li>
                </ul>

                <h3>5. Marketing Mix (The 4 Ps)</h3>
                <p>The set of tactical marketing tools the firm blends to produce the response it wants in the target market.</p>
                <ul>
                    <li><strong>Product:</strong> The goods/services offered (Variety, Design, Packaging).</li>
                    <li><strong>Price:</strong> Amount of money customers pay (List price, Discounts).</li>
                    <li><strong>Place:</strong> Company activities that make the product available (Channels, Logistics).</li>
                    <li><strong>Promotion:</strong> Activities that communicate value (Advertising, PR).</li>
                </ul>

                <h3>6. SWOT Analysis</h3>
                <ul>
                    <li><strong>Strengths (Internal):</strong> Capabilities, resources.</li>
                    <li><strong>Weaknesses (Internal):</strong> Limitations.</li>
                    <li><strong>Opportunities (External):</strong> Favorable trends.</li>
                    <li><strong>Threats (External):</strong> Unfavorable external factors.</li>
                </ul>

                <h3>7. Measuring Marketing ROI (The "Perfecting" Addition)</h3>
                <p><strong>Marketing ROI:</strong> Net return from a marketing investment divided by the costs of the marketing investment.</p>
                <ul>
                    <li><strong>Purpose:</strong> Measures the profits generated by investments in marketing activities.</li>
                    <li><strong>Measures:</strong> Standard measures (sales, market share) and Customer-centered measures (customer acquisition, retention, lifetime value).</li>
                </ul>
                `
            },
            {
                id: 'ch7', title: 'Ch 7: Customer Value-Driven Marketing Strategy', content: `
                <h3>Theme: Creating Value for Target Customers</h3>

                <h3>1. The Core Strategy Steps (STDP)</h3>
                <ul>
                    <li><strong>Segmentation:</strong> Divide the total market into smaller segments.</li>
                    <li><strong>Targeting:</strong> Select the segment or segments to enter.</li>
                    <li><strong>Differentiation:</strong> Differentiate the market offering to create superior customer value.</li>
                    <li><strong>Positioning:</strong> Position the market offering in the minds of target customers.</li>
                </ul>

                <h3>2. Market Segmentation Bases</h3>
                <p>How do we divide the market?</p>
                <ul>
                    <li><strong>Geographic:</strong> Nations, regions, states, cities (e.g., Target sells winter coats in NY, swimsuits in FL).</li>
                    <li><strong>Demographic:</strong> Age, gender, income, occupation.</li>
                    <li><strong>Psychographic:</strong> Social class, lifestyle, personality. <br><em>Example:</em> Rocky Mountain Tiny Houses targets the "simple living" lifestyle segment.</li>
                    <li><strong>Behavioral:</strong> Occasions, benefits sought, user status, usage rate. <br><em>Example:</em> Schwinn makes bikes for different benefits‚Äîmountain vs. road.</li>
                </ul>
                <div class="mnemonic-box">üí° <strong>Memory Tip:</strong> G-D-P-B (Good Dogs Play Ball) -> Geo, Demo, Psycho, Behavior.</div>

                <h3>3. Business & International Segmentation (The "Perfecting" Addition)</h3>
                <ul>
                    <li><strong>Business Markets:</strong> Segmented by operating characteristics, purchasing approaches, situational factors, and personal characteristics.</li>
                    <li><strong>Intermarket (Cross-Market) Segmentation:</strong> Forming segments of consumers who have similar needs/behaviors even though they are located in different countries. <br><em>Example:</em> Zara targets style-conscious but value-seeking consumers globally.</li>
                </ul>

                <h3>4. Requirements for Effective Segmentation</h3>
                <p>To be useful, segments must be:</p>
                <ul>
                    <li><strong>Measurable:</strong> Size and purchasing power can be measured.</li>
                    <li><strong>Accessible:</strong> Can be reached and served.</li>
                    <li><strong>Substantial:</strong> Large and profitable enough.</li>
                    <li><strong>Differentiable:</strong> Respond differently to different marketing elements.</li>
                    <li><strong>Actionable:</strong> Effective programs can be designed for them.</li>
                </ul>

                <h3>5. Market Targeting Strategies</h3>
                <ul>
                    <li><strong>Undifferentiated (Mass) Marketing:</strong> Target the whole market with one offer.</li>
                    <li><strong>Differentiated (Segmented) Marketing:</strong> Target several market segments with separate offers. <br><em>Example:</em> Marriott (IHG) has different brands like Holiday Inn vs. Hotel Indigo.</li>
                    <li><strong>Concentrated (Niche) Marketing:</strong> Large share of a small market. <br><em>Example:</em> American Giant focusing on made-in-USA apparel.</li>
                    <li><strong>Micromarketing:</strong> Tailoring products to specific individuals (Local marketing & Individual marketing). <br><em>Example:</em> FitMyFoot 3D prints footwear for individual feet.</li>
                </ul>

                <h3>6. Differentiation & Positioning</h3>
                <p><strong>Positioning:</strong> The place the product occupies in the consumer's mind relative to competitors.</p>
                <p><em>Example:</em> Land Rover positions itself on luxury + off-road performance.</p>
                <div class="tip-box"><strong>Socially Responsible Targeting:</strong> Marketers must consider if they are targeting vulnerable segments responsibly (e.g., not targeting kids with junk food).</div>
                `
            },
            {
                id: 'ch8', title: 'Ch 8: Products, Services, and Brands', content: `
                <h3>Theme: Building Customer Value</h3>

                <h3>1. What is a Product?</h3>
                <p>Anything offered to a market for attention, acquisition, use, or consumption.</p>
                <ul>
                    <li><strong>Service:</strong> Intangible product (banking, airline travel).</li>
                    <li><strong>Experience:</strong> Creating memorable events.</li>
                </ul>
                <p><em>Example:</em> Nike isn't just shoes; it's a "Just Do It" passion for sports.</p>
                <p><em>Example:</em> Airbnb "Night At" program (sleepover at Dracula's castle).</p>

                <h4>Three Levels of Product:</h4>
                <ol>
                    <li><strong>Core Customer Value:</strong> What is the buyer really buying? (e.g., An iPad is "entertainment").</li>
                    <li><strong>Actual Product:</strong> Brand name, features, design, packaging.</li>
                    <li><strong>Augmented Product:</strong> After-sale service, warranty, product support.</li>
                </ol>

                <h3>2. Consumer Product Classifications</h3>
                <ul>
                    <li><strong>Convenience:</strong> Frequent purchase, little effort (Toothpaste).</li>
                    <li><strong>Shopping:</strong> Less frequent, compares suitability/price (Furniture, Clothing).</li>
                    <li><strong>Specialty:</strong> Strong brand preference, little comparison, high price (Rolex, Crystal).</li>
                    <li><strong>Unsought:</strong> Consumer doesn't know about or doesn't normally think of buying (Life Insurance, Blood Donation).</li>
                </ul>
                <div class="mnemonic-box">üí° <strong>Memory Tip:</strong> C-S-S-U (Can Sam Sell Umbrellas?) -> Convenience, Shopping, Specialty, Unsought.</div>

                <h3>3. Industrial & Social Products (The "Perfecting" Addition)</h3>
                <ul>
                    <li><strong>Industrial Products:</strong> Purchased for further processing or for use in conducting a business (Materials and parts, Capital items, Supplies).</li>
                    <li><strong>Place Marketing:</strong> Changing attitudes toward particular places (e.g., Tourism boards).</li>
                    <li><strong>Social Marketing:</strong> Using marketing to improve individual/societal well-being. <br><em>Example:</em> "She Can STEM" campaign to encourage girls in science.</li>
                </ul>

                <h3>4. Product Decisions</h3>
                <p><strong>Individual Decisions:</strong> Attributes -> Branding -> Packaging -> Labeling -> Support Services.</p>
                
                <h4>Product Line</h4>
                <p>A group of closely related products.</p>
                <ul>
                    <li><strong>Line Filling:</strong> Adding more items within the present range.</li>
                    <li><strong>Line Stretching:</strong> Lengthening the product line beyond current range. <br><em>Example:</em> Google Nest stretching/filling to serve smart homes.</li>
                </ul>

                <h4>Product Mix</h4>
                <p>All product lines and items a seller offers. Dimensions: Width, Length, Depth, Consistency.</p>
                <p><em>Example:</em> Colgate-Palmolive "World of Care".</p>

                <h3>5. Services Marketing Characteristics</h3>
                <p>Services are different from physical goods because of four traits:</p>
                <ul>
                    <li><strong>Intangibility:</strong> Cannot be seen/felt before purchase.</li>
                    <li><strong>Inseparability:</strong> Produced and consumed at the same time.</li>
                    <li><strong>Variability:</strong> Quality depends on who provides it and when.</li>
                    <li><strong>Perishability:</strong> Cannot be stored for later sale.</li>
                </ul>
                <div class="mnemonic-box">üí° <strong>Memory Tip:</strong> VIIP -> Variability, Intangibility, Inseparability, Perishability.</div>

                <h3>6. Brand Strategy Decisions</h3>
                <p><strong>Brand Equity:</strong> The differential effect that knowing the brand name has on customer response.</p>
                
                <h4>Brand Sponsorship:</h4>
                <ul>
                    <li>National Brand (Samsung).</li>
                    <li>Private (Store) Brand (Kirkland/Costco).</li>
                    <li>Licensing (Disney characters on toothbrushes).</li>
                    <li>Co-branding (Two brands together).</li>
                </ul>

                <h4>Brand Development Strategies:</h4>
                <ul>
                    <li><strong>Line Extension:</strong> Existing Brand Name, Existing Product Category (e.g., New flavor of Coke).</li>
                    <li><strong>Brand Extension:</strong> Existing Brand Name, New Product Category (e.g., Mr. Clean car wash).</li>
                    <li><strong>Multibrands:</strong> New Brand Name, Existing Product Category (e.g., PepsiCo owns Pepsi, Mountain Dew).</li>
                    <li><strong>New Brands:</strong> New Brand Name, New Product Category.</li>
                </ul>
                `
            },
            {
                id: 'ch9', title: 'Ch 9: New Products & Product Life Cycle', content: `
                <h3>1. The Golden Rule of this Chapter</h3>
                <p><strong>Innovation is Survival.</strong></p>
                <p><strong>Fact:</strong> 60%‚Äì80% of new products fail.</p>
                <p><strong>The Solution:</strong> You need a system to innovate.</p>
                <p><em>Example:</em> Google (Alphabet) isn't just a search engine; it's a "Moonshot Factory" culture that accepts failure to find the next big thing.</p>

                <h3>2. The 8 Steps to Creating a New Product</h3>
                <div class="tip-box">
                    <strong>Must memorize this order:</strong>
                    <ol>
                        <li><strong>Idea Generation:</strong> Finding ideas (Internal R&D, Crowdsourcing).</li>
                        <li><strong>Idea Screening:</strong> R-W-W Rule (Real? Win? Worth?).</li>
                        <li><strong>Concept Development & Testing:</strong> Detailed version tested with consumers ("Would you buy this?").</li>
                        <li><strong>Marketing Strategy:</strong> Target market, price, budget.</li>
                        <li><strong>Business Analysis:</strong> Check the money (Sales vs Costs).</li>
                        <li><strong>Product Development:</strong> Building the physical prototype (Big money spent here, e.g., Pfizer COVID vaccine).</li>
                        <li><strong>Test Marketing:</strong> Standard (Real cities) vs Simulated (Online).</li>
                        <li><strong>Commercialization:</strong> Full launch (When and Where).</li>
                    </ol>
                    <p>üß† <strong>Mnemonic:</strong> I Saw Cats Marching Behind People Tasting Candy.</p>
                </div>

                <h3>3. The Product Life Cycle (PLC)</h3>
                <ul>
                    <li><strong>Stage 1: Introduction (The Baby):</strong> Low sales, negative profits. Goal: Awareness.</li>
                    <li><strong>Stage 2: Growth (The Teenager):</strong> Climbing sales, rising profits. Goal: Maximize Market Share.</li>
                    <li><strong>Stage 3: Maturity (The Adult):</strong> Peak sales, leveling profits. Goal: Defend profit (Modify product/marketing).</li>
                    <li><strong>Stage 4: Decline (The Senior):</strong> Falling sales. Strategy: Milk (cut costs) or Drop.</li>
                </ul>

                <h3>4. Vital Terms</h3>
                <ul>
                    <li><strong>Crowdsourcing:</strong> Asking the "crowd" for ideas.</li>
                    <li><strong>Standardization:</strong> Exact same product globally (iPhone).</li>
                    <li><strong>Adaptation:</strong> Modifying for local culture (McDonald's wine in France).</li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - If they ask about "Screening": Write <strong>R-W-W</strong>.<br>
                    - Introduction Stage Goal = <strong>AWARENESS</strong>.<br>
                    - Maturity Stage Goal = <strong>DEFENSE</strong>.
                </div>
                `
            },
            {
                id: 'ch10', title: 'Ch 10: Pricing ‚Äì Understanding Value', content: `
                <h3>1. The Golden Rule of this Chapter</h3>
                <p><strong>Price is the only "P" that brings in money.</strong> (Others are costs).</p>
                <p>You don't just set a number; you capture value.</p>
                <p><em>Example:</em> Peloton charges $1,745 for the "cult" and lifestyle, not just the bike.</p>

                <h3>2. The 3 Major Pricing Strategies</h3>
                <h4>Strategy 1: Customer Value-Based Pricing (The "Right" Way)</h4>
                <p>Start with the customer's perception of value.</p>
                <ul>
                    <li><strong>Good-Value Pricing:</strong> Fair quality at fair price (Aldi).</li>
                    <li><strong>Value-Added Pricing:</strong> Charging more for features/services (Peloton).</li>
                </ul>

                <h4>Strategy 2: Cost-Based Pricing (The "Math" Way)</h4>
                <p>Cost + Markup. Risk: Ignores demand.</p>
                <ul>
                    <li><strong>Cost-Plus:</strong> Cost + Markup.</li>
                    <li><strong>Break-Even:</strong> Price covers costs exactly (0 profit).</li>
                </ul>

                <h4>Strategy 3: Competition-Based Pricing (The "Follower" Way)</h4>
                <p>Look at competitors. More value? Higher price. Less value? Lower price.</p>

                <h3>3. Essential Cost Terms</h3>
                <ul>
                    <li><strong>Fixed Costs (Overhead):</strong> Stay same (Rent, Salaries). Memory: "The Factory".</li>
                    <li><strong>Variable Costs:</strong> Go up with volume (Materials). Memory: "The Volume".</li>
                    <li><strong>Total Costs:</strong> Fixed + Variable.</li>
                </ul>

                <h3>4. The Economics Stuff</h3>
                <ul>
                    <li><strong>Demand Curve:</strong> Price ‚¨ÜÔ∏è = Demand ‚¨áÔ∏è.</li>
                    <li><strong>Price Elasticity:</strong> Sensitivity to price.
                        <ul>
                            <li><strong>Inelastic:</strong> "Need it" (Gas).</li>
                            <li><strong>Elastic:</strong> "Too expensive, bye" (Vacation).</li>
                        </ul>
                    </li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - "Perception" = <strong>Value-Based</strong>.<br>
                    - "Markup" = <strong>Cost-Based</strong>.
                </div>
                `
            },
            {
                id: 'ch11', title: 'Ch 11: Pricing Strategies (Advanced)', content: `
                <h3>1. Pricing New Products</h3>
                <ul>
                    <li><strong>Market-Skimming:</strong> High initial price to "skim" revenue (Apple). Use when high quality/image.</li>
                    <li><strong>Market-Penetration:</strong> Low initial price to win share (Samsung/IKEA). Use when market is price-sensitive.</li>
                </ul>

                <h3>2. Product Mix Pricing</h3>
                <ul>
                    <li><strong>Product Line:</strong> Price steps (iPhone 14 vs Pro).</li>
                    <li><strong>Optional-Product:</strong> Main + Extras (Car + GPS).</li>
                    <li><strong>Captive-Product:</strong> Cheap main + Expensive supplies (Printer + Ink). Memory: "Trapped".</li>
                    <li><strong>By-Product:</strong> Selling waste (Sawdust).</li>
                    <li><strong>Product Bundle:</strong> Combo pack (McDonald's Meal).</li>
                </ul>

                <h3>3. Price Adjustment Strategies</h3>
                <ul>
                    <li><strong>Discount/Allowance:</strong> Cash discount, Trade-in.</li>
                    <li><strong>Segmented:</strong> Student/Senior discounts.</li>
                    <li><strong>Psychological:</strong> $100 perfume smells better than $10. Reference prices ("Was $100!").</li>
                    <li><strong>Promotional:</strong> Flash sales.</li>
                    <li><strong>Dynamic:</strong> Prices move with demand (Uber). Memory: "Movement".</li>
                </ul>

                <h3>4. Public Policy (The Illegal Stuff)</h3>
                <ul>
                    <li><strong>Price Fixing:</strong> Collusion with competitors.</li>
                    <li><strong>Predatory Pricing:</strong> Selling below cost to kill competition.</li>
                    <li><strong>Deceptive Pricing:</strong> Lying about original price.</li>
                </ul>
                `
            },
            {
                id: 'ch12', title: 'Ch 12: Marketing Channels ‚Äì Delivering Value', content: `
                <h3>Theme: You can cut out the middleman, but you can't cut out their job.</h3>
                <p><strong>Value Delivery Network:</strong> It's a partnership. (Supplier -> Company -> Distributor -> Customer).</p>
                <p><em>Example:</em> Airbnb disrupted this by creating a new network.</p>

                <h3>2. How Channels Are Organized</h3>
                <ul>
                    <li><strong>Conventional:</strong> Everyone fights; lower profits.</li>
                    <li><strong>Vertical Marketing System (VMS):</strong> Teamwork.
                        <ul>
                            <li><strong>Corporate:</strong> Single ownership (Zara).</li>
                            <li><strong>Contractual:</strong> Franchise (McDonald's).</li>
                            <li><strong>Administered:</strong> Big player bullies (Walmart).</li>
                        </ul>
                    </li>
                    <li><strong>Horizontal:</strong> Two companies join (Starbucks inside Target).</li>
                </ul>

                <h3>3. Distribution Strategies</h3>
                <ul>
                    <li><strong>Intensive:</strong> Everywhere (Coke).</li>
                    <li><strong>Exclusive:</strong> Few places (Rolex).</li>
                    <li><strong>Selective:</strong> Middle (TVs).</li>
                </ul>

                <h3>4. Logistics (The Moving Stuff)</h3>
                <p>Goal: Right product, right place, right time, right cost.</p>
                <ul>
                    <li><strong>Warehousing:</strong> Storing.</li>
                    <li><strong>Inventory (JIT):</strong> Just-in-Time saves storage cost.</li>
                    <li><strong>Transportation:</strong> Truck (Flexible), Rail (Bulk), Water (Cheap/Slow), Air (Fast/Exp), Multimodal.</li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - <strong>Disintermediation:</strong> Killing the middleman (Spotify killed CD stores).<br>
                    - <strong>Upstream:</strong> Raw materials. <strong>Downstream:</strong> Retailers (Marketing focus).
                </div>
                `
            }
        ];

        const flashcardsData = [
            { ch: "ch2", f: "Market Segmentation", b: "Dividing a market into smaller segments with distinct needs." },
            { ch: "ch2", f: "Differentiation", b: "Making a product different to create superior customer value." },
            { ch: "ch2", f: "Positioning", b: "Arranging for a product to occupy a clear, distinctive place in consumer minds." },
            { ch: "ch2", f: "Demographic Segmentation", b: "Dividing market by Age, Gender, Income, Occupation." },
            { ch: "ch2", f: "Psychographic Segmentation", b: "Dividing market by Social Class, Lifestyle, Personality." },
            { ch: "ch7", f: "Undifferentiated Marketing", b: "Targeting the whole market with one offer (Mass Marketing)." },
            { ch: "ch7", f: "Micromarketing", b: "Tailoring products to the needs of specific individuals (Local/Individual)." },
            { ch: "ch7", f: "Value Proposition", b: "The full mix of benefits on which a brand is differentiated and positioned." },
            { ch: "ch8", f: "Core Customer Value", b: "The basic problem-solving benefit that consumers are really buying." },
            { ch: "ch8", f: "Augmented Product", b: "Additional consumer services and benefits (Warranty, Credit)." },
            { ch: "ch8", f: "Convenience Product", b: "Consumer product that customers usually buy frequently, immediately, and with minimal comparison." },
            { ch: "ch8", f: "Specialty Product", b: "Consumer product with unique characteristics for which a significant group is willing to make a special purchase effort." },
            { ch: "ch8", f: "Unsought Product", b: "Consumer product that the consumer either does not know about or knows about but does not normally consider buying." },
            { ch: "ch9", f: "Product Life Cycle (PLC)", b: "The course of a product's sales and profits over its lifetime." },
            { ch: "ch9", f: "PLC: Introduction Stage", b: "Period of slow sales growth as product is introduced. Nonexistent profits." },
            { ch: "ch9", f: "PLC: Maturity Stage", b: "Period of slowdown in sales growth because product has achieved acceptance. Profits level off." },
            { ch: "ch10", f: "Value-Based Pricing", b: "Setting price based on buyers' perceptions of value rather than on the seller's cost." },
            { ch: "ch10", f: "Cost-Plus Pricing", b: "Adding a standard markup to the cost of the product." },
            { ch: "ch10", f: "Price Elasticity", b: "A measure of the sensitivity of demand to changes in price." },
            { ch: "ch11", f: "Dynamic Pricing", b: "Adjusting prices continually to meet the characteristics and needs of individual customers and situations." },
            { ch: "ch11", f: "Psychological Pricing", b: "Pricing that considers the psychology of prices, not simply the economics ($9.99)." },
            { ch: "ch12", f: "Direct Marketing Channel", b: "A marketing channel that has no intermediary levels." },
            { ch: "ch12", f: "Vertical Marketing System (VMS)", b: "A channel structure in which producers, wholesalers, and retailers act as a unified system." },
            { ch: "ch12", f: "Multichannel Distribution", b: "A single firm sets up two or more marketing channels to reach one or more customer segments." },
            { ch: "gen", f: "SWOT Analysis", b: "Strengths (Int), Weaknesses (Int), Opportunities (Ext), Threats (Ext)." },
            { ch: "gen", f: "Marketing Mix (4 Ps)", b: "Product, Price, Place, Promotion." }
        ];

        const quizData = [
            // Part 1: Conceptual Questions adapted to Quiz format
            { q: "What is the difference between a Star and a Cash Cow in the BCG Matrix?", a: ["Star: High Growth/High Share, Cash Cow: Low Growth/High Share", "Star: Low Growth/High Share, Cash Cow: High Growth/High Share", "Star: High Growth/Low Share, Cash Cow: Low Growth/Low Share", "They are the same"], c: 0 },
            { q: "What does 'Marketing ROI' measure?", a: ["Return on Influencer investment", "Profits generated by marketing investments", "Rate of Interest on loans", "Revenue from online sales only"], c: 1 },
            { q: "Differentiated Marketing targets:", a: ["The whole market with one offer", "A small niche share", "Multiple segments with separate offers", "One person at a time"], c: 2 },
            { q: "What is a 'Value Proposition'?", a: ["The lowest price on the market", "The full mix of benefits differentiating a brand", "A discount coupon", "The company mission statement"], c: 1 },
            { q: "Service Perishability means:", a: ["Services expire after 1 year", "Services cannot be stored for later sale or use", "Services are always fresh", "Service quality varies by employee"], c: 1 },
            { q: "Line Extension vs. Brand Extension:", a: ["Same category vs. New category", "New category vs. Same category", "Both are new categories", "Both are same category"], c: 0 },
            { q: "In Idea Screening, R-W-W stands for:", a: ["Real, Win, Worth", "Read, Write, Walk", "Ready, Willing, Waiting", "Rich, Wealthy, Wise"], c: 0 },
            { q: "Why are profits often negative in the Introduction stage?", a: ["Low prices", "High development and launch costs", "Too many competitors", "Product is bad"], c: 1 },
            { q: "Good-Value Pricing vs. Value-Added Pricing:", a: ["High price vs. Low price", "Fair quality/price vs. Features justifying higher price", "Math-based vs. Psychology-based", "None of the above"], c: 1 },
            { q: "Price Elasticity measures:", a: ["How fast prices change", "Sensitivity of demand to price changes", "The cost of rubber bands", "Profit margins"], c: 1 },
            { q: "When to use Market-Skimming Pricing?", a: ["Low quality product", "High price sensitivity", "High quality/image, hard for competitors to enter", "Mass market basics"], c: 2 },
            { q: "Cheap printer, expensive ink is an example of:", a: ["Product Bundle Pricing", "Captive-Product Pricing", "Optional-Product Pricing", "By-Product Pricing"], c: 1 },
            { q: "Vertical Marketing System (VMS) is:", a: ["Producers, Wholesalers, Retailers acting as a unified system", "Producers fighting Retailers", "Direct to consumer only", "A pyramid scheme"], c: 0 },
            { q: "Disintermediation means:", a: ["Adding more middlemen", "Cutting out marketing channel intermediaries", "Mediating disputes", "Distributing everywhere"], c: 1 },

            // Part 2: MCQs
            { q: "(Chap 2) Growth strategy: make more sales to current customers without changing product?", a: ["Market Development", "Market Penetration", "Product Development", "Diversification"], c: 1 },
            { q: "(Chap 7) Variables like social class, lifestyle, and personality are used in:", a: ["Geographic", "Behavioral", "Psychographic", "Demographic"], c: 2 },
            { q: "(Chap 8) A laundry detergent bought regularly without planning is a:", a: ["Shopping Product", "Specialty Product", "Unsought Product", "Convenience Product"], c: 3 },
            { q: "(Chap 8) 'Service Variability' means:", a: ["Services are invisible", "Services can't be stored", "Quality depends on who/when/where/how", "Produced/consumed same time"], c: 2 },
            { q: "(Chap 9) Stage where competitors enter in large numbers & goal is max market share?", a: ["Introduction", "Growth", "Maturity", "Decline"], c: 1 },
            { q: "(Chap 9) Crowdsourcing is a form of:", a: ["Idea Screening", "Test Marketing", "Idea Generation", "Commercialization"], c: 2 },
            { q: "(Chap 10) Compares costs that change directly with production level:", a: ["Fixed Cost", "Overhead", "Total Cost", "Variable Cost"], c: 3 },
            { q: "(Chap 11) Selling a Razor for $5 but blades for $20 is:", a: ["Product Bundle", "Captive-Product", "Optional-Product", "By-Product"], c: 1 },
            { q: "(Chap 11) Adjusting prices continually (like Uber) is:", a: ["Segmented Pricing", "Dynamic Pricing", "Psychological Pricing", "Promotional Pricing"], c: 1 },
            { q: "(Chap 12) Luxury brands like Rolex use which distribution?", a: ["Intensive", "Selective", "Exclusive", "Mass"], c: 2 }
        ];

        // --- STATE ---
        let cards = [...flashcardsData];
        let cIdx = 0;
        let qIdx = 0;
        let qScore = 0;
        let timerTime = 25 * 60;
        let timerInterval = null;
        let isRunning = false;
        let soundEnabled = true;

        // --- INIT ---
        window.onload = () => {
             renderNotes();
             updateCard();
             loadQuiz();
             updateExamCountdown(); // Calc countdowns
             
             // Focus Name Input auto
             setTimeout(() => document.getElementById('name-input').focus(), 1500);
             
             // Enter key listener
             document.getElementById('name-input').addEventListener('keypress', function (e) {
                if (e.key === 'Enter') enterApp();
            });
        };

        // --- CREATIVE ENTRY LOGIC (NO CSV) ---
        function enterApp() {
            const name = document.getElementById('name-input').value || "Legend";
            
            // Visual Transition
            const portal = document.getElementById('entry-portal');
            const app = document.getElementById('app');
            
            portal.style.opacity = '0';
            portal.style.transform = 'scale(1.1)'; // Warp effect
            
            setTimeout(() => {
                portal.style.display = 'none';
                app.classList.add('visible');
                document.getElementById('user-display').innerText = name; // Personalize Header
            }, 800);
        }

        // --- NAV ---
        function nav(id, el) {
            document.querySelectorAll('.section-view').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            // Handle Desktop & Mobile Nav Highlighting
            if(el) {
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                document.querySelectorAll('.mobile-nav-item').forEach(n => n.classList.remove('active'));
                el.classList.add('active');
            }
        }

        // --- NOTES ---
        function renderNotes() {
            document.getElementById('notes-grid').innerHTML = notes.map(n => `
                <div class="card" onclick="openNote('${n.id}')">
                    <span class="tag purple">${n.id.toUpperCase()}</span>
                    <h3>${n.title}</h3>
                    <p>Click to read detailed notes.</p>
                </div>
            `).join('');
        }
        function openNote(id) {
            const n = notes.find(x => x.id === id);
            document.getElementById('note-body').innerHTML = `<h1>${n.title}</h1>${n.content}`;
            document.getElementById('notes-grid').style.display='none';
            document.getElementById('note-detail').style.display='block';
        }
        function closeNote() {
            document.getElementById('note-detail').style.display='none';
            document.getElementById('notes-grid').style.display='grid';
        }

        // --- FLASHCARDS ---
        function filterCards() {
            const cat = document.getElementById('fc-filter').value;
            if (cat === 'all') cards = [...flashcardsData];
            else cards = flashcardsData.filter(c => c.ch === cat);
            cIdx = 0; updateCard();
        }
        function updateCard() {
            if(cards.length === 0) return;
            const c = cards[cIdx];
            document.getElementById('fc-tag').innerText = c.ch.toUpperCase();
            document.getElementById('fc-front').innerText = c.f;
            document.getElementById('fc-back').innerText = c.b;
            document.getElementById('fc-count').innerText = `${cIdx + 1} / ${cards.length}`;
            document.querySelector('.flashcard').classList.remove('flipped');
        }
        function moveCard(dir) {
            cIdx = (cIdx + dir + cards.length) % cards.length;
            updateCard();
        }

        // --- QUIZ ---
        function loadQuiz() {
            if (qIdx >= quizData.length) {
                document.getElementById('quiz-container').innerHTML = `<h1 style="text-align:center;">üéâ Quiz Complete! <br>Score: ${qScore}/${quizData.length}</h1>`;
                return;
            }
            const q = quizData[qIdx];
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('q-options').innerHTML = q.a.map((opt, i) => `
                <button class="quiz-opt" onclick="checkAnswer(this, ${i})">${opt}</button>
            `).join('');
            document.getElementById('q-next').style.display = 'none';
        }
        function checkAnswer(btn, i) {
            document.querySelectorAll('.quiz-opt').forEach(b => b.disabled = true);
            const q = quizData[qIdx];
            if (i === q.c) { btn.classList.add('correct'); qScore++; document.getElementById('q-score').innerText = qScore; }
            else { btn.classList.add('wrong'); document.querySelectorAll('.quiz-opt')[q.c].classList.add('correct'); }
            document.getElementById('q-next').style.display = 'block';
        }
        function nextQ() { qIdx++; loadQuiz(); }

        // --- TIMER LOGIC ---
        function toggleTimer() {
            if (isRunning) {
                clearInterval(timerInterval);
                document.getElementById('timerBtn').innerText = "Resume Focus";
                document.getElementById('timerBtn').classList.remove('btn-danger'); // Assuming you might have a danger class, otherwise simple text change
            } else {
                timerInterval = setInterval(() => {
                    timerTime--;
                    updateTimerDisplay();
                    if (timerTime <= 0) {
                        clearInterval(timerInterval);
                        isRunning = false;
                        document.getElementById('timerBtn').innerText = "Start Focus";
                        if(soundEnabled) document.getElementById('timerSound').play();
                        // Optional: Add a visual alarm
                        alert("Session Complete!"); 
                    }
                }, 1000);
                document.getElementById('timerBtn').innerText = "Pause";
            }
            isRunning = !isRunning;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            timerTime = 25 * 60;
            updateTimerDisplay();
            document.getElementById('timerBtn').innerText = "Start Focus";
        }

        function updateTimerDisplay() {
            const m = Math.floor(timerTime / 60);
            const s = timerTime % 60;
            document.getElementById('timer').innerText = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundBtn').innerText = soundEnabled ? "Sound: On" : "Sound: Off";
            document.getElementById('soundBtn').style.opacity = soundEnabled ? "1" : "0.5";
        }

        // --- CLOCK LOGIC ---
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const dateString = now.toLocaleDateString([], { weekday: 'long', month: 'short', day: 'numeric' });
            
            const clockEl = document.getElementById('live-clock');
            if(clockEl) {
                clockEl.innerHTML = `<div style="text-align:right; line-height:1.2;">
                    <div style="font-size:2rem; font-weight:700; color:white;">${timeString}</div>
                    <div style="font-size:0.9rem; color:var(--text-secondary); text-transform:uppercase; letter-spacing:1px;">${dateString}</div>
                </div>`;
            }
        }
        setInterval(updateClock, 1000); // Start clock ticker

        // --- EXAM COUNTDOWN ---
        function updateExamCountdown() {
            const exams = [
                { date: '2025-12-16', id: 'countdown-0' },
                { date: '2025-12-18', id: 'countdown-1' },
                { date: '2025-12-22', id: 'countdown-2' },
                { date: '2025-12-24', id: 'countdown-3' },
                { date: '2025-12-26', id: 'countdown-4' },
                { date: '2025-12-30', id: 'countdown-5' }
            ];
            
            const now = new Date();
            
            exams.forEach(ex => {
                const target = new Date(ex.date);
                const diffTime = target - now;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                const el = document.getElementById(ex.id);
                if(el) {
                    if (diffDays > 0) el.innerText = `${diffDays} Days`;
                    else if (diffDays === 0) el.innerText = "Today!";
                    else el.innerText = "Done";
                }
            });
        }



    </script>
</body>
</html>
