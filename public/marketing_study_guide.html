<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YE VAULT</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            /* Palette */
            --bg-dark: #09090b;
            --bg-card: #18181b;
            --bg-glass: rgba(24, 24, 27, 0.85);

            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;

            --brand-primary: #8b5cf6;
            --brand-glow: #a78bfa;

            --border-subtle: rgba(255, 255, 255, 0.08);
            --glass-blur: blur(20px);

            --font-display: 'Outfit', sans-serif;
            --font-body: 'Plus Jakarta Sans', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            overflow: hidden;
            height: 100vh;
        }

        /* --- Animations --- */
        .bg-blobs {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .blob {
            position: absolute;
            width: 60vw;
            height: 60vw;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.15;
            animation: float 20s infinite ease-in-out;
        }

        .blob-1 {
            background: var(--brand-primary);
            top: -20%;
            left: -20%;
        }

        .blob-2 {
            background: #06b6d4;
            bottom: -20%;
            right: -20%;
            animation-delay: -5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(30px, -50px) scale(1.1);
            }

            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
        }

        @keyframes blink-glow {
            0%, 100% { opacity: 1; text-shadow: 0 0 10px var(--brand-primary); }
            50% { opacity: 0.7; text-shadow: 0 0 20px var(--brand-glow); color: #fff; }
        }

        /* --- KRATOS / GOD OF WAR FX --- */
        @keyframes shake {
            0%, 100% { transform: translate(0, 0); }
            10%, 30%, 50%, 70%, 90% { transform: translate(-10px, -10px); }
            20%, 40%, 60%, 80% { transform: translate(10px, 10px); }
        }

        @keyframes thunder-flash {
            0% { background-color: var(--bg-dark); }
            10% { background-color: #fff; }
            15% { background-color: #450a0a; } /* Blood Red Dark */
            20% { background-color: #fff; }
            40% { background-color: #270404; } /* Deep Red */
            100% { background-color: #000; }
        }

        @keyframes text-burn {
            0% { letter-spacing: 0px; color: var(--text-secondary); }
            100% { letter-spacing: 5px; color: #ef4444; text-shadow: 0 0 20px #b91c1c, 0 0 40px #7f1d1d; }
        }

        .shake-element {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        .kratos-mode {
            animation: thunder-flash 0.8s forwards !important;
        }

        .kratos-mode .entry-question {
            animation: text-burn 0.5s forwards !important;
            font-family: 'Times New Roman', serif; /* Classic Mythic Look */
            font-weight: 900;
            text-transform: uppercase;
        }

        .kratos-mode .name-input {
            border-color: #ef4444 !important;
            color: #ef4444 !important;
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
        }

        .kratos-mode .entry-btn {
            background: #7f1d1d !important;
            border-color: #ef4444 !important;
            box-shadow: 0 0 30px #ef4444 !important;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- ADVANCED STORM FX (CANVAS) --- */
        #kratos-storm {
            position: absolute;
            inset: 0;
            z-index: -1; 
            background: #000;
            display: none;
            overflow: hidden;
        }
        
        #storm-canvas {
            display: block; 
            width: 100%; 
            height: 100%;
        }

        /* --- Layout --- */
        .app-layout {
            display: flex;
            height: 100vh;
            max-width: 1920px;
            margin: 0 auto;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
            transition: opacity 1s, transform 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .app-layout.visible {
            opacity: 1;
            pointer-events: all;
            transform: none;
        }

        .sidebar {
            width: 280px;
            background: var(--bg-glass);
            -webkit-backdrop-filter: var(--glass-blur);
            backdrop-filter: var(--glass-blur);
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
            padding: 2rem;
            z-index: 50;
        }

        /* --- AMBIENCE & PANIC CSS --- */
        .ambience-controls {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .panic-btn {
            background: linear-gradient(135deg, #ef4444, #b91c1c);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 2rem;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
            animation: pulse-red 2s infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .panic-btn:hover {
            transform: scale(1.05);
        }

        @keyframes pulse-red {
            0% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
        }

        .cram-overlay {
            position: fixed;
            inset: 0;
            background: rgba(9, 9, 11, 0.95);
            z-index: 3000;
            /* High Z-Index */
            display: none;
            padding: 2rem;
            overflow-y: auto;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }

        .cram-paper {
            background: #fff;
            color: #000;
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            font-family: 'Times New Roman', serif;
        }

        .cram-term {
            display: block;
            margin-bottom: 0.5rem;
            border-bottom: 1px dotted #ccc;
            padding-bottom: 0.2rem;
        }

        .cram-term strong {
            color: #d32f2f;
        }

        .main-viewport {
            flex: 1;
            padding: 2rem 3rem;
            overflow-y: auto;
            position: relative;
            scroll-behavior: smooth;
        }

        /* --- ENTRY PORTAL (The "Name Drop") --- */
        #entry-portal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            background: var(--bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: opacity 1s, transform 1s;
        }

        .entry-container {
            text-align: center;
        }

        .entry-question {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            opacity: 0;
            animation: fadeIn 1s 0.5s forwards;
        }

        .name-input {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--brand-primary);
            font-family: var(--font-display);
            font-size: 4rem;
            color: white;
            text-align: center;
            width: 100%;
            max-width: 600px;
            padding: 0.5rem;
            outline: none;
            margin-bottom: 2rem;
            opacity: 0;
            animation: fadeInUp 1s 1s forwards;
        }

        .name-input::placeholder {
            color: rgba(255, 255, 255, 0.1);
        }

        .entry-btn {
            background: rgba(255, 255, 255, 0.05);
            color: white;
            border: 1px solid var(--border-subtle);
            padding: 1rem 3rem;
            border-radius: 2rem;
            cursor: pointer;
            transition: 0.3s;
            opacity: 0;
            animation: fadeIn 1s 2s forwards;
        }

        .entry-btn:hover {
            background: var(--brand-primary);
            transform: scale(1.1);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- Components --- */
        .brand-logo {
            font-family: var(--font-display);
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: -2px;
            margin-bottom: 3rem;
            color: white;
        }

        .brand-logo span {
            color: var(--brand-primary);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            border-radius: 1rem;
            cursor: pointer;
            color: var(--text-secondary);
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            margin-bottom: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .nav-item:hover {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.03), transparent);
            color: var(--text-primary);
            transform: scale(1.02) translateX(4px);
        }

        .nav-item.active {
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.15), transparent);
            color: var(--brand-primary);
            font-weight: 600;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.1);
            border-left: 3px solid var(--brand-primary);
        }

        .section-view {
            display: none;
        }

        .section-view.active {
            display: block;
            animation: fadeSlideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes fadeSlideUp {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.98);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 1.5rem;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            cursor: pointer;
            height: 100%;
        }

        .card:hover {
            transform: translateY(-4px) scale(1.01);
            border-color: rgba(139, 92, 246, 0.4);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .timer-widget {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1));
            border: 1px solid var(--border-subtle);
            border-radius: 1.5rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .timer-display {
            font-family: var(--font-display);
            font-size: 5rem;
            font-weight: 800;
            line-height: 1;
            margin: 1rem 0;
            font-variant-numeric: tabular-nums;
        }

        .session-badge {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.8rem;
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
        }

        .btn {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border-subtle);
            padding: 0.8rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .btn-primary {
            background: var(--brand-primary);
            border: none;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .btn-primary:hover {
            background: #7c3aed;
        }

        .tag {
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 100px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .tag.purple {
            background: rgba(139, 92, 246, 0.15);
            color: #a78bfa;
        }

        .tag.cyan {
            background: #06b6d426;
            color: #22d3ee;
        }

        /* Note Detail Pro */
        .detail-view {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 3rem;
            border: 1px solid var(--border-subtle);
            display: none;
            max-width: 900px;
            margin: 0 auto;
        }

        .detail-content h3 {
            font-family: var(--font-display);
            color: var(--brand-primary);
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            border-bottom: 1px solid var(--border-subtle);
            padding-bottom: 0.5rem;
        }

        .detail-content h4 {
            color: white;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .detail-content p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
            font-size: 1.05rem;
        }

        .detail-content ul,
        .detail-content ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
            color: var(--text-secondary);
        }

        .detail-content li {
            margin-bottom: 0.5rem;
        }

        .mnemonic-box {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid #f59e0b;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 1rem 1rem 0;
            font-size: 1.1rem;
        }

        .tip-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 1rem 1rem 0;
            font-size: 1.1rem;
        }

        /* Simple Flashcard CSS (preserved) */
        .flashcard-stage {
            perspective: 1200px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .flashcard {
            width: 100%;
            max-width: 600px;
            height: 320px;
            position: relative;
            transform-style: preserve-3d;
            transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .face.back {
            transform: rotateY(180deg);
            background: radial-gradient(circle at top, rgba(6, 182, 212, 0.1), transparent), var(--bg-card);
            border-color: #06b6d4;
        }

        /* Quiz CSS (preserved) */
        .quiz-opt {
            width: 100%;
            padding: 1.25rem;
            margin-top: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-subtle);
            border-radius: 0.75rem;
            color: var(--text-secondary);
            text-align: left;
            cursor: pointer;
            transition: 0.2s;
            font-size: 1rem;
        }

        .quiz-opt:hover {
            background: rgba(255, 255, 255, 0.06);
            padding-left: 1.5rem;
        }

        .quiz-opt.correct {
            border-color: #10b981;
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .quiz-opt.wrong {
            border-color: #f43f5e;
            color: #f43f5e;
            background: rgba(244, 63, 94, 0.1);
        }


        /* --- MOBILE RESPONSIVENESS --- */
        /* --- RESPONSIVE SIDEBAR (MOBILE) --- */
        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(2px);
            backdrop-filter: blur(2px);
            z-index: 1050;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .sidebar-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        /* --- MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
            }

            .bg-blobs {
                position: fixed;
            }

            .app-layout {
                flex-direction: column;
                height: auto;
                min-height: 100vh;
                width: 100%;
                overflow: visible !important;
            }

            /* SIDEBAR TRANSFORMATION */
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                width: 280px;
                transform: translateX(-100%);
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 20px 0 50px rgba(0, 0, 0, 0.5);
                display: flex !important;
                z-index: 1100;
                /* Ensure it's above the overlay (1050) */
                /* Force display for slide-out */
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-viewport {
                padding: 1.5rem;
                /* Balanced padding */
                overflow: visible;
                height: auto;
                flex: none;
                width: 100%;
            }

            /* FAB TOGGLE - Adjust position */
            .nav-toggle-btn {
                display: flex;
                position: fixed;
                bottom: 2rem;
                right: 2rem;
                width: 3.5rem;
                height: 3.5rem;
                background: linear-gradient(135deg, var(--brand-primary), var(--brand-glow));
                border-radius: 50%;
                border: none;
                color: white;
                font-size: 1.5rem;
                align-items: center;
                justify-content: center;
                box-shadow: 0 4px 20px rgba(139, 92, 246, 0.5);
                z-index: 1200;
                transition: 0.2s;
            }

            .nav-toggle-btn:active {
                transform: scale(0.95);
            }

            /* ALIGNMENT FIXES */
            #dashboard h1 {
                font-size: 2.2rem !important;
                line-height: 1.1;
                margin-bottom: 0.5rem;
            }

            /* Timer Widget Mobile */
            .timer-widget {
                padding: 2rem 1.5rem;
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .timer-display {
                font-size: 4rem;
                margin: 1rem 0;
            }

            .timer-widget div[style*="justify-content:center"] {
                flex-direction: column;
                width: 100%;
                gap: 0.8rem;
            }

            .timer-widget .btn {
                width: 100%;
            }

            .session-badge {
                position: static;
                margin-top: 1rem;
                background: rgba(16, 185, 129, 0.15);
            }

            /* Card Grid Fix */
            div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }

            /* Hide Entry Portal Inputs on small screens if keyboard opens */
            .name-input:focus {
                font-size: 2rem;
            }

            /* Table Cards */
            table,
            thead,
            tbody,
            th,
            td,
            tr {
                display: block;
                width: 100%;
            }

            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }

            tr {
                margin-bottom: 1.5rem;
                background: var(--bg-card) !important;
                border: 1px solid var(--border-subtle);
                border-radius: 1rem;
                padding: 1rem;
            }

            td {
                border: none;
                padding: 0.5rem 0 0.5rem 0 !important;
                position: relative;
                padding-left: 40% !important;
                text-align: right;
                display: flex;
                align-items: center;
                justify-content: flex-end;
                min-height: 2.5rem;
            }

            td:before {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                left: 0;
                width: 35%;
                padding-right: 10px;
                white-space: nowrap;
                content: attr(data-label);
                font-weight: 700;
                color: var(--text-muted);
                text-transform: uppercase;
                font-size: 0.75rem;
                text-align: left;
            }

            td:first-child {
                border-bottom: 1px solid var(--border-subtle);
                margin-bottom: 0.5rem;
                padding-bottom: 0.5rem !important;
                padding-left: 0 !important;
                text-align: left;
                justify-content: flex-start;
            }

            td:first-child:before {
                content: none;
            }

            /* Detail Views */
            .detail-view {
                padding: 1.5rem;
            }

            /* Hide Live Clock on Mobile to save space */
            #live-clock {
                display: none;
            }




            td:first-child:before {
                display: none;
            }

            .mobile-nav {
                display: none !important;
            }

            #dashboard h1 br {
                display: none;
            }
        }

        .mobile-nav {
            display: none;
        }

        /* Hidden on desktop */

        /* FOA SPECIFIC STYLES TO MATCH MARKETING UI */
        .foa-content h2 { font-family: var(--font-display); color: var(--brand-secondary); margin-top: 2rem; margin-bottom: 1rem; font-size: 1.8rem; }
        .foa-content h3 { color: var(--brand-primary); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.3rem; }
        .foa-content p, .foa-content li { color: var(--text-secondary); line-height: 1.7; font-size: 1.05rem; }
        .foa-content strong { color: var(--text-primary); font-weight: 600; }
        .foa-content ul { padding-left: 1.5rem; margin-bottom: 1.5rem; }
        .foa-content li { margin-bottom: 0.5rem; }
        
        /* Specialized Cards */
        .foa-card { 
            background: rgba(255, 255, 255, 0.03); 
            border: 1px solid var(--border-subtle); 
            border-radius: 1rem; 
            padding: 2rem; 
            margin-bottom: 2rem; 
            transition: transform 0.2s;
        }
        .foa-card:hover { border-color: var(--brand-secondary); transform: translateY(-2px); }

        /* Feature Boxes */
        .formula { 
            background: rgba(6, 182, 212, 0.05); 
            border-left: 4px solid var(--brand-primary); 
            padding: 1.5rem; 
            margin: 1.5rem 0; 
            font-family: 'Courier New', monospace; 
            color: var(--brand-glow);
            border-radius: 0 8px 8px 0;
        }
        .key-point { 
            background: rgba(244, 63, 94, 0.05); 
            border-left: 4px solid #f43f5e; 
            padding: 1.5rem; 
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        .example { 
            background: rgba(16, 185, 129, 0.05); 
            border-left: 4px solid #10b981; 
            padding: 1.5rem; 
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* Practice Questions */
        .practice-question { 
            background: rgba(0, 0, 0, 0.2); 
            padding: 1.5rem; 
            border-radius: 1rem; 
            margin-top: 2rem; 
            border: 1px solid var(--border-subtle); 
        }
        .q-number { 
            font-weight: 800; 
            color: var(--brand-secondary); 
            text-transform: uppercase; 
            font-size: 0.9rem; 
            margin-bottom: 0.75rem; 
            letter-spacing: 1px;
        }
        .q-text { 
            margin-bottom: 1.25rem; 
            font-size: 1.1rem;
            color: var(--text-primary); 
        }
        
        .answer-btn { 
            background: var(--brand-primary); 
            color: #000; 
            font-weight: 700;
            border: none; 
            padding: 0.6rem 1.2rem; 
            border-radius: 2rem; 
            cursor: pointer; 
            font-size: 0.9rem; 
            transition: all 0.2s; 
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .answer-btn:hover { 
            background: var(--brand-glow); 
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.4);
        }
        
        .answer { 
            display: none; 
            margin-top: 1.25rem; 
            padding-top: 1.25rem; 
            border-top: 1px solid rgba(255,255,255,0.1); 
            color: #10b981; 
            font-weight: 500;
        }
        .answer.show { 
            display: block; 
            animation: fadeIn 0.4s ease;
        }

    </style>
</head>

<body>

    <div class="bg-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <!-- SOUND -->
    <audio id="timerSound"
        src="data:audio/mp3;base64,SUQzBAAAAAABAFRYWFgAAAASAAADbWFqb3JfYnJhbmQAZGFzaABUWFhYAAAAEQAAA21pbm9yX3ZlcnNpb24AMABUWFhYAAAAHAAAA2NvbXBhdGlibGVfYnJhbmRzAGlzbzZtcDQxAFRTU0UAAAAPAAADTGF2ZjU5LjI3LjEwMAAAAAAAAAAAAAAA//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlAz//uQZAAAAAAAALAAAADXAAAASAAAAAABAAiQAAJAJAAAlA=="></audio>

    <!-- ENTRY PORTAL (The Minimalist Name Drop) -->
    <div id="entry-portal">
        <!-- New Storm Container -->
        <div id="kratos-storm">
             <canvas id="storm-canvas"></canvas>
        </div>

        <div class="entry-container">
            <h1 id="kratos-title" class="entry-question">Who is conquering Marketing today?</h1>
            <input type="text" id="name-input" class="name-input" placeholder="Type your Name" autocomplete="off">
            <button class="entry-btn" onclick="enterApp()">Let's Go</button>
        </div>
    </div>


    <!-- SIDEBAR OVERLAY -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMobileNav()"></div>

    <!-- APP LAYOUT -->
    <div class="app-layout" id="app">
        <aside class="sidebar" id="mainSidebar">
            <div class="brand-logo">YE <span>VAULT</span></div>
            <div class="nav-item active" onclick="nav('dashboard', this)">All roads lead to Rome</div>
            <div class="nav-item" onclick="nav('marketing-mgmt', this)">Marketing Management</div>
            <div class="nav-item" onclick="nav('islamic-studies', this)">IT in Business</div>
            <div class="nav-item" onclick="nav('foa-suite', this)">Fundamentals of Accounting</div>
            <div class="nav-item" onclick="nav('business-maths', this)">Business Maths</div>
            <div class="nav-item" onclick="nav('seating-plan', this)">Exam Seating Plan</div>



            <div style="margin-top:auto">
                <div
                    style="padding: 0 1rem 1rem 1rem; color: var(--text-muted); font-size: 0.75rem; border-bottom: 1px solid var(--border-subtle); margin-bottom: 1rem;">
                    Created by <span style="color: var(--brand-glow);">Asharib</span>
                </div>
                <div class="nav-item" onclick="window.close()">Exit</div>
            </div>
        </aside>

        <!-- MOBILE SIDEBAR TOGGLE FAB -->
        <button class="nav-toggle-btn" onclick="toggleMobileNav()">
            <span class="mobile-nav-icon">☰</span>
        </button>

        <main class="main-viewport">

            <!-- DASHBOARD -->
            <section id="dashboard" class="section-view active" style="position:relative;">
                <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:2rem;">
                    <h1 style="font-family:var(--font-display); font-size:3rem; line-height:1.1;">Run the world,
                        <br><span id="user-display" style="color:var(--brand-primary);">Future CEO</span>.
                    </h1>
                    <div id="live-clock"></div>
                </div>

                <div class="timer-widget">
                    <p
                        style="text-transform:uppercase; letter-spacing:2px; color:var(--brand-primary); font-weight:700;">
                        Deep Work Zone</p>
                    <div class="session-badge">Sessions Today: <span id="session-count">0</span></div>
                    <div class="timer-display" id="timer">25:00</div>
                    <div style="display:flex; justify-content:center; gap:1rem; align-items:center;">
                        <button class="btn btn-primary" onclick="toggleTimer()" id="timerBtn">Start Focus</button>
                        <button class="btn" onclick="resetTimer()">Reset</button>
                        <button class="btn" style="padding:0.8rem;" onclick="toggleSound()" id="soundBtn">Sound:
                            On</button>
                    </div>
                </div>

                <div class="card"
                    style="margin-top:2rem; background:linear-gradient(145deg, rgba(24, 24, 27, 0.9), rgba(20, 20, 22, 0.95)); border:1px solid rgba(255,255,255,0.05);">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                        <h2 style="font-family:var(--font-display); font-size:1.5rem;">Exam Schedule</h2>
                        <span class="tag cyan" style="font-size:0.8rem; padding:0.4rem 1rem;">Finals 2025</span>
                    </div>
                    <div style="overflow-x:auto;">
                        <table
                            style="width:100%; border-collapse:separate; border-spacing:0 1rem; color:var(--text-secondary); min-width:600px;">
                            <thead>
                                <tr
                                    style="text-align:left; color:var(--text-muted); font-size:0.9rem; text-transform:uppercase; letter-spacing:1px;">
                                    <th style="padding:0 1.5rem;">Date</th>
                                    <th style="padding:0 1.5rem;">Subject</th>
                                    <th style="padding:0 1.5rem;">Time</th>
                                    <th style="padding:0 1.5rem;">Time Left</th>
                                    <th style="padding:0 1.5rem;">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--text-primary); font-size:1.1rem;">Dec 16</strong> <span
                                            style="font-size:0.9rem; opacity:0.7;">Tue</span></td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:var(--text-primary); font-weight:600;">Islamic Studies</div>
                                        <div style="font-size:0.85rem; opacity:0.6;">FSMSS1007 • Room 297</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td data-label="Time Left"
                                        style="padding:1.5rem; font-weight:600; color:var(--brand-glow);"
                                        id="countdown-0">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span
                                            style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--text-primary); font-size:1.1rem;">Dec 18</strong> <span
                                            style="font-size:0.9rem; opacity:0.7;">Thu</span></td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:var(--text-primary); font-weight:600;">Fundamentals of
                                            Accounting</div>
                                        <div style="font-size:0.85rem; opacity:0.6;">AF1001 • Room 319</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td data-label="Time Left"
                                        style="padding:1.5rem; font-weight:600; color:var(--brand-glow);"
                                        id="countdown-1">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span
                                            style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr
                                    style="background:linear-gradient(90deg, rgba(139, 92, 246, 0.1), rgba(139, 92, 246, 0.05)); border:1px solid rgba(139, 92, 246, 0.2);">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--brand-primary); font-size:1.1rem;">Dec 22</strong> <span
                                            style="font-size:0.9rem; opacity:0.7; color:var(--brand-glow);">Mon</span>
                                    </td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:white; font-weight:700;">Marketing Management</div>
                                        <div style="font-size:0.85rem; opacity:0.8; color:#ddd;">MG1002 • Room 259</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem; color:white;">09:00 - 12:00</td>
                                    <td data-label="Time Left" style="padding:1.5rem; font-weight:600; color:white;"
                                        id="countdown-2">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;">
                                        <button class="btn btn-primary"
                                            style="padding:0.5rem 1.5rem; font-size:0.85rem; box-shadow:0 0 15px rgba(139, 92, 246, 0.4);"
                                            onclick="nav('marketing-mgmt', document.querySelectorAll('.nav-item')[1])">Deep
                                            Dive</button>
                                    </td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--text-primary); font-size:1.1rem;">Dec 24</strong> <span
                                            style="font-size:0.9rem; opacity:0.7;">Wed</span></td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:var(--text-primary); font-weight:600;">English - I</div>
                                        <div style="font-size:0.85rem; opacity:0.6;">SS1016 • Room 308</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td data-label="Time Left"
                                        style="padding:1.5rem; font-weight:600; color:var(--brand-glow);"
                                        id="countdown-3">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span
                                            style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--text-primary); font-size:1.1rem;">Dec 26</strong> <span
                                            style="font-size:0.9rem; opacity:0.7;">Fri</span></td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:var(--text-primary); font-weight:600;">IT in Business</div>
                                        <div style="font-size:0.85rem; opacity:0.6;">CS1001 • Room 313</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem;">08:30 - 12:30</td>
                                    <td data-label="Time Left"
                                        style="padding:1.5rem; font-weight:600; color:var(--brand-glow);"
                                        id="countdown-4">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span
                                            style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                                <tr style="background:rgba(255,255,255,0.02); transition:0.2s;">
                                    <td data-label="Date" style="padding:1.5rem; border-radius:1rem 0 0 1rem;"><strong
                                            style="color:var(--text-primary); font-size:1.1rem;">Dec 30</strong> <span
                                            style="font-size:0.9rem; opacity:0.7;">Tue</span></td>
                                    <td data-label="Subject" style="padding:1.5rem;">
                                        <div style="color:var(--text-primary); font-weight:600;">Business Math – I</div>
                                        <div style="font-size:0.85rem; opacity:0.6;">MT1002 • Room 317</div>
                                    </td>
                                    <td data-label="Time" style="padding:1.5rem;">09:00 - 12:00</td>
                                    <td data-label="Time Left"
                                        style="padding:1.5rem; font-weight:600; color:var(--brand-glow);"
                                        id="countdown-5">--</td>
                                    <td data-label="Status" style="padding:1.5rem; border-radius:0 1rem 1rem 0;"><span
                                            style="opacity:0.3;">Upcoming</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- MARKETING MANAGEMENT HUB -->
            <section id="marketing-mgmt" class="section-view">
                <h1
                    style="font-family:var(--font-display); margin-bottom:2rem; font-size:3rem; color:var(--text-primary);">
                    Marketing Management <span style="color:var(--brand-primary)">Suite</span></h1>
                <p style="margin-bottom:2rem; color:var(--text-secondary); max-width:600px;">Access your comprehensive
                    toolkit for mastering the finals. Select a module below to begin deep work.</p>

                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:2rem;">
                    <!-- Notes Module -->
                    <div class="card" onclick="nav('notes')">
                        <span class="tag cyan">Core Material</span>
                        <h3>Smart Notes</h3>
                        <p>Access detailed summaries for Chapters 2, 7, 8, 9, 10, 11, 12. Includes mnemonic devices and
                            exam tips.</p>
                    </div>

                    <!-- Flashcards Module -->
                    <div class="card" onclick="nav('flashcards')">
                        <span class="tag purple">Active Recall</span>
                        <h3>Flashcards</h3>
                        <p>Test your memory with 30+ high-yield terms and definitions. Flip to reveal.</p>
                    </div>

                    <!-- PESTLE Module -->
                    <div class="card" onclick="nav('pestle')">
                        <span class="tag">Case Application</span>
                        <h3>PESTLE Guide</h3>
                        <p>Starbucks Case Study analysis showing how to apply PESTLE frameworks in real exams.</p>
                    </div>

                    <!-- Quiz Module -->
                    <div class="card" onclick="nav('quiz')">
                        <span class="tag">Self-Test</span>
                        <h3>Quiz Mode</h3>
                        <p>Rapid-fire multiple choice questions to validate your retention of key concepts.</p>
                    </div>
                </div>
            </section>

            <!-- ISLAMIC STUDIES SECTION -->
            <section id="islamic-studies" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:2rem;">IT in Business Notes</h1>
                <div id="islamic-notes-grid"
                    style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem;"></div>
                <div id="islamic-note-detail" class="detail-view">
                    <button class="btn" style="margin-bottom:2rem;" onclick="closeIslamicNote()">← Back to
                        Topics</button>
                    <div id="islamic-note-body" class="detail-content"></div>
                </div>
            </section>

            <!-- SEATING PLAN SECTION -->
            <section id="seating-plan" class="section-view" style="height: 100%; padding: 0;">
                <iframe src="seating_plan.html" style="width: 100%; height: 100%; border: none;"></iframe>
            </section>

            <!-- BUSINESS MATHS SECTION -->
            <section id="business-maths" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:2rem;">Business Maths Notes</h1>
                <p style="color: var(--text-secondary); text-align: center; margin-top: 4rem;">
                    Content coming soon...
                </p>
            </section>

            <!-- NOTES (Preserved) -->
            <section id="notes" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:2rem;">Master Notes</h1>
                <div id="notes-grid"
                    style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem;"></div>
                <div id="note-detail" class="detail-view">
                    <button class="btn" style="margin-bottom:2rem;" onclick="closeNote()">← Back to Chapters</button>
                    <div id="note-body" class="detail-content"></div>
                </div>
            </section>

            <!-- FLASHCARDS (Preserved) -->
            <section id="flashcards" class="section-view">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
                    <h1 style="font-family:var(--font-display);">Flashcards</h1>
                    <select id="fc-filter" onchange="filterCards()"
                        style="padding:0.5rem 1rem; border-radius:0.5rem; background:var(--bg-card); color:white; border:1px solid var(--border-subtle);">
                        <option value="all">All Chapters</option>
                        <option value="ch2">Ch 2: Segmentation</option>
                        <option value="ch7">Ch 7: Strategy</option>
                        <option value="ch8">Ch 8: Product</option>
                        <option value="ch9">Ch 9: PLC</option>
                        <option value="ch10">Ch 10: Pricing</option>
                        <option value="ch11">Ch 11: Tactics</option>
                        <option value="ch12">Ch 12: Place</option>
                    </select>
                </div>
                <div class="flashcard-stage">
                    <div class="flashcard" onclick="this.classList.toggle('flipped')">
                        <div class="face front">
                            <span class="tag purple" id="fc-tag">Tag</span>
                            <h2 id="fc-front" style="font-family:var(--font-display); font-size:1.8rem; padding:1rem;">
                                Term</h2>
                            <p style="margin-top:1rem; color:var(--text-muted); font-size:0.8rem;">Click to Flip</p>
                        </div>
                        <div class="face back">
                            <h3 id="fc-back" style="font-weight:500;">Definition</h3>
                        </div>
                    </div>
                    <div style="margin-top:2rem; display:flex; gap:1rem;">
                        <button class="btn" onclick="moveCard(-1)">Previous</button>
                        <button class="btn btn-primary" onclick="moveCard(1)">Next Card</button>
                    </div>
                    <p style="margin-top:1rem; color:var(--text-muted);" id="fc-count">1 / 30</p>
                </div>
            </section>

            <!-- PESTLE & QUIZ (Preserved content) -->
            <section id="pestle" class="section-view">
                <h1 style="font-family:var(--font-display); margin-bottom:1rem;">PESTLE Masterclass</h1>
                <div class="card"
                    style="margin-bottom:2rem; background:rgba(139, 92, 246, 0.05); border-color:var(--brand-primary);">
                    <h2 style="font-family:var(--font-display); color:var(--brand-primary);">Start Here: How to do
                        PESTLE</h2>
                    <p style="margin-top:0.5rem; color:var(--text-secondary);">PESTLE is a macro-environmental scanning
                        tool. Do not analyze the company itself (Internal), analyze the **World** around it (External).
                    </p>
                    <div
                        style="margin-top:1rem; display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1rem;">
                        <div class="tip-box" style="margin:0;"><strong>Step 1:</strong> Identify Factors (Tax, Laws,
                            Tech).</div>
                        <div class="tip-box" style="margin:0;"><strong>Step 2:</strong> Categorize them (P, E, S, T, L,
                            E).</div>
                        <div class="tip-box" style="margin:0;"><strong>Step 3:</strong> Analyze Impact (Opp or Threat?).
                        </div>
                    </div>
                </div>
                <h2 style="margin-bottom:1.5rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">
                    The Starbucks Case Study</h2>

                <div class="card"
                    style="margin-bottom:2rem; border:1px solid var(--border-subtle); background:rgba(255,255,255,0.02);">
                    <h3 style="color:white; margin-bottom:1rem; font-family:var(--font-display);">Case Context</h3>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">The first Starbucks
                        was opened in Seattle, Washington in 1971 by three partners who were passionate about selling
                        high quality beans and roasting equipment. However, it was only in the 1980s that they began
                        selling coffee in the way we know it today. This shift is mainly due to the changing population,
                        with more people working and needing quick and convenient and yet high-quality coffee. The
                        coffee company pride themselves on selling coffee made from ethically sourced and high-quality
                        beans, with their Espresso Roast being FairTrade certified, while the remainder of their
                        products fall under their C.A.F.E practices (Coffee and Farmer Equity). This ensures that there
                        are economic, social, environmental and quality requirements that all of their suppliers must
                        uphold to.</p>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">Starbucks were one of
                        the first firms to adopt mobile technology, creating an app in 2009 to allow customers to check
                        the balance of their loyalty card, and in a select few stores, differentiated them in the market
                        due to the Coronavirus outbreak, allowing customers to order and pay for their drinks without
                        having to come into contact with an employee and adhere to social distancing measures. This
                        mobile technology has also allowed them to collect large amounts of data on their customers,
                        allowing them to track the drinks that they purchase and use that to recommend them products
                        that they should purchase in the future.</p>
                    <p style="margin-bottom:1rem; color:var(--text-secondary); font-size:0.95rem;">However, it is not
                        all smooth sailing with the firm having recently come under scrutiny for the amount of tax they
                        are paying, having only paid £4m worth of tax despite earning £287m in revenues. Further to
                        this, in 2018 a US employee won an Employment Tribunal, when suing the corporation for unpaid
                        overtime. They came under even further scrutiny in that same year after pressure groups called
                        for them to deliver their pledge to develop a recyclable coffee cup with a petition signed by
                        nearly 900,000 people and protesters gathered at the company's Annual General Meeting.</p>
                    <p style="margin-bottom:0; color:var(--text-secondary); font-size:0.95rem;">More recently however,
                        the pandemic has only quickened Starbucks' restructuring plans of moving away from traditional
                        cafés and toward more drive throughs and online ordering. But like many businesses they have
                        seen a significant decline in trade due to the virus and because of this many staff have seen a
                        reduction in their hours. Although the governments Eat Out to Help Out scheme has been extremely
                        effective in helping them build back up to their pre-lockdown level of sales. Starbucks have
                        seen very similar patterns of trade in the past, for example the Brexit vote in 2016 caused
                        consumer confidence to plummet and saw sales decline. This combined with slowing economic
                        growth, correlated to a 61% reduction in UK pre-tax profits.</p>
                </div>

                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem;">
                    <div class="card" style="border-left:4px solid #ef4444;">
                        <h3 style="color:#ef4444;">1. Political</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Taxation:</strong> Starbucks faced
                            massive criticism for paying only £4M tax on £387M revenue in UK.</p>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Trade:</strong> Brexit uncertainty
                            affects import costs of coffee beans.</p>
                    </div>
                    <div class="card" style="border-left:4px solid #f59e0b;">
                        <h3 style="color:#f59e0b;">2. Economic</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Recession:</strong> Coffee is a luxury.
                            High inflation and recession reduce customers' disposable income.</p>
                    </div>
                    <div class="card" style="border-left:4px solid #3b82f6;">
                        <h3 style="color:#3b82f6;">3. Social</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Conscious Consumers:</strong> Shift
                            towards ethical sourcing (Fair Trade).</p>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Health Trends:</strong> Demand for oat
                            milk, almond milk, and low-sugar options.</p>
                    </div>
                    <div class="card" style="border-left:4px solid #8b5cf6;">
                        <h3 style="color:#8b5cf6;">4. Technological</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Mobile:</strong> The Starbucks App
                            (Order & Pay) drives 25%+ of transactions.</p>
                    </div>
                    <div class="card" style="border-left:4px solid #10b981;">
                        <h3 style="color:#10b981;">5. Legal</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Labor Laws:</strong> Minimum wage
                            increases significantly impact operating costs.</p>
                    </div>
                    <div class="card" style="border-left:4px solid #22d3ee;">
                        <h3 style="color:#22d3ee;">6. Environmental</h3>
                        <p style="font-size:0.9rem; margin-top:0.5rem;"><strong>Waste:</strong> Massive pressure to ban
                            plastic straws and single-use cups.</p>
                    </div>
                </div>
            </section>

            <section id="quiz" class="section-view">
                <div style="max-width:800px; margin:0 auto;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:2rem;">
                        <h1 style="font-family:var(--font-display);">Quiz Mode</h1>
                        <h2 style="color:var(--brand-primary);">Score: <span id="q-score">0</span></h2>
                    </div>
                    <div id="quiz-container" class="card">
                        <p id="q-progress"
                            style="color:var(--text-muted); text-transform:uppercase; font-size:0.8rem; margin-bottom:1rem;">
                            Question 1</p>
                        <h2 id="q-text" style="font-family:var(--font-display);">Loading...</h2>
                        <div id="q-options"></div>
                        <button id="q-next" class="btn btn-primary" style="margin-top:2rem; width:100%; display:none;"
                            onclick="nextQ()">Next Question</button>
                    </div>
                </div>
            </section>

            <section id="foa-suite" class="section-view">
                <div style="max-width:1200px; margin:0 auto;">
                    <div style="margin-bottom:2rem;">
                        <h1 style="font-family:var(--font-display); margin-bottom:0.5rem;">Fundamentals of Accounting</h1>
                        <p style="color:var(--text-secondary);">Merchandising & Depreciation Complete Study Guide</p>
                    </div>

                    <!-- FOA Navigation -->
                    <div class="card" style="padding:0.5rem; display:flex; gap:0.5rem; overflow-x:auto; margin-bottom:2rem; background:rgba(0,0,0,0.2);">
                        <button class="btn btn-primary foa-tab-btn" onclick="switchFoaTab('merchandising', this)">Merchandising</button>
                        <button class="btn foa-tab-btn" onclick="switchFoaTab('depreciation', this)">Depreciation</button>
                        <button class="btn foa-tab-btn" onclick="switchFoaTab('adjusting', this)">Adjusting Entries</button>
                        <button class="btn foa-tab-btn" onclick="switchFoaTab('classified-bs', this)">Balance Sheet</button>
                        <button class="btn foa-tab-btn" onclick="switchFoaTab('owners-equity', this)">Owner's Equity</button>
                        <button class="btn foa-tab-btn" onclick="switchFoaTab('videos', this)">Videos</button>
                    </div>

                    <!-- MERCHANDISING CONTENT -->
                    <div id="foa-tab-merchandising" class="foa-content active">
                        <h1 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">🛍️ Merchandising Operations</h1>
            
                        <!-- 1. COGS Statement -->
                        <div class="foa-card">
                            <h2>📌 1. Cost of Goods Sold (COGS) Statement</h2>
                            
                            <h3>Definition:</h3>
                            <p>COGS is the total cost of merchandise purchased and sold during an accounting period. It directly relates to the merchandise inventory account.</p>
                            
                            <div class="key-point">
                                <strong>Key Concept:</strong> COGS connects the Income Statement to the Balance Sheet through inventory management.
                            </div>
                            
                            <h3>Formula:</h3>
                            <div class="formula">
        COGS = Beginning Inventory + Net Purchases - Ending Inventory
                            </div>
                            
                            <h3>Alternative Formula:</h3>
                            <div class="formula">
        Cost of Goods Available for Sale = Beginning Inventory + Net Purchases
        COGS = Cost of Goods Available for Sale - Ending Inventory
                            </div>
                            
                            <h3>Components Breakdown:</h3>
                            <div class="list-item">✓ <strong>Beginning Inventory:</strong> Merchandise on hand at the start of the period</div>
                            <div class="list-item">✓ <strong>Net Purchases:</strong> Gross Purchases - Purchase Returns - Purchase Discounts</div>
                            <div class="list-item">✓ <strong>Ending Inventory:</strong> Merchandise remaining at period end</div>
                            
                            <div class="example">
                                <strong>Example 1: COGS Calculation</strong><br>
                                Beginning Inventory: Rs. 50,000<br>
                                Gross Purchases: Rs. 200,000<br>
                                Purchase Returns: Rs. 10,000<br>
                                Purchase Discounts: Rs. 5,000<br>
                                Ending Inventory: Rs. 60,000<br><br>
                                
                                Net Purchases = 200,000 - 10,000 - 5,000 = Rs. 185,000<br>
                                COGS = 50,000 + 185,000 - 60,000 = <span class="emphasis">Rs. 175,000</span>
                            </div>
                            
                            <div class="practice-question">
                                <div class="q-number">Q1. Quick Calculation</div>
                                <div class="q-text">
                                    Beginning Inventory: Rs. 30,000<br>
                                    Purchases: Rs. 150,000<br>
                                    Purchase Returns: Rs. 8,000<br>
                                    Ending Inventory: Rs. 35,000<br>
                                    Calculate COGS.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>Solution:</strong><br>
                                    Net Purchases = 150,000 - 8,000 = 142,000<br>
                                    COGS = 30,000 + 142,000 - 35,000 = <strong>Rs. 137,000</strong>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 2. Income Statement -->
                        <div class="foa-card">
                            <h2>📌 2. Multi-Step Income Statement</h2>
                            
                            <h3>Purpose:</h3>
                            <p>Shows detailed calculations of gross profit and operating income by separating operating revenues and expenses from non-operating items.</p>
                            
                            <h3>Structure:</h3>
                            <div class="formula">
        Sales/Revenue
        (-) Sales Returns & Allowances
        (-) Sales Discounts
        = Net Sales/Revenue
        
        (-) Cost of Goods Sold
        = Gross Profit
        
        (-) Operating Expenses
        = Operating Income
        
        (+/-) Non-Operating Items
        = Net Income Before Tax
        (-) Income Tax
        = Net Income
                            </div>
                            
                            <div class="example">
                                <strong>Example 2: Multi-Step Income Statement</strong><br><br>
                                <div class="formula">
        Gross Sales Revenue: Rs. 500,000
        (-) Sales Returns: 20,000
        (-) Sales Discounts: 10,000
        = Net Sales: 470,000
        
        (-) Cost of Goods Sold: 280,000
        = Gross Profit: 190,000
        
        Operating Expenses:
          Salaries: 40,000
          Rent: 15,000
          Utilities: 8,000
          Depreciation: 5,000
        Total Operating Expenses: (68,000)
        = Operating Income: 122,000
        
        Other Income: 5,000
        Other Expenses: (3,000)
        = Net Income Before Tax: 124,000
        (-) Income Tax (25%): (31,000)
        = Net Income: Rs. 93,000
                                </div>
                            </div>
                            
                            <div class="practice-question">
                                <div class="q-number">Q2. Income Statement Preparation</div>
                                <div class="q-text">
                                    Gross Sales: Rs. 800,000<br>
                                    Sales Returns: 30,000<br>
                                    Sales Discounts: 15,000<br>
                                    COGS: 400,000<br>
                                    Operating Expenses: 120,000<br>
                                    Interest Income: 8,000<br>
                                    Interest Expense: 5,000<br>
                                    Tax Rate: 20%<br><br>
                                    Prepare a multi-step income statement and calculate Net Income.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>Solution:</strong><br>
                                    Net Sales = 800,000 - 30,000 - 15,000 = 755,000<br>
                                    Gross Profit = 755,000 - 400,000 = 355,000<br>
                                    Operating Income = 355,000 - 120,000 = 235,000<br>
                                    Earnings before Tax = 235,000 + 8,000 - 5,000 = 238,000<br>
                                    Tax = 238,000 × 20% = 47,600<br>
                                    <strong>Net Income = Rs. 190,400</strong>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 3. Purchase & Sales Adjustments -->
                        <div class="foa-card">
                            <h2>📌 3. Returns, Allowances & Discounts</h2>
                            
                            <h3>Purchase Adjustments (Buyer):</h3>
                            <div class="key-point">
                                Decreases the cost of purchases (Contra-Expense).
                            </div>
                            <div class="formula">
        Net Purchases = Gross Purchases - Returns - Allowances - Discounts
                            </div>
                            
                            <h3>Sales Adjustments (Seller):</h3>
                            <div class="key-point">
                                Decreases revenue (Contra-Revenue).
                            </div>
                            <div class="formula">
        Net Sales = Gross Sales - Returns - Allowances - Discounts
                            </div>
                            
                            <div class="practice-question">
                                <div class="q-number">Q3. Net Purchases Calculation</div>
                                <div class="q-text">
                                    Gross Purchases: Rs. 500,000<br>
                                    Returns: Rs. 25,000 | Allowances: Rs. 10,000 | Discounts: Rs. 15,000<br>
                                    Calculate Net Purchases.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    Net Purchases = 500,000 - 25,000 - 10,000 - 15,000 = <strong>Rs. 450,000</strong>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 4. Practice Problem Set -->
                        <div class="foa-card">
                            <h2>🎯 Practice Problem Set: Merchandising</h2>
                            
                            <div class="practice-question">
                                <div class="q-number">Q5. Comprehensive Merchandising Problem</div>
                                <div class="q-text">
                                    From the following data, prepare a Cost of Goods Sold Statement and Multi-Step Income Statement:<br><br>
                                    Beginning Inventory: Rs. 100,000<br>
                                    Purchases: Rs. 600,000 | Returns: 30,000 | Discounts: 20,000<br>
                                    Ending Inventory: Rs. 120,000<br>
                                    Gross Sales: Rs. 900,000 | Returns: 40,000 | Discounts: 15,000<br>
                                    Salaries Expense: Rs. 80,000 | Rent: 25,000 | Utilities: 12,000<br>
                                    Interest Income: Rs. 10,000 | Tax Rate: 25%
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>COGS Statement:</strong><br>
                                    Net Purchases = 600k - 30k - 20k = 550,000<br>
                                    Cost of Goods Avail = 100k + 550k = 650,000<br>
                                    COGS = 650,000 - 120,000 = <strong>Rs. 530,000</strong><br><br>
                                    
                                    <strong>Income Statement:</strong><br>
                                    Net Sales = 900k - 40k - 15k = 845,000<br>
                                    Gross Profit = 845k - 530k = 315,000<br>
                                    Op Expenses = 80k + 25k + 12k = 117,000<br>
                                    Op Income = 315k - 117k = 198,000<br>
                                    EBT = 198k + 10k = 208,000<br>
                                    Tax = 208k * 25% = 52,000<br>
                                    <strong>Net Income = Rs. 156,000</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- DEPRECIATION CONTENT -->
                    <div id="foa-tab-depreciation" class="foa-content" style="display:none;">
                        <h1 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">📉 Depreciation Methods</h1>
            
                        <!-- 1. Intro -->
                        <div class="foa-card">
                            <h2>📌 1. Introduction</h2>
                            <p>Depreciation is the systematic allocation of the cost of a fixed asset over its useful life to match expenses with revenue generated.</p>
                             <div class="key-point">
                                <strong>Why Depreciate?</strong> Fixed assets provide benefits over multiple periods. Depreciation ensures proper matching of costs to revenues under the Matching Principle.
                             </div>
                             <h3>Key Terms:</h3>
                            <div class="list-item">✓ <strong>Cost:</strong> Invoice price + transportation + installation costs</div>
                            <div class="list-item">✓ <strong>Salvage Value:</strong> Estimated value at end of useful life</div>
                            <div class="list-item">✓ <strong>Book Value:</strong> Cost - Accumulated Depreciation</div>
                        </div>
            
                        <!-- 2. Straight-Line -->
                        <div class="foa-card">
                            <h2>📌 2. Straight-Line Method</h2>
                            <div class="formula">Annual Depreciation = (Cost - Salvage Value) / Useful Life</div>
                            <div class="example">
                                <strong>Example:</strong> Cost 50k, Salvage 5k, Life 5 yrs.<br>
                                Depr = (50k - 5k) / 5 = <strong>Rs. 9,000 / year</strong>
                            </div>
                            <div class="practice-question">
                                <div class="q-number">Q1. Straight-Line</div>
                                <div class="q-text">
                                    Equipment cost: Rs. 120,000<br>
                                    Salvage value: Rs. 20,000<br>
                                    Useful life: 10 years<br>
                                    Calculate annual depreciation.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    (120,000 - 20,000) / 10 = <strong>Rs. 10,000 / year</strong>
                                </div>
                            </div>
                        </div>
            
                        <!-- 3. Double Declining Balance -->
                        <div class="foa-card">
                            <h2>📌 3. Double Declining Balance (DDB)</h2>
                            <div class="key-point">Accelerated method. Calculates on <strong>Book Value</strong>. Ignores Salvage Value initially.</div>
                            <div class="formula">
        Straight-Line Rate = 1 / Useful Life
        DDB Rate = SL Rate * 2
        Annual Depreciation = Book Value (Beginning) * DDB Rate
                            </div>
                            <div class="example">
                                <strong>Example:</strong> Cost 100k, Life 5 yrs. (SL Rate = 20%, DDB Rate = 40%)<br>
                                Yr 1: 100k * 40% = 40k. (BV = 60k)<br>
                                Yr 2: 60k * 40% = 24k. (BV = 36k)
                            </div>
                            <div class="practice-question">
                                <div class="q-number">Q2. DDB Calculation</div>
                                <div class="q-text">Vehicle 400k, Life 4 yrs. Calculate Yr 1 & 2 Depreciation.</div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    Rate = (1/4)*2 = 50%<br>
                                    Yr 1: 400k * 50% = 200k (BV: 200k)<br>
                                    Yr 2: 200k * 50% = 100k (BV: 100k)
                                </div>
                            </div>
                        </div>
            
                        <!-- 4. Units of Activity -->
                        <div class="foa-card">
                            <h2>📌 4. Units of Activity</h2>
                            <div class="formula">Per Unit = (Cost - Salvage) / Total Units<br>Annual Depr = Units Used * Per Unit</div>
                            <div class="example">
                                <strong>Example:</strong> Cost 270k, Salvage 0, 150k miles total.<br>
                                Per Mile = 270k / 150k = 1.80<br>
                                Yr 1 (45k miles) = 45,000 * 1.80 = <strong>Rs. 81,000</strong>
                            </div>
                        </div>
            
                        <!-- 5. Comparisons -->
                        <div class="foa-card">
                            <h2>📌 5. Comparison</h2>
                            <table>
                                <tr><th>Method</th><th>Formula</th><th>Pattern</th><th>Best For</th></tr>
                                <tr><td>Straight-Line</td><td>(C-S)/L</td><td>Consistent</td><td>Buildings</td></tr>
                                <tr><td>DDB</td><td>BV * Rate</td><td>Declining</td><td>Tech/Autos</td></tr>
                                <tr><td>Units</td><td>Usage Based</td><td>Variable</td><td>Machinery</td></tr>
                            </table>
                        </div>
            
                        <!-- 6. Mistakes -->
                        <div class="foa-card" style="border-left: 4px solid #ef4444;">
                            <h2 style="color:#ef4444;">⚡ Exam Mistakes to Avoid</h2>
                            <div class="list-item">Using salvage value in DDB calculation (Don't do it!).</div>
                            <div class="list-item">Applying DDB rate to original cost instead of Book Value.</div>
                            <div class="list-item">Forgetting to prorate for partial years.</div>
                        </div>
                    </div>

                    <!-- ADJUSTING ENTRIES CONTENT -->
                    <div id="foa-tab-adjusting" class="foa-content" style="display:none;">
                        <h1 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">🔧 Adjusting Entries</h1>
            
                        <!-- 1. Intro -->
                        <div class="foa-card">
                            <h2>📌 1. Fundamentals</h2>
                            <p style="color:var(--text-secondary);">Adjusting entries are made at the end of an accounting period to ensure revenues/expenses are recorded in the correct period (Revenue Recognition & Matching Principles).</p>
                            <div class="key-point"><strong>NEVER involve Cash:</strong> Adjusting entries always involve one Balance Sheet account and one Income Statement account.</div>
                        </div>
            
                        <!-- 2. Cheat Sheet -->
                        <div class="foa-card">
                            <h2>📝 Cheat Sheet Summary</h2>
                            <table>
                                <tr><th>Type</th><th>Condition</th><th>Journal Entry (Dr. / Cr.)</th></tr>
                                <tr><td><strong>Prepaid Exp</strong></td><td>Cash Paid BEFORE Event</td><td>Dr. Expense / Cr. Asset</td></tr>
                                <tr><td><strong>Unearned Rev</strong></td><td>Cash Recv BEFORE Event</td><td>Dr. Liability / Cr. Revenue</td></tr>
                                <tr><td><strong>Accrued Exp</strong></td><td>Expense Before Cash</td><td>Dr. Expense / Cr. Payable</td></tr>
                                <tr><td><strong>Accrued Rev</strong></td><td>Revenue Before Cash</td><td>Dr. Receivable / Cr. Revenue</td></tr>
                            </table>
                        </div>
            
                        <!-- 3. Deferrals -->
                        <div class="foa-card">
                            <h2>📌 2. Deferrals (Cash First)</h2>
                            
                            <h3>A. Prepaid Expenses</h3>
                            <div class="example">
                                <strong>Example 1: Prepaid Insurance</strong><br>
                                Paid Rs. 12,000 for 12 months insurance on Dec 1.<br>
                                At Dec 31: 1 month used.<br>
                                <strong>Entry:</strong> Dr. Insurance Exp 1,000 / Cr. Prepaid Insurance 1,000
                            </div>
            
                            <h3>B. Unearned Revenue</h3>
                            <div class="example">
                                <strong>Example 2: Unearned Service Rev</strong><br>
                                Received 5,000 advance on Dec 15.<br>
                                Performed 40% of work by Dec 31.<br>
                                <strong>Entry:</strong> Dr. Unearned Rev 2,000 / Cr. Service Rev 2,000
                            </div>
                        </div>
            
                        <!-- 4. Accruals -->
                        <div class="foa-card">
                            <h2>📌 3. Accruals (Cash Later)</h2>
            
                            <h3>A. Accrued Expenses</h3>
                            <div class="example">
                                <strong>Example 3: Accrued Salaries</strong><br>
                                Employees earned 10,000 last week of Dec, paid in Jan.<br>
                                <strong>Entry:</strong> Dr. Salaries Exp 10,000 / Cr. Salaries Payable 10,000
                            </div>
            
                            <h3>B. Accrued Revenue</h3>
                            <div class="example">
                                <strong>Example 4: Accrued Services</strong><br>
                                Performed consulting worth 1,000, not valid or paid yet.<br>
                                <strong>Entry:</strong> Dr. Accounts Receivable 1,000 / Cr. Service Revenue 1,000
                            </div>
                        </div>
            
                        <!-- 5. Practice -->
                        <div class="foa-card">
                            <h2>🎯 Practice Problems</h2>
                            
                            <div class="practice-question">
                                <div class="q-number">Q1. Supplies Adjustment</div>
                                <div class="q-text">
                                    Trial Balance Supplies: 5,000.<br>
                                    Physical Count at Dec 31: 1,500.<br>
                                    Prepare adjustment.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    Used = 5,000 - 1,500 = 3,500<br>
                                    <strong>Dr. Supplies Exp 3,500 / Cr. Supplies 3,500</strong>
                                </div>
                            </div>
                            
                            <div class="practice-question">
                                <div class="q-number">Q2. Accrued Interest</div>
                                <div class="q-text">
                                    Loan of 10,000 at 12% interest taken on Oct 1.<br>
                                    Record interest for Dec 31 (3 months).
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    Interest = 10,000 * 12% * (3/12) = 300<br>
                                    <strong>Dr. Interest Exp 300 / Cr. Interest Payable 300</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- BALANCE SHEET CONTENT -->
                    <div id="foa-tab-classified-bs" class="foa-content" style="display:none;">
                         <h1 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">📊 Classified Balance Sheet</h1>
                         
                        <div class="foa-card">
                            <h2>1. Why Classified?</h2>
                            <p>Organizes assets and liabilities into <strong>Current</strong> (within 1 year) and <strong>Non-Current</strong> categories to assess liquidity.</p>
                        </div>

                        <div class="foa-card">
                            <h2>2. Standard Structure</h2>
                            
                            <h3>ASSETS</h3>
                            <div class="formula">
Current Assets:
  Cash                                    Rs. XXX
  Accounts Receivable                     Rs. XXX
  Merchandise Inventory                   Rs. XXX
  Prepaid Expenses                        Rs. XXX
  Total Current Assets                    Rs. XXX

Property, Plant, & Equipment:
  Equipment                               Rs. XXX
  Less: Accumulated Depreciation          (Rs. XXX)
  Net Equipment                           Rs. XXX
  
  Furniture                               Rs. XXX
  Less: Accumulated Depreciation          (Rs. XXX)
  Net Furniture                           Rs. XXX
  
  Total Fixed Assets (PPE)                Rs. XXX

TOTAL ASSETS                              Rs. XXX
                            </div>

                            <h3>LIABILITIES & EQUITY</h3>
                            <div class="formula">
Current Liabilities:
  Accounts Payable                        Rs. XXX
  Salaries Payable                        Rs. XXX
  Short-term Loan                         Rs. XXX
  Total Current Liabilities               Rs. XXX

Long-term Liabilities:
  Long-term Loan                          Rs. XXX
  Total Long-term Liabilities             Rs. XXX

TOTAL LIABILITIES                         Rs. XXX

OWNER'S EQUITY
  Capital Account                         Rs. XXX
  Less: Drawings                          (Rs. XXX)
  Current Period Net Income               Rs. XXX
  Total Owner's Equity                    Rs. XXX

TOTAL LIABILITIES & EQUITY                Rs. XXX
                            </div>
                        </div>
                        
                        <div class="foa-card">
                            <h2>📝 Example: Ahmed Trading</h2>
                            <div class="example">
                                <strong>AHMED TRADING - CLASSIFIED BALANCE SHEET</strong><br>
                                <strong>As of December 31, 2024</strong><br><br>
                                <div class="formula" style="border:none; padding:0; margin:0;">
ASSETS
Current Assets:
  Cash                                    Rs. 50,000
  Accounts Receivable                     Rs. 80,000
  Merchandise Inventory                   Rs. 120,000
  Total Current Assets                    Rs. 250,000

Property, Plant, & Equipment:
  Equipment                    150,000
  Less: Accumulated Depreciation (30,000)
  Net Equipment                           Rs. 120,000
  
  Total Fixed Assets                      Rs. 120,000

TOTAL ASSETS                              Rs. 370,000

LIABILITIES
Current Liabilities:
  Accounts Payable                        Rs. 60,000
  Salaries Payable                        Rs. 10,000
  Total Current Liabilities               Rs. 70,000

OWNER'S EQUITY
  Ahmed, Capital                          Rs. 300,000

TOTAL LIABILITIES & EQUITY                Rs. 370,000
                                </div>
                            </div>
                            <div class="key-point">Remember: Total Assets must always equal Total Liabilities + Owner's Equity. This is the fundamental accounting equation!</div>
                        </div>

                        <div class="foa-card">
                            <h2>🎯 Practice Problem</h2>
                            <div class="practice-question">
                                <div class="q-number">Q1. Prepare Classified Balance Sheet</div>
                                <div class="q-text">
                                    From the following data, prepare a Classified Balance Sheet:<br><br>
                                    Cash: Rs. 25,000<br>
                                    Accounts Receivable: Rs. 40,000<br>
                                    Inventory: Rs. 60,000<br>
                                    Equipment: Rs. 100,000<br>
                                    Accumulated Depreciation: Rs. 20,000<br>
                                    Accounts Payable: Rs. 35,000<br>
                                    Owner's Capital: Rs. 170,000<br><br>
                                    Verify the equation: Assets = Liabilities + Equity
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>ASSETS</strong><br>
                                    Current Assets: 25,000 + 40,000 + 60,000 = Rs. 125,000<br>
                                    Fixed Assets: 100,000 - 20,000 = Rs. 80,000<br>
                                    <strong>Total Assets = Rs. 205,000</strong><br><br>
                                    
                                    <strong>LIABILITIES & EQUITY</strong><br>
                                    Current Liabilities: Rs. 35,000<br>
                                    Owner's Capital: Rs. 170,000<br>
                                    <strong>Total Liabilities & Equity = Rs. 205,000</strong><br><br>
                                    
                                    ✓ Balance Sheet balances: Assets = Liabilities + Equity
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- OWNERS EQUITY CONTENT -->
                    <div id="foa-tab-owners-equity" class="foa-content" style="display:none;">
                        <h1 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">💰 Owner's Equity Statement</h1>

                        <!-- 1. Intro -->
                        <div class="foa-card">
                            <h2>1. Purpose</h2>
                            <p>The Owner's Equity Statement shows how the owner's capital changes during a period, including the beginning capital, net income/loss, drawings, and ending capital.</p>
                            <div class="key-point"><strong>Purpose:</strong> Bridges the Income Statement and Balance Sheet by showing how net income affects owner's capital.</div>
                            
                            <h3>Basic Formula:</h3>
                            <div class="formula">
Beginning Capital
(+) Net Income (or - Net Loss)
(-) Owner's Drawings
= Ending Capital

OR

Ending Capital = Beginning Capital + Net Income - Drawings
                            </div>
                            
                            <h3>Key Terms:</h3>
                            <div class="list-item">✓ <strong>Beginning Capital:</strong> Owner's equity at the start of the period</div>
                            <div class="list-item">✓ <strong>Net Income:</strong> Profit from operations (from Income Statement)</div>
                            <div class="list-item">✓ <strong>Drawings:</strong> Cash/assets withdrawn by owner for personal use</div>
                            <div class="list-item">✓ <strong>Ending Capital:</strong> Owner's equity at the end of the period</div>
                        </div>

                        <!-- 2. Format -->
                        <div class="foa-card">
                            <h2>2. Standard Format</h2>
                            <div class="formula">
COMPANY NAME
OWNER'S EQUITY STATEMENT
For the Period [Date to Date]

Beginning Capital (or Opening Capital)         Rs. XXX

Add: Net Income for the Period                 Rs. XXX

Less: Owner's Drawings                        (Rs. XXX)

Ending Capital (or Closing Capital)            Rs. XXX
                            </div>
                            
                            <div class="example">
                                <strong>Example 1: Fatima's Retail Store</strong><br><br>
                                <div class="formula" style="border:none; padding:0; margin:0;">
FATIMA'S RETAIL STORE
OWNER'S EQUITY STATEMENT
For the Year Ended December 31, 2024

Fatima, Capital - January 1, 2024           Rs. 500,000

Add: Net Income for 2024                    Rs. 120,000
                                            Rs. 620,000

Less: Fatima's Drawings                    (Rs. 40,000)

Fatima, Capital - December 31, 2024         Rs. 580,000
                                </div>
                            </div>
                            
                            <div class="key-point">The ending capital on the Owner's Equity Statement matches the owner's capital figure on the Classified Balance Sheet!</div>
                        </div>

                        <!-- 3. Connection -->
                        <div class="foa-card">
                            <h2>3. Connection to Financial Statements</h2>
                            <table>
                                <tr><th>Statement</th><th>Provides</th><th>Used in</th></tr>
                                <tr><td>Income Statement</td><td>Net Income</td><td>Owner's Equity Statement</td></tr>
                                <tr><td>Owner's Equity Statement</td><td>Ending Capital</td><td>Balance Sheet</td></tr>
                                <tr><td>Balance Sheet</td><td>Assets & Liabilities</td><td>Final position</td></tr>
                            </table>
                            
                             <div class="example">
                                <strong>Example 2: Complete Example with Calculations</strong><br><br>
                                Beginning Capital: Rs. 300,000<br>
                                Net Income for period: Rs. 75,000<br>
                                Owner's Drawings: Rs. 25,000<br><br>
                                
                                <div class="formula" style="border:none; padding:0; margin:0;">
Beginning Capital:                           Rs. 300,000
Add: Net Income:                            +Rs. 75,000
                                            Rs. 375,000
Less: Drawings:                             -Rs. 25,000
Ending Capital:                              Rs. 350,000
                                </div>
                                <br>
                                This Rs. 350,000 ending capital appears on the Balance Sheet.
                            </div>
                        </div>

                        <!-- 4. Practice -->
                        <div class="foa-card">
                            <h2>🎯 Practice Problems</h2>

                            <div class="practice-question">
                                <div class="q-number">Q1. Prepare Owner's Equity Statement</div>
                                <div class="q-text">
                                    Given the following information, prepare an Owner's Equity Statement:<br><br>
                                    Ali's Capital on January 1, 2024: Rs. 250,000<br>
                                    Net Income for 2024: Rs. 85,000<br>
                                    Ali's Drawings during 2024: Rs. 30,000<br><br>
                                    Calculate ending capital.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>ALI'S BUSINESS</strong><br>
                                    <strong>OWNER'S EQUITY STATEMENT</strong><br>
                                    <strong>For the Year Ended December 31, 2024</strong><br><br>
                                    
                                    Ali, Capital - January 1, 2024        Rs. 250,000<br>
                                    Add: Net Income for 2024              Rs. 85,000<br>
                                    Less: Ali's Drawings                 (Rs. 30,000)<br>
                                    <strong>Ali, Capital - December 31, 2024      Rs. 305,000</strong>
                                </div>
                            </div>

                            <div class="practice-question">
                                <div class="q-number">Q2. Reverse Calculation</div>
                                <div class="q-text">
                                    An owner's equity statement shows:<br>
                                    - Ending Capital: Rs. 420,000<br>
                                    - Net Income: Rs. 60,000<br>
                                    - Drawings: Rs. 25,000<br><br>
                                    Calculate the Beginning Capital.
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>Solution:</strong><br>
                                    Using: Beginning Capital + Net Income - Drawings = Ending Capital<br><br>
                                    Beginning Capital + 60,000 - 25,000 = 420,000<br>
                                    Beginning Capital + 35,000 = 420,000<br>
                                    <strong>Beginning Capital = Rs. 385,000</strong>
                                </div>
                            </div>
                            
                            <div class="practice-question">
                                <div class="q-number">Q3. Complete Financial Statements Cycle</div>
                                <div class="q-text">
                                    From the following, prepare:<br>
                                    (a) Owner's Equity Statement<br>
                                    (b) Indicate what figures appear on the Balance Sheet<br><br>
                                    Beginning Capital: Rs. 200,000<br>
                                    Revenue: Rs. 150,000<br>
                                    Expenses: Rs. 60,000<br>
                                    Owner Drawings: Rs. 20,000
                                </div>
                                <button class="answer-btn" onclick="toggleAnswer(this)">Show Answer</button>
                                <div class="answer">
                                    <strong>(a) Owner's Equity Statement:</strong><br><br>
                                    Beginning Capital:                   Rs. 200,000<br>
                                    Net Income (150,000 - 60,000):      Rs. 90,000<br>
                                    Less: Drawings:                     (Rs. 20,000)<br>
                                    <strong>Ending Capital:                        Rs. 270,000</strong><br><br>
                                    
                                    <strong>(b) Balance Sheet Figure:</strong><br>
                                    Owner's Capital (on Balance Sheet) = Rs. 270,000
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- VIDEOS CONTENT -->
                    <div id="foa-tab-videos" class="foa-content" style="display:none;">
                         <h2 style="font-family:var(--font-display); color:var(--brand-primary); margin-bottom:1rem;">Video Tutorials</h2>
                         
                         <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:2rem;">
                            <!-- Main Player -->
                            <div class="card" style="padding:0; overflow:hidden; aspect-ratio:16/9; grid-column: 1 / -1;">
                                <iframe 
                                    id="main-video-player" 
                                    width="100%" 
                                    height="100%" 
                                    src="https://www.youtube.com/embed/ujY9xI0jstc" 
                                    title="YouTube video player"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen
                                    style="border:none;">
                                </iframe>
                            </div>
                            
                            <!-- Playlist -->
                            <div class="card" style="grid-column: 1 / -1;">
                                <h3 style="margin-bottom:1rem;">Playlist (Click to Play)</h3>
                                <div id="video-list" style="display:flex; flex-direction:column; gap:2rem;">
                                    
                                    <!-- A. General Journal & Ledger -->
                                    <div>
                                        <h4 style="color:var(--brand-secondary); margin-bottom:1rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">📚 General Journal & Ledger</h4>
                                        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1rem;">
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('ujY9xI0jstc')"><p style="font-size:0.9rem; font-weight:bold;">General Journal 1</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('GaeU3Tm25R4')"><p style="font-size:0.9rem; font-weight:bold;">General Journal 2</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('Ll1PAiq0Iro')"><p style="font-size:0.9rem; font-weight:bold;">Ledger</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('KOScvCEKfLg')"><p style="font-size:0.9rem; font-weight:bold;">Trial Balance</p></div>
                                        </div>
                                    </div>
                                    
                                    <!-- B. Adjusting Entries -->
                                    <div>
                                        <h4 style="color:var(--brand-secondary); margin-bottom:1rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">🔧 Adjusting Entries</h4>
                                        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1rem;">
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('7-TM6bPUn6s')"><p style="font-size:0.9rem; font-weight:bold;">Adjusting Entries 1</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('N6hrnzyfO8c')"><p style="font-size:0.9rem; font-weight:bold;">Adjusting Entries 2</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('cO9DvtFa4f4')"><p style="font-size:0.9rem; font-weight:bold;">Adjusting Entries 3</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('LJ90f1PirR8')"><p style="font-size:0.9rem; font-weight:bold;">Adjusting Entries 4</p></div>
                                        </div>
                                    </div>

                                    <!-- C. Financial Statements -->
                                    <div>
                                        <h4 style="color:var(--brand-secondary); margin-bottom:1rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">📊 Financial Statements</h4>
                                        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1rem;">
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('ZisUveyJTdE')"><p style="font-size:0.9rem; font-weight:bold;">Income Statement 1</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('pi2TopQgBtE')"><p style="font-size:0.9rem; font-weight:bold;">Income Statement 2</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('J8SZqn7MK6s')"><p style="font-size:0.9rem; font-weight:bold;">Classified BS 1</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('71b-hnjn5xI')"><p style="font-size:0.9rem; font-weight:bold;">Classified BS 2</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('B3vESswKLM4')"><p style="font-size:0.9rem; font-weight:bold;">Owner's Equity Stmt</p></div>
                                        </div>
                                    </div>
                                    
                                    <!-- D. Merchandising -->
                                    <div>
                                        <h4 style="color:var(--brand-secondary); margin-bottom:1rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">🛍️ Merchandising Operations</h4>
                                        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1rem;">
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('FcRT5-5tYh8')"><p style="font-size:0.9rem; font-weight:bold;">Buying & Selling</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('3j-CG84f988')"><p style="font-size:0.9rem; font-weight:bold;">Perpetual System</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('uTMHzKWXJks')"><p style="font-size:0.9rem; font-weight:bold;">COGS Statement 1</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('jZRgpqwkUe4')"><p style="font-size:0.9rem; font-weight:bold;">COGS Statement 2</p></div>
                                        </div>
                                    </div>

                                    <!-- E. Depreciation -->
                                    <div>
                                        <h4 style="color:var(--brand-secondary); margin-bottom:1rem; border-bottom:1px solid var(--border-subtle); padding-bottom:0.5rem;">📉 Depreciation</h4>
                                        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:1rem;">
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('RHo_3kWaIJo')"><p style="font-size:0.9rem; font-weight:bold;">Straight Line</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('jOde49ebWvQ')"><p style="font-size:0.9rem; font-weight:bold;">Units of Activity</p></div>
                                            <div class="card" style="padding:1rem; cursor:pointer; background:rgba(255,255,255,0.05); transition:0.2s;" onclick="playVideo('ziayge17w6g')"><p style="font-size:0.9rem; font-weight:bold;">Double Declining Balance</p></div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                         </div>
                    </div>
                </div>
            </section>

            <!-- SEATING PLAN SECTION -->
            <section id="seating-plan" class="section-view">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem; border-bottom: 2px solid var(--brand-primary); padding-bottom: 1rem;">
                    <h1 style="font-family:var(--font-display); font-size:3rem; letter-spacing:-1px;">EXAM <span style="color:var(--brand-primary); text-shadow: 0 0 20px rgba(185, 28, 28, 0.4);">SEATING</span></h1>
                </div>
                <div class="card" style="padding:0; overflow:hidden; border-radius:1.5rem; height:calc(100vh - 200px); background:#0c0c0e; border:1px solid var(--border-subtle);">
                    <iframe id="seating-frame" src="seating_plan.html" style="width:100%; height:100%; border:none;" allow="fullscreen"></iframe>
                </div>
            </section>

        </main>
    </div>


    <!-- MOVED AI INTERFACE CONTAINER (FULLSCREEN ROOT) -->
    <div id="ai-interface"
        style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:9999; background:rgba(0,0,0,1); overflow:hidden;">
        <iframe src="/ai" style="width:100%; height:100%; border:none; display:block;"
            allow="camera; microphone; autoplay"></iframe>
        <button onclick="closeAI()"
            style="position:absolute; top:2rem; right:2rem; background:rgba(255, 0, 0, 0.2); border:1px solid rgba(255,255,255,0.3); color:white; width:50px; height:50px; border-radius:50%; cursor:pointer; z-index:10000; font-size:1.5rem; display:flex; align-items:center; justify-content:center; transition: all 0.3s ease;"
            onmouseover="this.style.background='rgba(255,0,0,0.8)'"
            onmouseout="this.style.background='rgba(255,0,0,0.2)'">✕</button>
    </div>

    <script>
        // --- DATA (RETAINED FROM PREVIOUS) ---
        // (In a real app, I would import these, but keeping single file structure for you)
        // I will re-inject the expanded notes here to ensure nothing is lost.

        const notes = [
            {
                id: 'ch2', title: 'Ch 2: Company and Marketing Strategy', content: `
                <h3>Theme: Partnering to Build Customer Engagement, Value, and Relationships</h3>
                
                <h3>1. Strategic Planning</h3>
                <p>The process of developing and maintaining a strategic fit between the organizations goals/capabilities and its changing marketing opportunities.</p>
                <div class="tip-box">
                    <strong>The 4 Steps of Strategic Planning:</strong>
                    <ol>
                        <li><strong>Defining the Mission:</strong> What is our purpose?</li>
                        <li><strong>Setting Objectives:</strong> Turning the mission into detailed supporting objectives.</li>
                        <li><strong>Designing the Business Portfolio:</strong> Deciding which businesses to invest in.</li>
                        <li><strong>Planning Marketing Strategies:</strong> Detailed planning for each functional department.</li>
                    </ol>
                    <p>💡 <strong>Memory Tip:</strong> M-O-P-S (Mission, Objectives, Portfolio, Strategies).</p>
                </div>

                <h3>2. Mission Statement</h3>
                <p>A statement of the organizations purpose—what it wants to accomplish in the larger environment.</p>
                <h4>Product-Oriented vs. Market-Oriented Definitions:</h4>
                <ul>
                    <li><strong>Product-Oriented:</strong> "We sell coffee." (Starbucks)</li>
                    <li><strong>Market-Oriented:</strong> "We sell 'The Starbucks Experience'—one that enriches people's lives."</li>
                </ul>
                <p><em>Example:</em> Airbnb isnt just about renting rooms; their mission is "Belong Anywhere."</p>
                <p><em>Example:</em> CVS Health is a "pharmacy innovation company" helping people on their path to better health.</p>

                <h3>3. Business Portfolio Analysis (BCG Matrix)</h3>
                <p>Evaluates a company's Strategic Business Units (SBUs) based on Market Growth Rate and Relative Market Share.</p>
                <ul>
                    <li><strong>Stars:</strong> High growth, High share. (Need heavy investment to finance growth).</li>
                    <li><strong>Cash Cows:</strong> Low growth, High share. (Established, produce cash to pay bills).</li>
                    <li><strong>Question Marks:</strong> High growth, Low share. (Need cash to hold share; hard decision).</li>
                    <li><strong>Dogs:</strong> Low growth, Low share. (Generate enough cash to sustain themselves but no promise).</li>
                </ul>

                <h3>4. The Product/Market Expansion Grid (Growth Strategies)</h3>
                <p>How companies grow sales.</p>
                <ul>
                    <li><strong>Market Penetration:</strong> Existing products in Existing markets (e.g., selling more to current customers).</li>
                    <li><strong>Market Development:</strong> Existing products in New markets (e.g., Starbucks opening in a new country).</li>
                    <li><strong>Product Development:</strong> New products in Existing markets (e.g., Starbucks introducing a new seasonal drink).</li>
                    <li><strong>Diversification:</strong> New products in New markets (e.g., buying a non-food business).</li>
                </ul>

                <h3>5. Marketing Mix (The 4 Ps)</h3>
                <p>The set of tactical marketing tools the firm blends to produce the response it wants in the target market.</p>
                <ul>
                    <li><strong>Product:</strong> The goods/services offered (Variety, Design, Packaging).</li>
                    <li><strong>Price:</strong> Amount of money customers pay (List price, Discounts).</li>
                    <li><strong>Place:</strong> Company activities that make the product available (Channels, Logistics).</li>
                    <li><strong>Promotion:</strong> Activities that communicate value (Advertising, PR).</li>
                </ul>

                <h3>6. SWOT Analysis</h3>
                <ul>
                    <li><strong>Strengths (Internal):</strong> Capabilities, resources.</li>
                    <li><strong>Weaknesses (Internal):</strong> Limitations.</li>
                    <li><strong>Opportunities (External):</strong> Favorable trends.</li>
                    <li><strong>Threats (External):</strong> Unfavorable external factors.</li>
                </ul>

                <h3>7. Measuring Marketing ROI (The "Perfecting" Addition)</h3>
                <p><strong>Marketing ROI:</strong> Net return from a marketing investment divided by the costs of the marketing investment.</p>
                <ul>
                    <li><strong>Purpose:</strong> Measures the profits generated by investments in marketing activities.</li>
                    <li><strong>Measures:</strong> Standard measures (sales, market share) and Customer-centered measures (customer acquisition, retention, lifetime value).</li>
                </ul>
                `
            },
            {
                id: 'ch7', title: 'Ch 7: Customer Value-Driven Marketing Strategy', content: `
                <h3>Theme: Creating Value for Target Customers</h3>

                <h3>1. The Core Strategy Steps (STDP)</h3>
                <ul>
                    <li><strong>Segmentation:</strong> Divide the total market into smaller segments.</li>
                    <li><strong>Targeting:</strong> Select the segment or segments to enter.</li>
                    <li><strong>Differentiation:</strong> Differentiate the market offering to create superior customer value.</li>
                    <li><strong>Positioning:</strong> Position the market offering in the minds of target customers.</li>
                </ul>

                <h3>2. Market Segmentation Bases</h3>
                <p>How do we divide the market?</p>
                <ul>
                    <li><strong>Geographic:</strong> Nations, regions, states, cities (e.g., Target sells winter coats in NY, swimsuits in FL).</li>
                    <li><strong>Demographic:</strong> Age, gender, income, occupation.</li>
                    <li><strong>Psychographic:</strong> Social class, lifestyle, personality. <br><em>Example:</em> Rocky Mountain Tiny Houses targets the "simple living" lifestyle segment.</li>
                    <li><strong>Behavioral:</strong> Occasions, benefits sought, user status, usage rate. <br><em>Example:</em> Schwinn makes bikes for different benefits—mountain vs. road.</li>
                </ul>
                <div class="mnemonic-box">💡 <strong>Memory Tip:</strong> G-D-P-B (Good Dogs Play Ball) -> Geo, Demo, Psycho, Behavior.</div>

                <h3>3. Business & International Segmentation (The "Perfecting" Addition)</h3>
                <ul>
                    <li><strong>Business Markets:</strong> Segmented by operating characteristics, purchasing approaches, situational factors, and personal characteristics.</li>
                    <li><strong>Intermarket (Cross-Market) Segmentation:</strong> Forming segments of consumers who have similar needs/behaviors even though they are located in different countries. <br><em>Example:</em> Zara targets style-conscious but value-seeking consumers globally.</li>
                </ul>

                <h3>4. Requirements for Effective Segmentation</h3>
                <p>To be useful, segments must be:</p>
                <ul>
                    <li><strong>Measurable:</strong> Size and purchasing power can be measured.</li>
                    <li><strong>Accessible:</strong> Can be reached and served.</li>
                    <li><strong>Substantial:</strong> Large and profitable enough.</li>
                    <li><strong>Differentiable:</strong> Respond differently to different marketing elements.</li>
                    <li><strong>Actionable:</strong> Effective programs can be designed for them.</li>
                </ul>

                <h3>5. Market Targeting Strategies</h3>
                <ul>
                    <li><strong>Undifferentiated (Mass) Marketing:</strong> Target the whole market with one offer.</li>
                    <li><strong>Differentiated (Segmented) Marketing:</strong> Target several market segments with separate offers. <br><em>Example:</em> Marriott (IHG) has different brands like Holiday Inn vs. Hotel Indigo.</li>
                    <li><strong>Concentrated (Niche) Marketing:</strong> Large share of a small market. <br><em>Example:</em> American Giant focusing on made-in-USA apparel.</li>
                    <li><strong>Micromarketing:</strong> Tailoring products to specific individuals (Local marketing & Individual marketing). <br><em>Example:</em> FitMyFoot 3D prints footwear for individual feet.</li>
                </ul>

                <h3>6. Differentiation & Positioning</h3>
                <p><strong>Positioning:</strong> The place the product occupies in the consumer's mind relative to competitors.</p>
                <p><em>Example:</em> Land Rover positions itself on luxury + off-road performance.</p>
                <div class="tip-box"><strong>Socially Responsible Targeting:</strong> Marketers must consider if they are targeting vulnerable segments responsibly (e.g., not targeting kids with junk food).</div>
                `
            },
            {
                id: 'ch8', title: 'Ch 8: Products, Services, and Brands', content: `
                <h3>Theme: Building Customer Value</h3>

                <h3>1. What is a Product?</h3>
                <p>Anything offered to a market for attention, acquisition, use, or consumption.</p>
                <ul>
                    <li><strong>Service:</strong> Intangible product (banking, airline travel).</li>
                    <li><strong>Experience:</strong> Creating memorable events.</li>
                </ul>
                <p><em>Example:</em> Nike isn't just shoes; it's a "Just Do It" passion for sports.</p>
                <p><em>Example:</em> Airbnb "Night At" program (sleepover at Dracula's castle).</p>

                <h4>Three Levels of Product:</h4>
                <ol>
                    <li><strong>Core Customer Value:</strong> What is the buyer really buying? (e.g., An iPad is "entertainment").</li>
                    <li><strong>Actual Product:</strong> Brand name, features, design, packaging.</li>
                    <li><strong>Augmented Product:</strong> After-sale service, warranty, product support.</li>
                </ol>

                <h3>2. Consumer Product Classifications</h3>
                <ul>
                    <li><strong>Convenience:</strong> Frequent purchase, little effort (Toothpaste).</li>
                    <li><strong>Shopping:</strong> Less frequent, compares suitability/price (Furniture, Clothing).</li>
                    <li><strong>Specialty:</strong> Strong brand preference, little comparison, high price (Rolex, Crystal).</li>
                    <li><strong>Unsought:</strong> Consumer doesn't know about or doesn't normally think of buying (Life Insurance, Blood Donation).</li>
                </ul>
                <div class="mnemonic-box">💡 <strong>Memory Tip:</strong> C-S-S-U (Can Sam Sell Umbrellas?) -> Convenience, Shopping, Specialty, Unsought.</div>

                <h3>3. Industrial & Social Products (The "Perfecting" Addition)</h3>
                <ul>
                    <li><strong>Industrial Products:</strong> Purchased for further processing or for use in conducting a business (Materials and parts, Capital items, Supplies).</li>
                    <li><strong>Place Marketing:</strong> Changing attitudes toward particular places (e.g., Tourism boards).</li>
                    <li><strong>Social Marketing:</strong> Using marketing to improve individual/societal well-being. <br><em>Example:</em> "She Can STEM" campaign to encourage girls in science.</li>
                </ul>

                <h3>4. Product Decisions</h3>
                <p><strong>Individual Decisions:</strong> Attributes -> Branding -> Packaging -> Labeling -> Support Services.</p>
                
                <h4>Product Line</h4>
                <p>A group of closely related products.</p>
                <ul>
                    <li><strong>Line Filling:</strong> Adding more items within the present range.</li>
                    <li><strong>Line Stretching:</strong> Lengthening the product line beyond current range. <br><em>Example:</em> Google Nest stretching/filling to serve smart homes.</li>
                </ul>

                <h4>Product Mix</h4>
                <p>All product lines and items a seller offers. Dimensions: Width, Length, Depth, Consistency.</p>
                <p><em>Example:</em> Colgate-Palmolive "World of Care".</p>

                <h3>5. Services Marketing Characteristics</h3>
                <p>Services are different from physical goods because of four traits:</p>
                <ul>
                    <li><strong>Intangibility:</strong> Cannot be seen/felt before purchase.</li>
                    <li><strong>Inseparability:</strong> Produced and consumed at the same time.</li>
                    <li><strong>Variability:</strong> Quality depends on who provides it and when.</li>
                    <li><strong>Perishability:</strong> Cannot be stored for later sale.</li>
                </ul>
                <div class="mnemonic-box">💡 <strong>Memory Tip:</strong> VIIP -> Variability, Intangibility, Inseparability, Perishability.</div>

                <h3>6. Brand Strategy Decisions</h3>
                <p><strong>Brand Equity:</strong> The differential effect that knowing the brand name has on customer response.</p>
                
                <h4>Brand Sponsorship:</h4>
                <ul>
                    <li>National Brand (Samsung).</li>
                    <li>Private (Store) Brand (Kirkland/Costco).</li>
                    <li>Licensing (Disney characters on toothbrushes).</li>
                    <li>Co-branding (Two brands together).</li>
                </ul>

                <h4>Brand Development Strategies:</h4>
                <ul>
                    <li><strong>Line Extension:</strong> Existing Brand Name, Existing Product Category (e.g., New flavor of Coke).</li>
                    <li><strong>Brand Extension:</strong> Existing Brand Name, New Product Category (e.g., Mr. Clean car wash).</li>
                    <li><strong>Multibrands:</strong> New Brand Name, Existing Product Category (e.g., PepsiCo owns Pepsi, Mountain Dew).</li>
                    <li><strong>New Brands:</strong> New Brand Name, New Product Category.</li>
                </ul>
                `
            },
            {
                id: 'ch9', title: 'Ch 9: New Products & Product Life Cycle', content: `
                <h3>1. The Golden Rule of this Chapter</h3>
                <p><strong>Innovation is Survival.</strong></p>
                <p><strong>Fact:</strong> 60%–80% of new products fail.</p>
                <p><strong>The Solution:</strong> You need a system to innovate.</p>
                <p><em>Example:</em> Google (Alphabet) isn't just a search engine; it's a "Moonshot Factory" culture that accepts failure to find the next big thing.</p>

                <h3>2. The 8 Steps to Creating a New Product</h3>
                <div class="tip-box">
                    <strong>Must memorize this order:</strong>
                    <ol>
                        <li><strong>Idea Generation:</strong> Finding ideas (Internal R&D, Crowdsourcing).</li>
                        <li><strong>Idea Screening:</strong> R-W-W Rule (Real? Win? Worth?).</li>
                        <li><strong>Concept Development & Testing:</strong> Detailed version tested with consumers ("Would you buy this?").</li>
                        <li><strong>Marketing Strategy:</strong> Target market, price, budget.</li>
                        <li><strong>Business Analysis:</strong> Check the money (Sales vs Costs).</li>
                        <li><strong>Product Development:</strong> Building the physical prototype (Big money spent here, e.g., Pfizer COVID vaccine).</li>
                        <li><strong>Test Marketing:</strong> Standard (Real cities) vs Simulated (Online).</li>
                        <li><strong>Commercialization:</strong> Full launch (When and Where).</li>
                    </ol>
                    <p>🧠 <strong>Mnemonic:</strong> I Saw Cats Marching Behind People Tasting Candy.</p>
                </div>

                <h3>3. The Product Life Cycle (PLC)</h3>
                <ul>
                    <li><strong>Stage 1: Introduction (The Baby):</strong> Low sales, negative profits. Goal: Awareness.</li>
                    <li><strong>Stage 2: Growth (The Teenager):</strong> Climbing sales, rising profits. Goal: Maximize Market Share.</li>
                    <li><strong>Stage 3: Maturity (The Adult):</strong> Peak sales, leveling profits. Goal: Defend profit (Modify product/marketing).</li>
                    <li><strong>Stage 4: Decline (The Senior):</strong> Falling sales. Strategy: Milk (cut costs) or Drop.</li>
                </ul>

                <h3>4. Vital Terms</h3>
                <ul>
                    <li><strong>Crowdsourcing:</strong> Asking the "crowd" for ideas.</li>
                    <li><strong>Standardization:</strong> Exact same product globally (iPhone).</li>
                    <li><strong>Adaptation:</strong> Modifying for local culture (McDonald's wine in France).</li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - If they ask about "Screening": Write <strong>R-W-W</strong>.<br>
                    - Introduction Stage Goal = <strong>AWARENESS</strong>.<br>
                    - Maturity Stage Goal = <strong>DEFENSE</strong>.
                </div>
                `
            },
            {
                id: 'ch10', title: 'Ch 10: Pricing – Understanding Value', content: `
                <h3>1. The Golden Rule of this Chapter</h3>
                <p><strong>Price is the only "P" that brings in money.</strong> (Others are costs).</p>
                <p>You don't just set a number; you capture value.</p>
                <p><em>Example:</em> Peloton charges $1,745 for the "cult" and lifestyle, not just the bike.</p>

                <h3>2. The 3 Major Pricing Strategies</h3>
                <h4>Strategy 1: Customer Value-Based Pricing (The "Right" Way)</h4>
                <p>Start with the customer's perception of value.</p>
                <ul>
                    <li><strong>Good-Value Pricing:</strong> Fair quality at fair price (Aldi).</li>
                    <li><strong>Value-Added Pricing:</strong> Charging more for features/services (Peloton).</li>
                </ul>

                <h4>Strategy 2: Cost-Based Pricing (The "Math" Way)</h4>
                <p>Cost + Markup. Risk: Ignores demand.</p>
                <ul>
                    <li><strong>Cost-Plus:</strong> Cost + Markup.</li>
                    <li><strong>Break-Even:</strong> Price covers costs exactly (0 profit).</li>
                </ul>

                <h4>Strategy 3: Competition-Based Pricing (The "Follower" Way)</h4>
                <p>Look at competitors. More value? Higher price. Less value? Lower price.</p>

                <h3>3. Essential Cost Terms</h3>
                <ul>
                    <li><strong>Fixed Costs (Overhead):</strong> Stay same (Rent, Salaries). Memory: "The Factory".</li>
                    <li><strong>Variable Costs:</strong> Go up with volume (Materials). Memory: "The Volume".</li>
                    <li><strong>Total Costs:</strong> Fixed + Variable.</li>
                </ul>

                <h3>4. The Economics Stuff</h3>
                <ul>
                    <li><strong>Demand Curve:</strong> Price ⬆️ = Demand ⬇️.</li>
                    <li><strong>Price Elasticity:</strong> Sensitivity to price.
                        <ul>
                            <li><strong>Inelastic:</strong> "Need it" (Gas).</li>
                            <li><strong>Elastic:</strong> "Too expensive, bye" (Vacation).</li>
                        </ul>
                    </li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - "Perception" = <strong>Value-Based</strong>.<br>
                    - "Markup" = <strong>Cost-Based</strong>.
                </div>
                `
            },
            {
                id: 'ch11', title: 'Ch 11: Pricing Strategies (Advanced)', content: `
                <h3>1. Pricing New Products</h3>
                <ul>
                    <li><strong>Market-Skimming:</strong> High initial price to "skim" revenue (Apple). Use when high quality/image.</li>
                    <li><strong>Market-Penetration:</strong> Low initial price to win share (Samsung/IKEA). Use when market is price-sensitive.</li>
                </ul>

                <h3>2. Product Mix Pricing</h3>
                <ul>
                    <li><strong>Product Line:</strong> Price steps (iPhone 14 vs Pro).</li>
                    <li><strong>Optional-Product:</strong> Main + Extras (Car + GPS).</li>
                    <li><strong>Captive-Product:</strong> Cheap main + Expensive supplies (Printer + Ink). Memory: "Trapped".</li>
                    <li><strong>By-Product:</strong> Selling waste (Sawdust).</li>
                    <li><strong>Product Bundle:</strong> Combo pack (McDonald's Meal).</li>
                </ul>

                <h3>3. Price Adjustment Strategies</h3>
                <ul>
                    <li><strong>Discount/Allowance:</strong> Cash discount, Trade-in.</li>
                    <li><strong>Segmented:</strong> Student/Senior discounts.</li>
                    <li><strong>Psychological:</strong> $100 perfume smells better than $10. Reference prices ("Was $100!").</li>
                    <li><strong>Promotional:</strong> Flash sales.</li>
                    <li><strong>Dynamic:</strong> Prices move with demand (Uber). Memory: "Movement".</li>
                </ul>

                <h3>4. Public Policy (The Illegal Stuff)</h3>
                <ul>
                    <li><strong>Price Fixing:</strong> Collusion with competitors.</li>
                    <li><strong>Predatory Pricing:</strong> Selling below cost to kill competition.</li>
                    <li><strong>Deceptive Pricing:</strong> Lying about original price.</li>
                </ul>
                `
            },
            {
                id: 'ch12', title: 'Ch 12: Marketing Channels – Delivering Value', content: `
                <h3>Theme: You can cut out the middleman, but you can't cut out their job.</h3>
                <p><strong>Value Delivery Network:</strong> It's a partnership. (Supplier -> Company -> Distributor -> Customer).</p>
                <p><em>Example:</em> Airbnb disrupted this by creating a new network.</p>

                <h3>2. How Channels Are Organized</h3>
                <ul>
                    <li><strong>Conventional:</strong> Everyone fights; lower profits.</li>
                    <li><strong>Vertical Marketing System (VMS):</strong> Teamwork.
                        <ul>
                            <li><strong>Corporate:</strong> Single ownership (Zara).</li>
                            <li><strong>Contractual:</strong> Franchise (McDonald's).</li>
                            <li><strong>Administered:</strong> Big player bullies (Walmart).</li>
                        </ul>
                    </li>
                    <li><strong>Horizontal:</strong> Two companies join (Starbucks inside Target).</li>
                </ul>

                <h3>3. Distribution Strategies</h3>
                <ul>
                    <li><strong>Intensive:</strong> Everywhere (Coke).</li>
                    <li><strong>Exclusive:</strong> Few places (Rolex).</li>
                    <li><strong>Selective:</strong> Middle (TVs).</li>
                </ul>

                <h3>4. Logistics (The Moving Stuff)</h3>
                <p>Goal: Right product, right place, right time, right cost.</p>
                <ul>
                    <li><strong>Warehousing:</strong> Storing.</li>
                    <li><strong>Inventory (JIT):</strong> Just-in-Time saves storage cost.</li>
                    <li><strong>Transportation:</strong> Truck (Flexible), Rail (Bulk), Water (Cheap/Slow), Air (Fast/Exp), Multimodal.</li>
                </ul>
                <div class="tip-box">
                    <strong>Exam Tips:</strong><br>
                    - <strong>Disintermediation:</strong> Killing the middleman (Spotify killed CD stores).<br>
                    - <strong>Upstream:</strong> Raw materials. <strong>Downstream:</strong> Retailers (Marketing focus).
                </div>
                `
            }
        ];


        const islamicNotes = [
            {
                id: 'isl1', title: 'Topic 1: General Computing Concepts', content: `
                <h3>1. Information Processing Cycle (IPOS)</h3>
                <p>All computers follow a standard cycle to convert raw data into useful information.</p>
                <ul>
                    <li><strong>Input:</strong> Entering raw data (e.g., typing on a keyboard, clicking a mouse).</li>
                    <li><strong>Process:</strong> The CPU converts that raw data into information based on instructions.</li>
                    <li><strong>Output:</strong> Displaying the result (e.g., monitor, printer, speaker).</li>
                    <li><strong>Storage:</strong> Saving data for later use (e.g., Hard Drive, Cloud, USB).</li>
                </ul>
                <div class="mnemonic-box">💡 <strong>Tip (Mnemonic):</strong> Remember "IPOS" — Input, Processing, Output, Storage.</div>
                
                <div class="tip-box">
                    <strong>Pizza Shop Analogy:</strong>
                    <ul>
                        <li><strong>Input:</strong> Taking the order (Raw data)</li>
                        <li><strong>Process:</strong> Cooking the pizza (Processing)</li>
                        <li><strong>Output:</strong> Serving the pizza to the customer (Information)</li>
                        <li><strong>Storage:</strong> Freezing leftovers for later (Saving)</li>
                    </ul>
                </div>

                <h3>2. Data Conversion & ASCII Code</h3>
                <p>Computers only understand Binary (0s and 1s). To bridge the gap between human language and computer machine language, we use encoding systems like ASCII.</p>
                
                <p><strong>What is ASCII?</strong></p>
                <ul>
                    <li><strong>Acronym:</strong> American Standard Code for Information Interchange.</li>
                    <li><strong>Function:</strong> It assigns a unique numeric value to every character (letters, numbers, symbols) so the computer can store it as binary.</li>
                    <li><strong>Structure:</strong>
                        <ul>
                            <li>Standard ASCII uses 7 bits (representing 128 characters, 0–127).</li>
                            <li>Extended ASCII uses 8 bits (representing 256 characters, 0–255) to include more symbols.</li>
                        </ul>
                    </li>
                </ul>

                <p><strong>Key ASCII Values to Remember:</strong></p>
                <ul>
                    <li><strong>"A" (Uppercase):</strong> starts at 65.</li>
                    <li><strong>"a" (Lowercase):</strong> starts at 97.</li>
                    <li><strong>"0" (Number):</strong> starts at 48.</li>
                    <li><strong>Space:</strong> is 32.</li>
                </ul>

                <div class="mnemonic-box">
                    ⚡ <strong>Trick for Conversion:</strong> Uppercase to Lowercase: Add 32.<br>
                    Example: 'A' is 65. 65 + 32 = 97, which is 'a'.<br>
                    <em>Why 32? In binary, 32 is a single bit flip (2<sup>5</sup>). This makes it very easy for the CPU to switch cases just by flipping one bit!</em>
                </div>

                <h3>3. The Core Hardware: CPU vs. RAM</h3>
                <p>These two work together to run every task on your computer.</p>

                <h4>CPU (Central Processing Unit)</h4>
                <ul>
                    <li><strong>Role:</strong> The "Brain" of the computer. It fetches instructions, decodes them, and executes them (The Fetch-Decode-Execute Cycle).</li>
                    <li><strong>Speed:</strong> Measured in GHz (Billions of cycles per second).</li>
                    <li><strong>Components:</strong>
                        <ul>
                            <li><strong>ALU (Arithmetic Logic Unit):</strong> Does the math (+ - × ÷) and logic (True/False).</li>
                            <li><strong>CU (Control Unit):</strong> Directs traffic; tells data where to go.</li>
                        </ul>
                    </li>
                </ul>

                <h4>RAM (Random Access Memory)</h4>
                <ul>
                    <li><strong>Role:</strong> The "Workspace" or "Short-term Memory". It holds data currently in use for quick access by the CPU.</li>
                    <li><strong>Volatile:</strong> If you turn the power off, everything in RAM is deleted.</li>
                </ul>

                <div class="tip-box">
                    <strong>The Kitchen Analogy:</strong>
                    <ul>
                        <li><strong>CPU (The Chef):</strong> Processes the ingredients (data). A faster chef chops faster.</li>
                        <li><strong>RAM (The Countertop):</strong> Where ingredients are placed for immediate cooking. Low RAM = Small counter = Chef wastes time walking to pantry.</li>
                        <li><strong>Hard Drive (The Pantry):</strong> Where ingredients are stored long-term. Huge capacity, but slower to access.</li>
                    </ul>
                </div>

                <h3>4. Client-Server Architecture</h3>
                <p>This is how modern networks (like the Internet) are organized.</p>
                <ul>
                    <li><strong>The Client (Requester):</strong> The device asking for information (e.g., Chrome, mobile app).</li>
                    <li><strong>The Server (Provider):</strong> A powerful computer that stores resources and "serves" them (e.g., Web servers, Email servers, Database servers).</li>
                </ul>

                <p><strong>How they talk (Request-Response Loop):</strong></p>
                <ol>
                    <li><strong>Request:</strong> The Client sends a message.</li>
                    <li><strong>Process:</strong> The Server finds the file or runs the query.</li>
                    <li><strong>Response:</strong> The Server sends the data back to the Client to be displayed.</li>
                </ol>

                <div class="mnemonic-box">
                    💡 <strong>Tip:</strong> Think of a Restaurant.<br>
                    <strong>Client</strong> = Hungry Customer (You).<br>
                    <strong>Server</strong> = The Waiter/Kitchen (Fulfills your request).<br>
                    <strong>Request</strong> = Your Order.<br>
                    <strong>Response</strong> = The Food.
                </div>

                <h3>Summary Checklist for Finals</h3>
                <ul class="checklist">
                    <li>[ ] <strong>IPOS:</strong> Can you name the 4 stages? (Input, Process, Output, Storage)</li>
                    <li>[ ] <strong>ASCII:</strong> Do you know that 'A'=65 and 'a'=97?</li>
                    <li>[ ] <strong>CPU vs RAM:</strong> Remember "Chef vs Countertop."</li>
                    <li>[ ] <strong>Client-Server:</strong> Remember "Customer vs Waiter."</li>
                </ul>
                `
            },
            {
                id: 'isl2', title: 'Topic 2: Number Systems', content: `
                <h3>1. Number System Conversions</h3>
                
                <h4>A. Decimal to Binary</h4>
                <p><strong>Method:</strong> Repeated Division by 2.</p>
                <ul>
                    <li><strong>Process:</strong> Divide the decimal number by 2, record the remainder (0 or 1), and repeat with the quotient until it reaches 0.</li>
                    <li><strong>Reading the Result:</strong> Read remainders from <strong>Bottom to Top</strong> (MSD to LSD).</li>
                </ul>
                <div class="example">
                    <strong>Example:</strong> Convert 139<sub>10</sub> to binary<br>
                    139 ÷ 2 = 69 remainder 1<br>
                    69 ÷ 2 = 34 remainder 1<br>
                    34 ÷ 2 = 17 remainder 0<br>
                    17 ÷ 2 = 8 remainder 1<br>
                    8 ÷ 2 = 4 remainder 0<br>
                    4 ÷ 2 = 2 remainder 0<br>
                    2 ÷ 2 = 1 remainder 0<br>
                    1 ÷ 2 = 0 remainder 1<br><br>
                    Reading bottom to top: <strong>10001011<sub>2</sub></strong>
                </div>

                <h4>B. Binary to Decimal</h4>
                <p><strong>Method:</strong> Sum of Powers of 2.</p>
                <p><strong>Process:</strong> Multiply each bit by 2<sup>n</sup> (where n is the position starting from 0 on the right) and sum them up.</p>
                <div class="example">
                    <strong>Example:</strong> 10001011<sub>2</sub><br>
                    = (1×2<sup>7</sup>) + (0×2<sup>6</sup>) + (0×2<sup>5</sup>) + (0×2<sup>4</sup>) + (1×2<sup>3</sup>) + (0×2<sup>2</sup>) + (1×2<sup>1</sup>) + (1×2<sup>0</sup>)<br>
                    = 128 + 0 + 0 + 0 + 8 + 0 + 2 + 1<br>
                    = <strong>139<sub>10</sub></strong>
                </div>

                <h4>C. Binary ↔ Octal (Base 8)</h4>
                <p><strong>Rule:</strong> Group bits by 3.</p>
                <ul>
                    <li><strong>Binary to Octal:</strong> Starting from the binary point (right), separate bits into groups of three. Replace each group with the octal digit.</li>
                </ul>
                <div class="example">
                    <strong>Example:</strong> 10001011<sub>2</sub><br>
                    Group by 3 from right: <strong>10 001 011</strong><br>
                    010 = 2, 001 = 1, 011 = 3<br>
                    Result: <strong>213<sub>8</sub></strong>
                </div>
                <ul>
                    <li><strong>Octal to Binary:</strong> Replace each octal digit with its corresponding 3-bit binary string.</li>
                </ul>

                <h4>D. Binary ↔ Hexadecimal (Base 16)</h4>
                <p><strong>Rule:</strong> Group bits by 4.</p>
                <ul>
                    <li><strong>Binary to Hex:</strong> Starting from the right, separate bits into groups of four. Replace with the hex digit.</li>
                </ul>
                <div class="example">
                    <strong>Example:</strong> 10001011<sub>2</sub><br>
                    Group by 4 from right: <strong>1000 1011</strong><br>
                    1000 = 8, 1011 = B (11 in decimal)<br>
                    Result: <strong>8B<sub>16</sub></strong>
                </div>
                <ul>
                    <li><strong>Hex to Binary:</strong> Replace each hex digit with its corresponding 4-bit binary string.</li>
                </ul>

                <div class="mnemonic-box">
                    ⚡ <strong>Trick for Conversions:</strong><br>
                    • Octal = 3 bits (2<sup>3</sup> = 8)<br>
                    • Hex = 4 bits (2<sup>4</sup> = 16)<br>
                    • Always group from <strong>Right to Left</strong>. If the last group doesn't have enough bits, add leading zeros.
                </div>

                <h3>2. Binary Arithmetic</h3>

                <h4>A. Binary Addition</h4>
                <p><strong>Rules:</strong></p>
                <ul>
                    <li>0 + 0 = 0</li>
                    <li>0 + 1 = 1</li>
                    <li>1 + 0 = 1</li>
                    <li>1 + 1 = 10 (Sum = 0, Carry = 1)</li>
                    <li>1 + 1 + 1 = 11 (Sum = 1, Carry = 1)</li>
                </ul>

                <h4>B. Binary Subtraction</h4>
                <p><strong>Rules:</strong></p>
                <ul>
                    <li>0 - 0 = 0</li>
                    <li>1 - 1 = 0</li>
                    <li>1 - 0 = 1</li>
                    <li>10 - 1 = 1 (This happens when you borrow from the left)</li>
                </ul>

                <h4>C. Binary Multiplication</h4>
                <p><strong>Rules:</strong></p>
                <ul>
                    <li>Works exactly like decimal multiplication.</li>
                    <li>1 × 1 = 1</li>
                    <li>Anything multiplied by 0 is 0</li>
                    <li>Shift the rows to the left as you multiply by higher place values, then add the results.</li>
                </ul>

                <h3>3. Complements (Signed Numbers)</h3>

                <h4>A. 1's Complement</h4>
                <p><strong>Method:</strong> Invert every bit.</p>
                <p>Change all 0s to 1s and all 1s to 0s.</p>
                <div class="example">
                    <strong>Example:</strong><br>
                    Original: 11001010<br>
                    1's Complement: <strong>00110101</strong>
                </div>

                <h4>B. 2's Complement</h4>
                <p><strong>Method:</strong> 1's Complement + 1.</p>
                <ul>
                    <li><strong>Step 1:</strong> Find the 1's complement (invert digits).</li>
                    <li><strong>Step 2:</strong> Add 1 to the result.</li>
                </ul>
                <div class="example">
                    <strong>Example:</strong><br>
                    Original: 11001010<br>
                    1's Comp: 00110101<br>
                    Add 1: 00110101 + 1 = <strong>00110110</strong>
                </div>

                <div class="mnemonic-box">
                    💡 <strong>Tip for 2's Complement:</strong><br>
                    This is how computers represent negative numbers.<br><br>
                    <strong>Shortcut:</strong> Start from the right side of the binary number. Copy all zeros and the first '1' you see. Then, invert every bit after that (to the left).<br><br>
                    <strong>Try it on 11001010:</strong><br>
                    Right to left: 0 (copy), 1 (copy first 1). Now invert the rest: 0→1, 1→0, 0→1, 0→1, 1→0, 1→0.<br>
                    Result: <strong>00110110</strong> (Matches the calculation!)
                </div>
                `
            },
            {
                id: 'isl3', title: 'Topic 3: Information System', content: `
                <h3>1. Components of an Information System</h3>
                <p>An Information System (IS) is more than just computers; it is an organized combination of people, hardware, software, communications networks, data resources, and policies.</p>

                <h4>A. People Resources</h4>
                <p>People are the essential element for the successful operation of all information systems.</p>
                <ul>
                    <li><strong>End Users (Users/Clients):</strong> People who use an information system or the information it produces (e.g., accountants, salespersons, customers, managers).</li>
                    <li><strong>IS Specialists:</strong> People who develop and operate information systems (e.g., systems analysts, software developers, system operators).</li>
                </ul>

                <h4>B. Data Resources</h4>
                <p>Data is the raw material of an information system.</p>
                <ul>
                    <li><strong>Data vs. Information:</strong> Data are raw facts (e.g., "36,000 pounds"). Information is data that has been converted into a meaningful and useful context for end users (e.g., "Shipping Costs Report").</li>
                    <li><strong>Forms:</strong> Text, numbers, images, audio, and video.</li>
                    <li><strong>Storage:</strong> Data is typically organized into:
                        <ul>
                            <li><strong>Databases:</strong> Collections of logically related records.</li>
                            <li><strong>Knowledge Bases:</strong> Collections of facts, rules, and case examples (used in expert systems).</li>
                        </ul>
                    </li>
                </ul>

                <h4>C. Technology Resources (Hardware, Software, Networks)</h4>
                <p><strong>Hardware Resources:</strong> All physical devices and materials used in information processing.</p>
                <ul>
                    <li><strong>Machines:</strong> Computers, monitors, drives, printers.</li>
                    <li><strong>Media:</strong> Tangible objects on which data is recorded (e.g., paper forms, magnetic disks, flash drives).</li>
                </ul>

                <p><strong>Software Resources:</strong> All sets of information processing instructions.</p>
                <ul>
                    <li><strong>Programs:</strong> Instructions that direct the computer hardware (e.g., Operating Systems, Application programs).</li>
                    <li><strong>Procedures:</strong> Instructions for people who will use the information system (e.g., User manuals, data entry protocols).</li>
                </ul>

                <p><strong>Network Resources:</strong></p>
                <ul>
                    <li><strong>Communications Media:</strong> Twisted-pair wire, fiber-optic cable, microwave, cellular, and satellite wireless systems.</li>
                    <li><strong>Network Infrastructure:</strong> Hardware and software needed to support the network (e.g., modems, routers, network operating systems).</li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Preparation Tip:</strong> Remember the 5-Component Model: People, Hardware, Software, Data, and Networks. If asked specifically about "Resources," group Hardware, Software, and Networks under "Technology Resources."
                </div>

                <h3>2. Information System Types (The Pyramid Model)</h3>
                <p>Information systems are often classified by the level of organization they support.</p>

                <h4>A. Transaction Processing Systems (TPS)</h4>
                <ul>
                    <li><strong>Level:</strong> Operational Level (Day-to-day operations).</li>
                    <li><strong>Function:</strong> Records and processes data resulting from business transactions. They capture the raw data that feeds other systems.</li>
                    <li><strong>Examples:</strong> Point-of-sale (POS) systems, payroll processing, inventory tracking, airline reservation systems.</li>
                    <li><strong>Key Characteristic:</strong> High volume, repetitive, high accuracy required.</li>
                </ul>

                <h4>B. Management Information Systems (MIS)</h4>
                <ul>
                    <li><strong>Level:</strong> Management Level.</li>
                    <li><strong>Function:</strong> Provides managers with specified information or pre-defined reports to support decision-making. It summarizes data from the TPS.</li>
                    <li><strong>Output:</strong> Periodic, exception, and demand reports.</li>
                    <li><strong>Examples:</strong> Sales performance reports, budget variance reports.</li>
                    <li><strong>Key Characteristic:</strong> Reports on what has happened (historical focus).</li>
                </ul>

                <h4>C. Decision Support Systems (DSS)</h4>
                <ul>
                    <li><strong>Level:</strong> Management/Strategic Level.</li>
                    <li><strong>Function:</strong> Provides interactive information support to managers during the decision-making process. It helps solve semi-structured and unstructured problems.</li>
                    <li><strong>Features:</strong> Uses analytical models (like "What-If" analysis) and specialized databases.</li>
                    <li><strong>Examples:</strong> Pricing modeling, risk analysis systems, loan application analyzers.</li>
                    <li><strong>Key Characteristic:</strong> Interactive; asks "What if we change this variable?".</li>
                </ul>

                <h4>D. Executive Support Systems (ESS)</h4>
                <p><em>(Also known as Executive Information Systems - EIS)</em></p>
                <ul>
                    <li><strong>Level:</strong> Strategic Level (Top Executives).</li>
                    <li><strong>Function:</strong> Provides critical information from specific internal and external sources in easy-to-use formats to executives.</li>
                    <li><strong>Features:</strong> Digital Dashboards, drill-down capability (starting with a summary and clicking for details).</li>
                    <li><strong>Examples:</strong> A CEO's dashboard showing real-time company stock price, competitor news, and global sales summaries.</li>
                    <li><strong>Key Characteristic:</strong> Highly visual, easy to use, focuses on "Strategic Critical Success Factors."</li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Differentiate them by Time Horizon:</strong><br>
                    • <strong>TPS:</strong> Now (Real-time transactions).<br>
                    • <strong>MIS:</strong> Past (Weekly/Monthly reports).<br>
                    • <strong>DSS:</strong> Future (Forecasting/Modeling).<br>
                    • <strong>ESS:</strong> Big Picture (Strategic Long-term).
                </div>

                <h3>3. System Software</h3>
                <p>System software consists of programs that manage and support a computer system and its information processing activities. It acts as the interface between the hardware and the application software.</p>

                <h4>A. Operating System (OS)</h4>
                <p><strong>Definition:</strong> An integrated system of programs that supervises the CPU, controls input/output functions, and provides support services.</p>
                <p><strong>Key Functions:</strong></p>
                <ul>
                    <li><strong>User Interface:</strong> How you interact with the computer (CLI or GUI).</li>
                    <li><strong>Resource Management:</strong> Managing memory (RAM), processor time, and storage files.</li>
                    <li><strong>Task Management:</strong> Multitasking and scheduling programs.</li>
                    <li><strong>File Management:</strong> Keeping track of where files are stored.</li>
                </ul>
                <p><strong>Examples:</strong> Windows (XP, 2000, 10), macOS, Linux, UNIX, Android.</p>

                <h4>B. BIOS (Basic Input/Output System) or Firmware</h4>
                <p><strong>Definition:</strong> Firmware is software that is permanently stored on a chip (ROM - Read Only Memory). The BIOS is a specific type of firmware used during the startup process.</p>
                <p><strong>Function:</strong></p>
                <ul>
                    <li><strong>POST (Power-On Self-Test):</strong> When you turn on the computer, the BIOS checks to see if the hardware (RAM, keyboard, drives) is functioning.</li>
                    <li><strong>Bootstrapping:</strong> It locates the Operating System on the hard drive and loads it into RAM.</li>
                </ul>
                <p><strong>Key Characteristic:</strong> It bridges the gap between the raw hardware and the Operating System.</p>

                <div class="mnemonic-box">
                    💡 <strong>Preparation Tip:</strong> Think of the BIOS as the "starter motor" of a car (gets things going) and the OS as the "driver" (controls the car while it's running).
                </div>

                <h3>4. Application Software</h3>
                <p>Programs that direct the processing of a particular use or application for end users.</p>

                <h4>A. Word Processing</h4>
                <ul>
                    <li><strong>Type:</strong> General-Purpose Productivity Tool.</li>
                    <li><strong>Function:</strong> Creation, editing, formatting, and printing of documents.</li>
                    <li><strong>Features:</strong> Spell check, grammar check, thesaurus, formatting (bold, italic), mail merge.</li>
                    <li><strong>Examples:</strong> Microsoft Word, Google Docs, Corel WordPerfect.</li>
                </ul>

                <h4>B. Multimedia</h4>
                <ul>
                    <li><strong>Type:</strong> Graphics and Media.</li>
                    <li><strong>Function:</strong> Integrates various forms of media—text, graphics, audio, and video.</li>
                    <li><strong>Types:</strong>
                        <ul>
                            <li><strong>Presentation Graphics:</strong> (e.g., PowerPoint) for creating slide shows.</li>
                            <li><strong>Image Editing:</strong> (e.g., Photoshop) for modifying digital photos.</li>
                            <li><strong>Video/Audio Editing:</strong> (e.g., Premiere Pro) for cutting and arranging clips.</li>
                        </ul>
                    </li>
                </ul>

                <h4>C. Games</h4>
                <ul>
                    <li><strong>Type:</strong> Entertainment/Simulation.</li>
                    <li><strong>Function:</strong> Interactive software designed for entertainment or educational simulation.</li>
                    <li><strong>Examples:</strong> 3D Simulations, Strategy games, Educational puzzles.</li>
                    <li><strong>Tech Note:</strong> Often requires high-performance hardware (GPUs) for real-time rendering.</li>
                </ul>

                <h4>D. Tools (Utilities)</h4>
                <ul>
                    <li><strong>Type:</strong> System Utility / Maintenance.</li>
                    <li><strong>Function:</strong> Performs housekeeping chores to keep the computer running efficiently.</li>
                    <li><strong>Examples:</strong>
                        <ul>
                            <li><strong>Backup Utilities:</strong> Copying data to safe storage.</li>
                            <li><strong>Antivirus:</strong> Scanning for malware.</li>
                            <li><strong>Disk Defragmenter:</strong> Reorganizing files on a hard drive to speed up access.</li>
                            <li><strong>Compression:</strong> (e.g., WinZip) reducing file size.</li>
                        </ul>
                    </li>
                </ul>

                <h3>5. Enterprise Systems (ERP & CRM)</h3>
                <p>These are "Cross-Functional Enterprise Systems" designed to break down the walls between different departments (like marketing, finance, and manufacturing).</p>

                <h4>A. ERP (Enterprise Resource Planning)</h4>
                <ul>
                    <li><strong>Focus:</strong> Internal efficiency.</li>
                    <li><strong>Definition:</strong> A software suite that integrates the core functional areas of a business (Finance, HR, Manufacturing, Supply Chain) into a single system with a shared database.</li>
                    <li><strong>Goal:</strong> To streamline internal business processes and improve the flow of information across the organization.</li>
                    <li><strong>Example:</strong> When a salesperson enters an order, the ERP system automatically checks inventory, schedules production, alerts the warehouse, and updates the finance ledgers simultaneously.</li>
                </ul>

                <h4>B. CRM (Customer Relationship Management)</h4>
                <ul>
                    <li><strong>Focus:</strong> External relationships (Customers).</li>
                    <li><strong>Definition:</strong> A system that manages a company's interactions with current and future customers.</li>
                    <li><strong>Goal:</strong> To optimize revenue, customer satisfaction, and retention.</li>
                    <li><strong>Components:</strong>
                        <ul>
                            <li><strong>Sales Force Automation:</strong> Tracking leads and sales progress.</li>
                            <li><strong>Customer Support:</strong> Managing complaints and service requests.</li>
                            <li><strong>Marketing Automation:</strong> Targeted email campaigns and promotions.</li>
                        </ul>
                    </li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Preparation Tip:</strong><br>
                    • <strong>ERP</strong> is the "Backbone" (Spine) of the company—keeps the internal organs working together.<br>
                    • <strong>CRM</strong> is the "Face" of the company—manages how the company looks and talks to the outside world (customers).
                </div>
                `
            },
            {
                id: 'isl4', title: 'Topic 4: Python Programming', content: `
                <h3>1. Variables (Naming Conventions)</h3>
                <p><strong>Definition:</strong> Variables are containers for storing data values created the moment you assign a value.</p>
                
                <h4>Naming Rules:</h4>
                <ul>
                    <li>A variable name must start with a letter or the underscore character.</li>
                    <li>A variable name cannot start with a number.</li>
                    <li>Variable names can only contain alpha-numeric characters and underscores (A-z, 0-9, and _ ).</li>
                    <li>Variable names are case-sensitive (e.g., <code>age</code>, <code>Age</code>, and <code>AGE</code> are three different variables).</li>
                </ul>

                <div class="tip-box">
                    <strong>Tips & Tricks:</strong><br>
                    • <strong>Readability:</strong> Use snake_case (e.g., <code>my_variable_name</code>) for multi-word variables to make them readable.<br>
                    • <strong>Meaningful Names:</strong> Avoid single letters like <code>x</code> or <code>y</code> in complex scripts; use <code>user_age</code> or <code>total_price</code> instead.<br>
                    • <strong>Avoid Keywords:</strong> Never use Python keywords (like <code>if</code>, <code>for</code>, <code>class</code>, <code>list</code>) as variable names.
                </div>

                <h3>2. Data Types (int, float, and string)</h3>
                
                <h4>Numeric Types:</h4>
                <ul>
                    <li><strong>int (Integer):</strong> A whole number, positive or negative, without decimals, of unlimited length.</li>
                    <li><strong>float (Floating Point):</strong> A number, positive or negative, containing one or more decimals. It can also be a scientific number with an "e" to indicate the power of 10.</li>
                    <li><strong>Complex:</strong> Written with a "j" as the imaginary part (e.g., <code>3+5j</code>).</li>
                </ul>

                <h4>Text Type (String):</h4>
                <ul>
                    <li>Defined as <code>str</code> in Python.</li>
                    <li>Strings are sequences of characters enclosed in single (<code>' '</code>) or double (<code>" "</code>) quotes.</li>
                </ul>

                <h4>Type Conversion:</h4>
                <p>You can convert between types using the <code>int()</code>, <code>float()</code>, and <code>complex()</code> methods.</p>

                <div class="tip-box">
                    <strong>Tips & Tricks:</strong><br>
                    • <strong>Integer Division:</strong> Remember that normal division <code>/</code> always returns a float (e.g., <code>4 / 2</code> is <code>2.0</code>). Use <code>//</code> for integer (floor) division.<br>
                    • <strong>Float Precision:</strong> Be careful when comparing floats directly due to precision issues.<br>
                    • <strong>String Immutability:</strong> Strings cannot be changed once created. Any modification creates a new string.
                </div>

                <h3>3. Python Collections (List, Tuple & Sets)</h3>

                <h4>Lists (list):</h4>
                <p><strong>Properties:</strong> Ordered, changeable (mutable), and allow duplicate values.</p>
                <ul>
                    <li><strong>Syntax:</strong> Created using square brackets <code>[]</code>.</li>
                    <li><strong>Indexing:</strong> Zero-based index; the first item is <code>[0]</code>, the second is <code>[1]</code>.</li>
                    <li><strong>Negative Indexing:</strong> <code>-1</code> refers to the last item, <code>-2</code> to the second last.</li>
                    <li><strong>Modifying:</strong> You can change, add, and remove items after creation.</li>
                </ul>

                <p><strong>Key Methods:</strong></p>
                <ul>
                    <li><code>len()</code>: Determines the number of items.</li>
                    <li><code>insert()</code>: Adds an item at a specified index.</li>
                    <li><code>append()</code>: Adds an item to the end of the list.</li>
                    <li><code>extend()</code>: Appends elements from another list.</li>
                    <li><code>sort()</code> / <code>reverse()</code>: Sorts or reverses the order.</li>
                </ul>

                <h4>Tuples (tuple):</h4>
                <p><strong>Properties:</strong> Ordered and unchangeable (immutable).</p>
                <ul>
                    <li><strong>Syntax:</strong> Written with round brackets <code>()</code>.</li>
                    <li><strong>Workaround for Changes:</strong> You cannot add/remove items directly. You must convert the tuple to a list, make changes, and convert it back to a tuple.</li>
                    <li><strong>Packing/Unpacking:</strong> Assigning values to a tuple is "packing". Extracting them back into variables is "unpacking".</li>
                </ul>

                <h4>Sets (set):</h4>
                <p><strong>Properties:</strong> Unordered, unindexed, and do not allow duplicate values.</p>
                <ul>
                    <li><strong>Syntax:</strong> Written with curly brackets <code>{}</code>.</li>
                    <li><strong>Usage:</strong> Best for membership testing (checking if an item exists) and eliminating duplicates.</li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Choosing the Right Type:</strong><br>
                    • Use <strong>Lists</strong> for data that may change or needs to be ordered.<br>
                    • Use <strong>Tuples</strong> for data that should not change (like coordinates), as they are faster and memory-efficient.<br>
                    • Use <strong>Sets</strong> to instantly remove duplicates from a list: <code>list(set(my_list))</code>.<br><br>
                    <strong>Copying Lists:</strong> Don't just do <code>list2 = list1</code>. This creates a reference, not a copy. Use <code>list2 = list1.copy()</code> or <code>list2 = list1[:]</code>.
                </div>

                <h3>4. Conditional Structures</h3>
                <p><strong>Logic:</strong> Uses comparison and logical operators to determine the flow of execution.</p>

                <h4>Structures:</h4>
                <ul>
                    <li><strong>if:</strong> Executes code only if a condition is True.</li>
                    <li><strong>elif:</strong> "Else if" - checks a new condition if the previous conditions were False.</li>
                    <li><strong>else:</strong> Executes code if all previous conditions were False.</li>
                    <li><strong>Nested if:</strong> An if statement inside another if statement.</li>
                </ul>

                <div class="tip-box">
                    <strong>Tips & Tricks:</strong><br>
                    • <strong>Indentation:</strong> Python relies on indentation (whitespace). Ensure all code inside an if block is indented consistently.<br>
                    • <strong>Short-hand:</strong> Use ternary operators for simple assignments: <code>status = "Adult" if age >= 18 else "Minor"</code>.<br>
                    • <strong>Truthiness:</strong> Empty lists <code>[]</code>, strings <code>""</code>, and the number <code>0</code> evaluate to False in conditions.
                </div>

                <h3>5. Operators</h3>

                <h4>Arithmetic Operators:</h4>
                <p>Used for mathematical operations.</p>
                <ul>
                    <li><code>+</code> (Add), <code>-</code> (Subtract), <code>*</code> (Multiply), <code>/</code> (Divide).</li>
                    <li><code>%</code> (Modulus/Remainder), <code>**</code> (Exponentiation), <code>//</code> (Floor Division).</li>
                </ul>

                <h4>Assignment Operators:</h4>
                <p>Used to assign values.</p>
                <ul>
                    <li><code>=</code> (Assign), <code>+=</code> (Add and assign), <code>-=</code> (Subtract and assign), etc.</li>
                </ul>

                <h4>Comparison Operators:</h4>
                <p>Used to compare two values.</p>
                <ul>
                    <li><code>==</code> (Equal), <code>!=</code> (Not equal).</li>
                    <li><code>&lt;</code> (Less than), <code>&gt;</code> (Greater than), <code>&lt;=</code> (Less than or equal), <code>&gt;=</code> (Greater than or equal).</li>
                </ul>

                <h4>Logical Operators:</h4>
                <p>Used to combine conditional statements.</p>
                <ul>
                    <li><code>and</code> (Returns True if both are true).</li>
                    <li><code>or</code> (Returns True if one is true).</li>
                    <li><code>not</code> (Reverse the result).</li>
                </ul>

                <h4>Identity Operators:</h4>
                <p>Compare objects, not just values.</p>
                <ul>
                    <li><code>is</code> (Returns True if variables are the same object).</li>
                    <li><code>is not</code> (Returns True if variables are not the same object).</li>
                </ul>

                <h4>Membership Operators:</h4>
                <p>Test if a sequence is present in an object.</p>
                <ul>
                    <li><code>in</code> (Returns True if a value is found in the sequence).</li>
                    <li><code>not in</code> (Returns True if a value is not found).</li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Tips & Tricks:</strong><br>
                    • <strong>== vs is:</strong> Use <code>==</code> for value equality (e.g., <code>a == b</code>). Use <code>is</code> for checking if they are the exact same object in memory (e.g., checking for <code>None</code>).<br>
                    • <strong>Chaining:</strong> You can chain comparisons: <code>if 0 &lt; x &lt; 10:</code> is valid Python.<br>
                    • <strong>Modulus %:</strong> Great for checking even/odd numbers (<code>x % 2 == 0</code>) or cycling through indices.
                </div>
                `
            },
            {
                id: 'isl5', title: 'Topic 5: SDLC', content: `
                <h3>1. SDLC Phases & Artifacts</h3>
                <p>The SDLC is a framework describing the activities performed at each stage of a software development project.</p>

                <h4>Phase 1: Planning and Requirements</h4>
                <p><strong>Description:</strong> This is the first and most important phase. The Business Analyst collects the client's requirements. This information is used to plan the basic project approach, expenditure, risk analysis, and technical analysis.</p>
                <p><strong>Artifact (Output):</strong> <strong>BRS (Business Requirement Specification)</strong>. This document is prepared after planning to outline the high-level business needs.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Focus on the "why" in this phase. If the requirements are wrong here, the cost to fix them effectively doubles with every subsequent phase.
                </div>

                <h4>Phase 2: Analysis</h4>
                <p><strong>Description:</strong> The requirements are analyzed in depth to define what the system should do.</p>
                <p><strong>Artifact (Output):</strong> <strong>SRS (Software Requirement Specification)</strong>. This is derived from the BRS and contains all product requirements to be designed and developed.</p>
                <p><strong>Sub-Artifacts:</strong> Based on the SRS, two detailed documents are often created:</p>
                <ul>
                    <li>FRS (Functional Requirement Specification)</li>
                    <li>System Requirement Specification</li>
                </ul>
                <div class="tip-box">
                    <strong>Tip:</strong> The SRS is your "contract" for the project scope. If it's not in the SRS, it's technically not required.
                </div>

                <h4>Phase 3: Designing</h4>
                <p><strong>Description:</strong> Product architecture is proposed based on the SRS.</p>
                <p><strong>Artifact (Output):</strong> <strong>DDS (Design Document Specification)</strong></p>
                <p><strong>Sub-Artifacts:</strong></p>
                <ul>
                    <li><strong>HLD (High-Level Design):</strong> Overview of architecture (often done by System Architect).</li>
                    <li><strong>LLD (Low-Level Design):</strong> Detailed internal logic of modules.</li>
                </ul>
                <div class="tip-box">
                    <strong>Tip:</strong> HLD is about "Architecture" (database design, interface relationships), while LLD is about "Logic" (algorithms, pseudo-code).
                </div>

                <h4>Phase 4: Development (Building)</h4>
                <p><strong>Description:</strong> The actual coding of the project takes place here. Developers convert the design documents into executable code.</p>
                <p><strong>Artifact (Output):</strong> Source Code / Executable Software.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> This is usually the longest phase in the Waterfall model but can be short and repetitive in Agile.
                </div>

                <h4>Phase 5: Testing</h4>
                <p><strong>Description:</strong> The software is executed to find defects. It ensures the product meets the requirements specified in the SRS.</p>
                <p><strong>Artifact (Output):</strong> Test Reports, Bug Reports.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Testing isn't just about finding bugs; it's about verifying the "Expected Result" matches the "Actual Result".
                </div>

                <h4>Phase 6: Deployment & Maintenance</h4>
                <p><strong>Description:</strong> The product is released to the market/client. Maintenance involves updating the product or fixing issues reported by users after release.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Maintenance is often the most expensive phase over the life of the software because it lasts the longest.
                </div>

                <h3>2. SDLC Models</h3>
                <p>Different projects require different approaches. These models define how the phases interact.</p>

                <h4>Waterfall Model</h4>
                <p><strong>Concept:</strong> The "Classic" model. It is linear and sequential. You must finish one phase completely before starting the next.</p>
                <ul>
                    <li><strong>Pros:</strong> Simple to manage, easy to understand.</li>
                    <li><strong>Cons:</strong> Inflexible. You cannot go back to change requirements once the testing phase starts without significant cost.</li>
                </ul>
                <div class="tip-box">
                    <strong>Tip:</strong> Use this only when requirements are crystal clear and unchanging (e.g., a simple payroll system).
                </div>

                <h4>V-Shaped Model (Verification and Validation)</h4>
                <p><strong>Concept:</strong> An extension of Waterfall where testing is planned in parallel with the corresponding development phase. For every development step on the left side of the "V", there is a testing step on the right.</p>
                <p><strong>Phases Mapping:</strong></p>
                <ul>
                    <li>Requirements Planning ↔ Acceptance Testing</li>
                    <li>Product Specification ↔ System Testing</li>
                    <li>High-Level Design ↔ Integration Testing</li>
                    <li>Detailed Design ↔ Unit Testing</li>
                </ul>
                <div class="mnemonic-box">
                    💡 <strong>Tip:</strong> "Verification" asks "Are we building the product right?" (Development). "Validation" asks "Are we building the right product?" (Testing).
                </div>

                <h4>Iterative Model</h4>
                <p><strong>Concept:</strong> Develop a system through repeated cycles (iterations) and in smaller portions at a time (incremental).</p>
                <p><strong>Process:</strong> You start with a simple implementation of a subset of requirements and iteratively enhance the evolving versions until the full system is implemented.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Great for projects where the major requirements are known, but some details might evolve over time.
                </div>

                <h4>Spiral Model</h4>
                <p><strong>Concept:</strong> Combines elements of design and prototyping-in-stages to combine the advantages of top-down and bottom-up concepts. Risk Analysis is the key feature here.</p>
                <p><strong>Weaknesses:</strong> Risk assessment expertise is required, and it can be complex and expensive for small projects.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Use this for large, expensive, and complicated projects (like flight control systems) where failure is not an option.
                </div>

                <h4>Agile Model</h4>
                <p><strong>Concept:</strong> Focuses on continuous iteration of development and testing throughout the SDLC. It emphasizes individuals and interactions over processes and tools.</p>
                <p><strong>Key:</strong> Customer collaboration is prioritized over contract negotiation.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Agile is a mindset, not just a process. It breaks the product into small "sprints" (usually 2-4 weeks) delivering working software frequently.
                </div>

                <h3>3. Testing Types</h3>
                <p>Testing ensures the quality of the software by finding defects before the users do.</p>

                <h4>Unit Testing</h4>
                <p><strong>Definition:</strong> Testing of individual modules or components of the software.</p>
                <p><strong>Who does it:</strong> Usually the Developers.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> This is "White Box" testing because the tester looks at the internal code logic.
                </div>

                <h4>Integration Testing</h4>
                <p><strong>Definition:</strong> Testing new code in combination with code that has already been integrated. It verifies that different modules work together correctly.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Finds issues in the "interfaces" (data passing) between modules.
                </div>

                <h4>System Testing</h4>
                <p><strong>Definition:</strong> Execution of the entire software for the purpose of finding defects. It tests the complete, integrated system to verify it meets specific requirements.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> This is "Black Box" testing; the tester doesn't care about the code, only the input and output.
                </div>

                <h4>Regression Testing</h4>
                <p><strong>Definition:</strong> Re-running functional and non-functional tests to ensure that previously developed and tested software still performs after a change.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> Essential in Agile and Iterative models. Whenever you fix a bug, you run regression tests to ensure you didn't break something else.
                </div>

                <h4>Acceptance Testing</h4>
                <p><strong>Definition:</strong> Checks the entire software system in its environment to see if it meets the user's business needs.</p>
                <div class="tip-box">
                    <strong>Tip:</strong> This is the final gateway before the software "Goes Live." It includes Alpha (internal) and Beta (client) testing.
                </div>
                `
            },
            {
                id: 'isl6', title: 'Topic 6: Database concepts and management systems (DBMS)', content: `
                <h3>1. Database Concepts & DBMS</h3>

                <h4>Data vs. Information</h4>
                <ul>
                    <li><strong>Data:</strong> Raw facts and figures (e.g., numbers, dates, names) that have not been processed to reveal meaning.</li>
                    <li><strong>Information:</strong> Processed data that is meaningful and useful for decision-making (e.g., a trend analysis derived from sales numbers).</li>
                </ul>
                <div class="tip-box">
                    <strong>Tip:</strong> Think of data as the "ingredients" and information as the "cooked meal." You can't make decisions based on ingredients alone.
                </div>

                <h4>What is a DBMS?</h4>
                <p>A software system that enables users to define, create, maintain, and control access to the database.</p>
                <ul>
                    <li><strong>Role:</strong> It acts as an intermediary between the user/applications and the physical database.</li>
                    <li><strong>Examples:</strong> MySQL, Oracle, PostgreSQL, Microsoft SQL Server.</li>
                </ul>

                <h4>Data Types</h4>
                <ul>
                    <li><strong>Structured Data:</strong> Highly organized in rows and columns (e.g., Relational Databases, Spreadsheets).</li>
                    <li><strong>Unstructured Data:</strong> No pre-defined format (e.g., Videos, Emails, Social Media posts).</li>
                    <li><strong>Semi-Structured Data:</strong> Contains tags or markers but isn't fully tabular (e.g., JSON, XML).</li>
                </ul>

                <h4>Database Structures</h4>
                <ul>
                    <li><strong>Hierarchical:</strong> Data is organized in a tree-like structure (Parent-Child).</li>
                    <li><strong>Network:</strong> Allows more complex connections (Many-to-Many relationships).</li>
                    <li><strong>Relational (RDBMS):</strong> Data is stored in tables (relations) related by common fields. This is the most common modern model.</li>
                    <li><strong>Object-Oriented:</strong> Stores data as "objects" (like in programming).</li>
                </ul>

                <h3>2. Entity Relationship Diagram (ERD)</h3>
                <p><strong>Definition:</strong> A visual representation of the logical structure of a database. It shows how data entities relate to one another.</p>

                <h4>Core Components:</h4>
                <ul>
                    <li><strong>Entities (Rectangles):</strong> Objects or concepts where data is stored (e.g., Student, Course, Customer).</li>
                    <li><strong>Attributes (Ovals):</strong> Details or properties of an entity (e.g., StudentName, StudentID, Email).</li>
                    <li><strong>Relationships (Diamonds):</strong> How two entities are connected (e.g., Enrolls, Teaches, Purchases).</li>
                </ul>

                <h4>Advanced Attributes:</h4>
                <ul>
                    <li><strong>Multivalued Attribute (Double Oval):</strong> An attribute that can have more than one value (e.g., Phone_Number for a person who has multiple phones).</li>
                    <li><strong>Derived Attribute (Dashed Oval):</strong> An attribute whose value is calculated from other attributes (e.g., Age is derived from Date_Of_Birth).</li>
                    <li><strong>Weak Entity (Double Rectangle):</strong> An entity that cannot exist without a "strong" owner entity (e.g., a Dependent entity relies on an Employee entity).</li>
                </ul>

                <div class="tip-box">
                    <strong>Tip:</strong> When drawing an ERD, start by identifying the "Nouns" (Entities) and then the "Verbs" (Relationships). If a noun is just a property of another noun (like "Color" of a "Car"), it's an attribute, not an entity.
                </div>

                <h3>3. Keys (The Backbone of RDBMS)</h3>
                <p>Keys ensure data integrity and establish links between tables.</p>

                <h4>Primary Key (PK):</h4>
                <ul>
                    <li><strong>Definition:</strong> A unique identifier for a specific record in a table.</li>
                    <li><strong>Rules:</strong> Must be unique (no duplicates) and cannot be NULL (empty).</li>
                    <li><strong>Example:</strong> Student_ID in a Students table.</li>
                </ul>
                <div class="tip-box">
                    <strong>Tip:</strong> Always create a surrogate key (like an auto-incrementing ID) if a natural unique key doesn't exist.
                </div>

                <h4>Candidate Key:</h4>
                <ul>
                    <li><strong>Definition:</strong> Any attribute (column) that could qualify as a Primary Key.</li>
                    <li><strong>Example:</strong> In a table with Student_ID, Email, and SSN, all three are candidate keys because they are unique. You pick one to be the Primary Key.</li>
                </ul>

                <h4>Unique Key:</h4>
                <ul>
                    <li><strong>Definition:</strong> Ensures all values in a column are different.</li>
                    <li><strong>Difference from PK:</strong> A table can have multiple Unique Keys, but only one Primary Key. Also, a Unique Key can usually accept one NULL value (depending on the DBMS).</li>
                </ul>

                <h4>Foreign Key (FK):</h4>
                <ul>
                    <li><strong>Definition:</strong> A field in one table that links to the Primary Key of another table.</li>
                    <li><strong>Purpose:</strong> Enforces Referential Integrity (ensures you can't have an order for a customer that doesn't exist).</li>
                    <li><strong>Example:</strong> Customer_ID in the Orders table is a Foreign Key pointing to Customer_ID in the Customers table.</li>
                </ul>

                <h3>4. Relationships (Cardinality)</h3>
                <p>Cardinality defines the numerical relationship between rows of one table and rows of another.</p>

                <h4>One-to-One (1:1):</h4>
                <ul>
                    <li><strong>Definition:</strong> A single record in Table A is related to a single record in Table B.</li>
                    <li><strong>Example:</strong> Person ↔ Passport. One person has one passport; one passport belongs to one person.</li>
                    <li><strong>Implementation:</strong> Share the same Primary Key or put the PK of one as a Unique FK in the other.</li>
                </ul>

                <h4>One-to-Many (1:N):</h4>
                <ul>
                    <li><strong>Definition:</strong> A single record in Table A can be related to multiple records in Table B, but a record in Table B relates to only one in Table A.</li>
                    <li><strong>Example:</strong> Customer ↔ Orders. One customer can place many orders, but an order belongs to only one customer.</li>
                    <li><strong>Implementation:</strong> Put the Primary Key of the "One" side (Customer) as a Foreign Key in the "Many" side (Orders).</li>
                </ul>

                <h4>Many-to-Many (M:N):</h4>
                <ul>
                    <li><strong>Definition:</strong> Multiple records in Table A are related to multiple records in Table B.</li>
                    <li><strong>Example:</strong> Student ↔ Course. A student can take many courses, and a course can have many students.</li>
                    <li><strong>Implementation:</strong> You cannot implement this directly. You must create a third Junction Table (or Associative Entity) that breaks it into two 1:N relationships.
                        <ul>
                            <li><strong>New Table:</strong> Enrollments (contains Student_ID and Course_ID).</li>
                        </ul>
                    </li>
                </ul>

                <div class="mnemonic-box">
                    💡 <strong>Tip:</strong> To determine the relationship type, ask the question in both directions. "How many X can a Y have?" AND "How many Y can an X have?"
                </div>
                `
            }
        ];

        const flashcardsData = [
            { ch: "ch2", f: "Market Segmentation", b: "Dividing a market into smaller segments with distinct needs." },
            { ch: "ch2", f: "Differentiation", b: "Making a product different to create superior customer value." },
            { ch: "ch2", f: "Positioning", b: "Arranging for a product to occupy a clear, distinctive place in consumer minds." },
            { ch: "ch2", f: "Demographic Segmentation", b: "Dividing market by Age, Gender, Income, Occupation." },
            { ch: "ch2", f: "Psychographic Segmentation", b: "Dividing market by Social Class, Lifestyle, Personality." },
            { ch: "ch7", f: "Undifferentiated Marketing", b: "Targeting the whole market with one offer (Mass Marketing)." },
            { ch: "ch7", f: "Micromarketing", b: "Tailoring products to the needs of specific individuals (Local/Individual)." },
            { ch: "ch7", f: "Value Proposition", b: "The full mix of benefits on which a brand is differentiated and positioned." },
            { ch: "ch8", f: "Core Customer Value", b: "The basic problem-solving benefit that consumers are really buying." },
            { ch: "ch8", f: "Augmented Product", b: "Additional consumer services and benefits (Warranty, Credit)." },
            { ch: "ch8", f: "Convenience Product", b: "Consumer product that customers usually buy frequently, immediately, and with minimal comparison." },
            { ch: "ch8", f: "Specialty Product", b: "Consumer product with unique characteristics for which a significant group is willing to make a special purchase effort." },
            { ch: "ch8", f: "Unsought Product", b: "Consumer product that the consumer either does not know about or knows about but does not normally consider buying." },
            { ch: "ch9", f: "Product Life Cycle (PLC)", b: "The course of a product's sales and profits over its lifetime." },
            { ch: "ch9", f: "PLC: Introduction Stage", b: "Period of slow sales growth as product is introduced. Nonexistent profits." },
            { ch: "ch9", f: "PLC: Maturity Stage", b: "Period of slowdown in sales growth because product has achieved acceptance. Profits level off." },
            { ch: "ch10", f: "Value-Based Pricing", b: "Setting price based on buyers' perceptions of value rather than on the seller's cost." },
            { ch: "ch10", f: "Cost-Plus Pricing", b: "Adding a standard markup to the cost of the product." },
            { ch: "ch10", f: "Price Elasticity", b: "A measure of the sensitivity of demand to changes in price." },
            { ch: "ch11", f: "Dynamic Pricing", b: "Adjusting prices continually to meet the characteristics and needs of individual customers and situations." },
            { ch: "ch11", f: "Psychological Pricing", b: "Pricing that considers the psychology of prices, not simply the economics ($9.99)." },
            { ch: "ch12", f: "Direct Marketing Channel", b: "A marketing channel that has no intermediary levels." },
            { ch: "ch12", f: "Vertical Marketing System (VMS)", b: "A channel structure in which producers, wholesalers, and retailers act as a unified system." },
            { ch: "ch12", f: "Multichannel Distribution", b: "A single firm sets up two or more marketing channels to reach one or more customer segments." },
            { ch: "gen", f: "SWOT Analysis", b: "Strengths (Int), Weaknesses (Int), Opportunities (Ext), Threats (Ext)." },
            { ch: "gen", f: "Marketing Mix (4 Ps)", b: "Product, Price, Place, Promotion." }
        ];

        const quizData = [
            // Part 1: Conceptual Questions adapted to Quiz format
            { q: "What is the difference between a Star and a Cash Cow in the BCG Matrix?", a: ["Star: High Growth/High Share, Cash Cow: Low Growth/High Share", "Star: Low Growth/High Share, Cash Cow: High Growth/High Share", "Star: High Growth/Low Share, Cash Cow: Low Growth/Low Share", "They are the same"], c: 0 },
            { q: "What does 'Marketing ROI' measure?", a: ["Return on Influencer investment", "Profits generated by marketing investments", "Rate of Interest on loans", "Revenue from online sales only"], c: 1 },
            { q: "Differentiated Marketing targets:", a: ["The whole market with one offer", "A small niche share", "Multiple segments with separate offers", "One person at a time"], c: 2 },
            { q: "What is a 'Value Proposition'?", a: ["The lowest price on the market", "The full mix of benefits differentiating a brand", "A discount coupon", "The company mission statement"], c: 1 },
            { q: "Service Perishability means:", a: ["Services expire after 1 year", "Services cannot be stored for later sale or use", "Services are always fresh", "Service quality varies by employee"], c: 1 },
            { q: "Line Extension vs. Brand Extension:", a: ["Same category vs. New category", "New category vs. Same category", "Both are new categories", "Both are same category"], c: 0 },
            { q: "In Idea Screening, R-W-W stands for:", a: ["Real, Win, Worth", "Read, Write, Walk", "Ready, Willing, Waiting", "Rich, Wealthy, Wise"], c: 0 },
            { q: "Why are profits often negative in the Introduction stage?", a: ["Low prices", "High development and launch costs", "Too many competitors", "Product is bad"], c: 1 },
            { q: "Good-Value Pricing vs. Value-Added Pricing:", a: ["High price vs. Low price", "Fair quality/price vs. Features justifying higher price", "Math-based vs. Psychology-based", "None of the above"], c: 1 },
            { q: "Price Elasticity measures:", a: ["How fast prices change", "Sensitivity of demand to price changes", "The cost of rubber bands", "Profit margins"], c: 1 },
            { q: "When to use Market-Skimming Pricing?", a: ["Low quality product", "High price sensitivity", "High quality/image, hard for competitors to enter", "Mass market basics"], c: 2 },
            { q: "Cheap printer, expensive ink is an example of:", a: ["Product Bundle Pricing", "Captive-Product Pricing", "Optional-Product Pricing", "By-Product Pricing"], c: 1 },
            { q: "Vertical Marketing System (VMS) is:", a: ["Producers, Wholesalers, Retailers acting as a unified system", "Producers fighting Retailers", "Direct to consumer only", "A pyramid scheme"], c: 0 },
            { q: "Disintermediation means:", a: ["Adding more middlemen", "Cutting out marketing channel intermediaries", "Mediating disputes", "Distributing everywhere"], c: 1 },

            // Part 2: MCQs
            { q: "(Chap 2) Growth strategy: make more sales to current customers without changing product?", a: ["Market Development", "Market Penetration", "Product Development", "Diversification"], c: 1 },
            { q: "(Chap 7) Variables like social class, lifestyle, and personality are used in:", a: ["Geographic", "Behavioral", "Psychographic", "Demographic"], c: 2 },
            { q: "(Chap 8) A laundry detergent bought regularly without planning is a:", a: ["Shopping Product", "Specialty Product", "Unsought Product", "Convenience Product"], c: 3 },
            { q: "(Chap 8) 'Service Variability' means:", a: ["Services are invisible", "Services can't be stored", "Quality depends on who/when/where/how", "Produced/consumed same time"], c: 2 },
            { q: "(Chap 9) Stage where competitors enter in large numbers & goal is max market share?", a: ["Introduction", "Growth", "Maturity", "Decline"], c: 1 },
            { q: "(Chap 9) Crowdsourcing is a form of:", a: ["Idea Screening", "Test Marketing", "Idea Generation", "Commercialization"], c: 2 },
            { q: "(Chap 10) Compares costs that change directly with production level:", a: ["Fixed Cost", "Overhead", "Total Cost", "Variable Cost"], c: 3 },
            { q: "(Chap 11) Selling a Razor for $5 but blades for $20 is:", a: ["Product Bundle", "Captive-Product", "Optional-Product", "By-Product"], c: 1 },
            { q: "(Chap 11) Adjusting prices continually (like Uber) is:", a: ["Segmented Pricing", "Dynamic Pricing", "Psychological Pricing", "Promotional Pricing"], c: 1 },
            { q: "(Chap 12) Luxury brands like Rolex use which distribution?", a: ["Intensive", "Selective", "Exclusive", "Mass"], c: 2 }
        ];

        // --- STATE ---
        let cards = [...flashcardsData];
        let cIdx = 0;
        let qIdx = 0;
        let qScore = 0;
        let timerTime = 25 * 60;
        let timerInterval = null;
        let isRunning = false;
        let soundEnabled = true;

        // --- INIT ---
        window.onload = () => {
            renderNotes();
            renderIslamicNotes();
            updateCard();
            loadQuiz();
            updateExamCountdown(); // Calc countdowns

            // Focus Name Input auto
            setTimeout(() => document.getElementById('name-input').focus(), 1500);

            // Enter key listener
            document.getElementById('name-input').addEventListener('keypress', function (e) {
                if (e.key === 'Enter') enterApp();
            });
        };

        // --- GOD TIER STORM ENGINE ---
        class StormSystem {
            constructor() {
                this.canvas = document.getElementById('storm-canvas');
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.lightning = 0;
                this.width = 0;
                this.height = 0;
                this.resize();
                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                this.width = this.canvas.width = window.innerWidth;
                this.height = this.canvas.height = window.innerHeight;
            }

            start() {
                this.loop();
                // Create Initial Rain
                for(let i=0; i<500; i++) this.particles.push(this.newDrop());
            }

            newDrop() {
                return {
                    x: Math.random() * this.width,
                    y: Math.random() * this.height,
                    l: Math.random() * 20 + 10, // length
                    v: Math.random() * 10 + 20  // velocity
                };
            }

            drawLightning() {
                if (Math.random() > 0.02) return; // Rare flash
                
                const x = Math.random() * this.width;
                this.ctx.beginPath();
                this.ctx.moveTo(x, 0);
                let cx = x;
                for (let y = 0; y < this.height; y += 20) {
                    cx += (Math.random() - 0.5) * 40;
                    this.ctx.lineTo(cx, y);
                }
                this.ctx.strokeStyle = '#fff';
                this.ctx.lineWidth = 2;
                this.ctx.stroke();
                
                // Flash Screen
                this.ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                this.ctx.fillRect(0,0,this.width, this.height);
                this.lightning = 10;
            }

            loop() {
                // Fade bg for trails
                this.ctx.fillStyle = this.lightning > 0 ? `rgba(69, 10, 10, 0.8)` : 'rgba(10, 0, 0, 0.4)';
                this.ctx.fillRect(0, 0, this.width, this.height);

                if(this.lightning > 0) this.lightning--;

                // Rain
                this.ctx.strokeStyle = 'rgba(220, 38, 38, 0.6)'; // RED RAIN
                this.ctx.lineWidth = 1;
                this.ctx.beginPath();
                for (let p of this.particles) {
                    this.ctx.moveTo(p.x, p.y);
                    this.ctx.lineTo(p.x, p.y + p.l);
                    
                    p.y += p.v;
                    if (p.y > this.height) {
                        p.y = -p.l;
                        p.x = Math.random() * this.width;
                    }
                }
                this.ctx.stroke();

                this.drawLightning();
                
                requestAnimationFrame(() => this.loop());
            }
        }
        
        let stormEngine = null;

        // --- CREATIVE ENTRY LOGIC (STRICT MODE) ---
        let loginAttempts = 0;

        function enterApp() {
            const nameInput = document.getElementById('name-input');
            const name = nameInput.value.trim();

            // 1. Validation Logic
            if (!name) {
                loginAttempts++;
                
                // VISUAL PENALTY SYSTEM
                if (loginAttempts === 1) {
                    // Strike 1: Warning Shake
                    nameInput.classList.add('shake-element');
                    nameInput.style.borderColor = '#f59e0b'; // Warning Orange
                    setTimeout(() => nameInput.classList.remove('shake-element'), 500);
                    nameInput.placeholder = "Name Required.";
                } else if (loginAttempts >= 2) {
                    // Strike 2: GOD OF WAR MODE
                    const portal = document.getElementById('entry-portal');
                    const stormContainer = document.getElementById('kratos-storm');
                    const title = document.getElementById('kratos-title') || document.querySelector('.entry-question');
                    
                    // Trigger Chaos
                    portal.classList.add('kratos-mode');
                    if (stormContainer) {
                        stormContainer.style.display = 'block';
                        if(!stormEngine) {
                            stormEngine = new StormSystem();
                            stormEngine.start();
                        }
                    }
                    
                    // Force Text Update
                    if(title) {
                        title.innerHTML = "BOY. <br> IDENTIFY YOURSELF.";
                        title.style.color = "#ef4444"; // Explicit Red
                        title.style.textShadow = "0 0 30px #b91c1c";
                        title.style.fontFamily = "'Times New Roman', serif";
                    }
                    
                    // Permanent Shake until fixed
                    nameInput.classList.add('shake-element');
                    setTimeout(() => nameInput.classList.remove('shake-element'), 500);
                }
                return; // STOP HERE
            }

            // 2. Success Logic
            // --- SUPABASE VISITOR LOG ---
            fetch('/api/visitor', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name: name })
            }).catch(console.error);

            // Visual Transition
            const portal = document.getElementById('entry-portal');
            const app = document.getElementById('app');

            // Smooth exit even from Kratos mode
            portal.style.transition = 'opacity 0.8s, transform 0.8s';
            portal.style.opacity = '0';
            portal.style.transform = 'scale(1.1)'; 

            setTimeout(() => {
                portal.style.display = 'none';
                app.classList.add('visible');
                document.getElementById('user-display').innerText = name; 
            }, 800);
        }

        // --- NAV ---
        function nav(id, el) {
            document.querySelectorAll('.section-view').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');

            // Handle Desktop & Mobile Nav Highlighting
            if (el) {
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                document.querySelectorAll('.mobile-nav-item').forEach(n => n.classList.remove('active'));
                el.classList.add('active');
            }
        }

        // --- NOTES ---
        function renderNotes() {
            document.getElementById('notes-grid').innerHTML = notes.map(n => `
                <div class="card" onclick="openNote('${n.id}')">
                    <span class="tag purple">${n.id.toUpperCase()}</span>
                    <h3>${n.title}</h3>
                    <p>Click to read detailed notes.</p>
                </div>
            `).join('');
        }
        function openNote(id) {
            const n = notes.find(x => x.id === id);
            document.getElementById('note-body').innerHTML = `<h1>${n.title}</h1>${n.content}`;
            document.getElementById('notes-grid').style.display = 'none';
            document.getElementById('note-detail').style.display = 'block';
        }
        function closeNote() {
            document.getElementById('note-detail').style.display = 'none';
            document.getElementById('notes-grid').style.display = 'grid';
        }

        // --- ISLAMIC NOTES ---
        function renderIslamicNotes() {
            const grid = document.getElementById('islamic-notes-grid');
            if (grid) {
                grid.innerHTML = islamicNotes.map(n => `
                    <div class="card" onclick="openIslamicNote('${n.id}')">
                        <span class="tag cyan">${n.id.toUpperCase()}</span>
                        <h3>${n.title}</h3>
                        <p>Click to read detailed notes.</p>
                    </div>
                `).join('');
            }
        }
        function openIslamicNote(id) {
            const n = islamicNotes.find(x => x.id === id);
            document.getElementById('islamic-note-body').innerHTML = `<h1>${n.title}</h1>${n.content}`;
            document.getElementById('islamic-notes-grid').style.display = 'none';
            document.getElementById('islamic-note-detail').style.display = 'block';
        }
        function closeIslamicNote() {
            document.getElementById('islamic-note-detail').style.display = 'none';
            document.getElementById('islamic-notes-grid').style.display = 'grid';
        }

        // --- FLASHCARDS ---
        function filterCards() {
            const cat = document.getElementById('fc-filter').value;
            if (cat === 'all') cards = [...flashcardsData];
            else cards = flashcardsData.filter(c => c.ch === cat);
            cIdx = 0; updateCard();
        }
        function updateCard() {
            if (cards.length === 0) return;
            const c = cards[cIdx];
            document.getElementById('fc-tag').innerText = c.ch.toUpperCase();
            document.getElementById('fc-front').innerText = c.f;
            document.getElementById('fc-back').innerText = c.b;
            document.getElementById('fc-count').innerText = `${cIdx + 1} / ${cards.length}`;
            document.querySelector('.flashcard').classList.remove('flipped');
        }
        function moveCard(dir) {
            cIdx = (cIdx + dir + cards.length) % cards.length;
            updateCard();
        }

        // --- QUIZ ---
        function loadQuiz() {
            if (qIdx >= quizData.length) {
                document.getElementById('quiz-container').innerHTML = `<h1 style="text-align:center;">🎉 Quiz Complete! <br>Score: ${qScore}/${quizData.length}</h1>`;
                return;
            }
            const q = quizData[qIdx];
            document.getElementById('q-text').innerText = q.q;
            document.getElementById('q-options').innerHTML = q.a.map((opt, i) => `
                <button class="quiz-opt" onclick="checkAnswer(this, ${i})">${opt}</button>
            `).join('');
            document.getElementById('q-next').style.display = 'none';
        }
        function checkAnswer(btn, i) {
            document.querySelectorAll('.quiz-opt').forEach(b => b.disabled = true);
            const q = quizData[qIdx];
            if (i === q.c) { btn.classList.add('correct'); qScore++; document.getElementById('q-score').innerText = qScore; }
            else { btn.classList.add('wrong'); document.querySelectorAll('.quiz-opt')[q.c].classList.add('correct'); }
            document.getElementById('q-next').style.display = 'block';
        }
        function nextQ() { qIdx++; loadQuiz(); }

        // --- TIMER LOGIC ---
        function toggleTimer() {
            if (isRunning) {
                clearInterval(timerInterval);
                document.getElementById('timerBtn').innerText = "Resume Focus";
                document.getElementById('timerBtn').classList.remove('btn-danger'); // Assuming you might have a danger class, otherwise simple text change
            } else {
                timerInterval = setInterval(() => {
                    timerTime--;
                    updateTimerDisplay();
                    if (timerTime <= 0) {
                        clearInterval(timerInterval);
                        isRunning = false;
                        document.getElementById('timerBtn').innerText = "Start Focus";
                        if (soundEnabled) document.getElementById('timerSound').play();
                        // Optional: Add a visual alarm
                        alert("Session Complete!");
                    }
                }, 1000);
                document.getElementById('timerBtn').innerText = "Pause";
            }
            isRunning = !isRunning;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            timerTime = 25 * 60;
            updateTimerDisplay();
            document.getElementById('timerBtn').innerText = "Start Focus";
        }

        function updateTimerDisplay() {
            const m = Math.floor(timerTime / 60);
            const s = timerTime % 60;
            document.getElementById('timer').innerText = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundBtn').innerText = soundEnabled ? "Sound: On" : "Sound: Off";
            document.getElementById('soundBtn').style.opacity = soundEnabled ? "1" : "0.5";
        }

        // --- CLOCK LOGIC ---
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const dateString = now.toLocaleDateString([], { weekday: 'long', month: 'short', day: 'numeric' });

            const clockEl = document.getElementById('live-clock');
            if (clockEl) {
                clockEl.innerHTML = `<div style="text-align:right; line-height:1.2;">
                    <div style="font-size:2rem; font-weight:700; color:white;">${timeString}</div>
                    <div style="font-size:0.9rem; color:var(--text-secondary); text-transform:uppercase; letter-spacing:1px;">${dateString}</div>
                </div>`;
            }
        }
        setInterval(updateClock, 1000); // Start clock ticker

        // --- EXAM COUNTDOWN ---
        function updateExamCountdown() {
            const exams = [
                { date: '2025-12-16', id: 'countdown-0' },
                { date: '2025-12-18', id: 'countdown-1' },
                { date: '2025-12-22', id: 'countdown-2' },
                { date: '2025-12-24', id: 'countdown-3' },
                { date: '2025-12-26', id: 'countdown-4' },
                { date: '2025-12-30', id: 'countdown-5' }
            ];

            const now = new Date();

            exams.forEach(ex => {
                const target = new Date(ex.date);
                const diffTime = target - now;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                const el = document.getElementById(ex.id);
                if (el) {
                    // Update Time Left
                    if (diffDays > 0) el.innerText = `${diffDays} Days`;
                    else if (diffDays === 0) el.innerText = "Today!";
                    else el.innerText = "Done";

                    // Update Status Column (Sibling)
                    const statusCell = el.nextElementSibling;
                    if (statusCell) {
                        if (diffDays < 0) {
                            statusCell.innerHTML = `<span style="color:#ef4444; font-weight:bold; opacity:1;">Passed</span>`;
                            el.style.color = "#64748b"; // Dim the 'Done' text
                        } else if (diffDays === 0) {
                            statusCell.innerHTML = `<span style="color:#10b981; font-weight:bold; opacity:1;">Active</span>`;
                            el.style.color = "#10b981";
                        } else {
                            statusCell.innerHTML = `<span style="opacity:0.3;">Upcoming</span>`;
                        }
                    }
                }
            });
        }



        function toggleMobileNav() {
            const sidebar = document.getElementById('mainSidebar');
            const overlay = document.getElementById('sidebarOverlay');

            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        // --- AI LAUNCHER LOGIC ---
        // --- AI LAUNCHER LOGIC ---
        
        // Add spinner animation style dynamically if not present
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        `;
        document.head.appendChild(styleSheet);



        // --- FOA MODULE LOGIC ---
        function switchFoaTab(tab, btn) {
            // Hide all tabs
            document.querySelectorAll('.foa-content').forEach(el => el.style.display = 'none');
            // Show target tab
            const target = document.getElementById('foa-tab-' + tab);
            if (target) target.style.display = 'block';

            // Reset buttons
            document.querySelectorAll('.foa-tab-btn').forEach(b => {
                b.classList.remove('btn-primary');
                b.style.opacity = '0.7'; 
            });
            
            // Highlight active button
            btn.classList.add('btn-primary');
            btn.style.opacity = '1';
        }

        function playVideo(videoId) {
            const player = document.getElementById('main-video-player');
            if (player) {
                player.src = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1';
            }
        }

        function toggleAnswer(button) {
            // Robustly find the answer div. 
            // It assumes structure: <button>...</button> <div class="answer">...</div>
            // nextElementSibling skips text nodes (newlines)
            const answer = button.nextElementSibling;
            
            if (answer && answer.classList.contains('answer')) {
                const isHidden = !answer.classList.contains('show');
                
                if (isHidden) {
                    answer.classList.add('show');
                    button.innerHTML = 'Hide Answer';
                    button.style.background = 'rgba(255,255,255,0.1)';
                    button.style.color = 'var(--text-muted)';
                } else {
                    answer.classList.remove('show');
                    button.innerHTML = 'Show Answer';
                    button.style.background = 'var(--brand-primary)';
                    button.style.color = '#000';
                }
            } else {
                console.error("Answer element not found next to button", button);
            }
        }
    </script>
</body>

</html>